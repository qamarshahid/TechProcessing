function Gg(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function Kg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Am={exports:{}},Mi={},Tm={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var en=Symbol.for("react.element"),Yg=Symbol.for("react.portal"),Qg=Symbol.for("react.fragment"),Xg=Symbol.for("react.strict_mode"),Jg=Symbol.for("react.profiler"),Zg=Symbol.for("react.provider"),ep=Symbol.for("react.context"),tp=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),sp=Symbol.for("react.memo"),ap=Symbol.for("react.lazy"),Kd=Symbol.iterator;function np(e){return e===null||typeof e!="object"?null:(e=Kd&&e[Kd]||e["@@iterator"],typeof e=="function"?e:null)}var Dm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lm=Object.assign,Im={};function Us(e,t,s){this.props=e,this.context=t,this.refs=Im,this.updater=s||Dm}Us.prototype.isReactComponent={};Us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mm(){}Mm.prototype=Us.prototype;function xc(e,t,s){this.props=e,this.context=t,this.refs=Im,this.updater=s||Dm}var fc=xc.prototype=new Mm;fc.constructor=xc;Lm(fc,Us.prototype);fc.isPureReactComponent=!0;var Yd=Array.isArray,Rm=Object.prototype.hasOwnProperty,gc={current:null},_m={key:!0,ref:!0,__self:!0,__source:!0};function Fm(e,t,s){var a,n={},i=null,l=null;if(t!=null)for(a in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Rm.call(t,a)&&!_m.hasOwnProperty(a)&&(n[a]=t[a]);var o=arguments.length-2;if(o===1)n.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)n[a]===void 0&&(n[a]=o[a]);return{$$typeof:en,type:e,key:i,ref:l,props:n,_owner:gc.current}}function ip(e,t){return{$$typeof:en,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pc(e){return typeof e=="object"&&e!==null&&e.$$typeof===en}function lp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Qd=/\/+/g;function al(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lp(""+e.key):t.toString(36)}function Mn(e,t,s,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case en:case Yg:l=!0}}if(l)return l=e,n=n(l),e=a===""?"."+al(l,0):a,Yd(n)?(s="",e!=null&&(s=e.replace(Qd,"$&/")+"/"),Mn(n,t,s,"",function(d){return d})):n!=null&&(pc(n)&&(n=ip(n,s+(!n.key||l&&l.key===n.key?"":(""+n.key).replace(Qd,"$&/")+"/")+e)),t.push(n)),1;if(l=0,a=a===""?".":a+":",Yd(e))for(var o=0;o<e.length;o++){i=e[o];var c=a+al(i,o);l+=Mn(i,t,s,c,n)}else if(c=np(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=a+al(i,o++),l+=Mn(i,t,s,c,n);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function hn(e,t,s){if(e==null)return e;var a=[],n=0;return Mn(e,a,"","",function(i){return t.call(s,i,n++)}),a}function op(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Rn={transition:null},cp={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Rn,ReactCurrentOwner:gc};function Om(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:hn,forEach:function(e,t,s){hn(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return hn(e,function(){t++}),t},toArray:function(e){return hn(e,function(t){return t})||[]},only:function(e){if(!pc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=Us;K.Fragment=Qg;K.Profiler=Jg;K.PureComponent=xc;K.StrictMode=Xg;K.Suspense=rp;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cp;K.act=Om;K.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Lm({},e.props),n=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=gc.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Rm.call(t,c)&&!_m.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:en,type:e.type,key:n,ref:i,props:a,_owner:l}};K.createContext=function(e){return e={$$typeof:ep,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zg,_context:e},e.Consumer=e};K.createElement=Fm;K.createFactory=function(e){var t=Fm.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:tp,render:e}};K.isValidElement=pc;K.lazy=function(e){return{$$typeof:ap,_payload:{_status:-1,_result:e},_init:op}};K.memo=function(e,t){return{$$typeof:sp,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=Rn.transition;Rn.transition={};try{e()}finally{Rn.transition=t}};K.unstable_act=Om;K.useCallback=function(e,t){return He.current.useCallback(e,t)};K.useContext=function(e){return He.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return He.current.useDeferredValue(e)};K.useEffect=function(e,t){return He.current.useEffect(e,t)};K.useId=function(){return He.current.useId()};K.useImperativeHandle=function(e,t,s){return He.current.useImperativeHandle(e,t,s)};K.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return He.current.useMemo(e,t)};K.useReducer=function(e,t,s){return He.current.useReducer(e,t,s)};K.useRef=function(e){return He.current.useRef(e)};K.useState=function(e){return He.current.useState(e)};K.useSyncExternalStore=function(e,t,s){return He.current.useSyncExternalStore(e,t,s)};K.useTransition=function(){return He.current.useTransition()};K.version="18.3.1";Tm.exports=K;var f=Tm.exports;const Vm=Kg(f),dp=Gg({__proto__:null,default:Vm},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up=f,mp=Symbol.for("react.element"),hp=Symbol.for("react.fragment"),xp=Object.prototype.hasOwnProperty,fp=up.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gp={key:!0,ref:!0,__self:!0,__source:!0};function Um(e,t,s){var a,n={},i=null,l=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(a in t)xp.call(t,a)&&!gp.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:mp,type:e,key:i,ref:l,props:n,_owner:fp.current}}Mi.Fragment=hp;Mi.jsx=Um;Mi.jsxs=Um;Am.exports=Mi;var r=Am.exports,$m={exports:{}},it={},zm={exports:{}},Bm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,D){var V=S.length;S.push(D);e:for(;0<V;){var I=V-1>>>1,U=S[I];if(0<n(U,D))S[I]=D,S[V]=U,V=I;else break e}}function s(S){return S.length===0?null:S[0]}function a(S){if(S.length===0)return null;var D=S[0],V=S.pop();if(V!==D){S[0]=V;e:for(var I=0,U=S.length,Q=U>>>1;I<Q;){var se=2*(I+1)-1,Dt=S[se],ot=se+1,$t=S[ot];if(0>n(Dt,V))ot<U&&0>n($t,Dt)?(S[I]=$t,S[ot]=V,I=ot):(S[I]=Dt,S[se]=V,I=se);else if(ot<U&&0>n($t,V))S[I]=$t,S[ot]=V,I=ot;else break e}}return D}function n(S,D){var V=S.sortIndex-D.sortIndex;return V!==0?V:S.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,h=3,x=!1,b=!1,v=!1,j=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(S){for(var D=s(d);D!==null;){if(D.callback===null)a(d);else if(D.startTime<=S)a(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=s(d)}}function w(S){if(v=!1,y(S),!b)if(s(c)!==null)b=!0,q(N);else{var D=s(d);D!==null&&R(w,D.startTime-S)}}function N(S,D){b=!1,v&&(v=!1,p(E),E=-1),x=!0;var V=h;try{for(y(D),m=s(c);m!==null&&(!(m.expirationTime>D)||S&&!T());){var I=m.callback;if(typeof I=="function"){m.callback=null,h=m.priorityLevel;var U=I(m.expirationTime<=D);D=e.unstable_now(),typeof U=="function"?m.callback=U:m===s(c)&&a(c),y(D)}else a(c);m=s(c)}if(m!==null)var Q=!0;else{var se=s(d);se!==null&&R(w,se.startTime-D),Q=!1}return Q}finally{m=null,h=V,x=!1}}var k=!1,C=null,E=-1,P=5,A=-1;function T(){return!(e.unstable_now()-A<P)}function L(){if(C!==null){var S=e.unstable_now();A=S;var D=!0;try{D=C(!0,S)}finally{D?z():(k=!1,C=null)}}else k=!1}var z;if(typeof g=="function")z=function(){g(L)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,M=G.port2;G.port1.onmessage=L,z=function(){M.postMessage(null)}}else z=function(){j(L,0)};function q(S){C=S,k||(k=!0,z())}function R(S,D){E=j(function(){S(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,q(N))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(S){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var V=h;h=D;try{return S()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,D){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var V=h;h=S;try{return D()}finally{h=V}},e.unstable_scheduleCallback=function(S,D,V){var I=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?I+V:I):V=I,S){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=V+U,S={id:u++,callback:D,priorityLevel:S,startTime:V,expirationTime:U,sortIndex:-1},V>I?(S.sortIndex=V,t(d,S),s(c)===null&&S===s(d)&&(v?(p(E),E=-1):v=!0,R(w,V-I))):(S.sortIndex=U,t(c,S),b||x||(b=!0,q(N))),S},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(S){var D=h;return function(){var V=h;h=D;try{return S.apply(this,arguments)}finally{h=V}}}})(Bm);zm.exports=Bm;var pp=zm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=f,at=pp;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hm=new Set,Ca={};function Jr(e,t){Ps(e,t),Ps(e+"Capture",t)}function Ps(e,t){for(Ca[e]=t,e=0;e<t.length;e++)Hm.add(t[e])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kl=Object.prototype.hasOwnProperty,bp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xd={},Jd={};function vp(e){return Kl.call(Jd,e)?!0:Kl.call(Xd,e)?!1:bp.test(e)?Jd[e]=!0:(Xd[e]=!0,!1)}function wp(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jp(e,t,s,a){if(t===null||typeof t>"u"||wp(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qe(e,t,s,a,n,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var yc=/[\-:]([a-z])/g;function bc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yc,bc);Le[t]=new qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yc,bc);Le[t]=new qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yc,bc);Le[t]=new qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function vc(e,t,s,a){var n=Le.hasOwnProperty(t)?Le[t]:null;(n!==null?n.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jp(t,s,n,a)&&(s=null),a||n===null?vp(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=s===null?n.type===3?!1:"":s:(t=n.attributeName,a=n.attributeNamespace,s===null?e.removeAttribute(t):(n=n.type,s=n===3||n===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var Zt=yp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xn=Symbol.for("react.element"),rs=Symbol.for("react.portal"),ss=Symbol.for("react.fragment"),wc=Symbol.for("react.strict_mode"),Yl=Symbol.for("react.profiler"),qm=Symbol.for("react.provider"),Wm=Symbol.for("react.context"),jc=Symbol.for("react.forward_ref"),Ql=Symbol.for("react.suspense"),Xl=Symbol.for("react.suspense_list"),Nc=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),Gm=Symbol.for("react.offscreen"),Zd=Symbol.iterator;function Xs(e){return e===null||typeof e!="object"?null:(e=Zd&&e[Zd]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,nl;function ia(e){if(nl===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);nl=t&&t[1]||""}return`
`+nl+e}var il=!1;function ll(e,t){if(!e||il)return"";il=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var a=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){a=d}e.call(t.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),i=a.stack.split(`
`),l=n.length-1,o=i.length-1;1<=l&&0<=o&&n[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(n[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||n[l]!==i[o]){var c=`
`+n[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{il=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?ia(e):""}function Np(e){switch(e.tag){case 5:return ia(e.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 2:case 15:return e=ll(e.type,!1),e;case 11:return e=ll(e.type.render,!1),e;case 1:return e=ll(e.type,!0),e;default:return""}}function Jl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ss:return"Fragment";case rs:return"Portal";case Yl:return"Profiler";case wc:return"StrictMode";case Ql:return"Suspense";case Xl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wm:return(e.displayName||"Context")+".Consumer";case qm:return(e._context.displayName||"Context")+".Provider";case jc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nc:return t=e.displayName||null,t!==null?t:Jl(e.type)||"Memo";case sr:t=e._payload,e=e._init;try{return Jl(e(t))}catch{}}return null}function kp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jl(t);case 8:return t===wc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Km(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sp(e){var t=Km(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(l){a=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fn(e){e._valueTracker||(e._valueTracker=Sp(e))}function Ym(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=Km(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function Qn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zl(e,t){var s=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function eu(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=wr(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qm(e,t){t=t.checked,t!=null&&vc(e,"checked",t,!1)}function eo(e,t){Qm(e,t);var s=wr(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?to(e,t.type,s):t.hasOwnProperty("defaultValue")&&to(e,t.type,wr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tu(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function to(e,t,s){(t!=="number"||Qn(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var la=Array.isArray;function vs(e,t,s,a){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&a&&(e[s].defaultSelected=!0)}else{for(s=""+wr(s),t=null,n=0;n<e.length;n++){if(e[n].value===s){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function ro(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ru(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(F(92));if(la(s)){if(1<s.length)throw Error(F(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:wr(s)}}function Xm(e,t){var s=wr(t.value),a=wr(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function su(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function so(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gn,Zm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,n){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gn=gn||document.createElement("div"),gn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ea(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cp=["Webkit","ms","Moz","O"];Object.keys(ua).forEach(function(e){Cp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ua[t]=ua[e]})});function eh(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||ua.hasOwnProperty(e)&&ua[e]?(""+t).trim():t+"px"}function th(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,n=eh(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,n):e[s]=n}}var Ep=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ao(e,t){if(t){if(Ep[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function no(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var io=null;function kc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lo=null,ws=null,js=null;function au(e){if(e=sn(e)){if(typeof lo!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Vi(t),lo(e.stateNode,e.type,t))}}function rh(e){ws?js?js.push(e):js=[e]:ws=e}function sh(){if(ws){var e=ws,t=js;if(js=ws=null,au(e),t)for(e=0;e<t.length;e++)au(t[e])}}function ah(e,t){return e(t)}function nh(){}var ol=!1;function ih(e,t,s){if(ol)return e(t,s);ol=!0;try{return ah(e,t,s)}finally{ol=!1,(ws!==null||js!==null)&&(nh(),sh())}}function Pa(e,t){var s=e.stateNode;if(s===null)return null;var a=Vi(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(F(231,t,typeof s));return s}var oo=!1;if(Gt)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){oo=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{oo=!1}function Pp(e,t,s,a,n,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var ma=!1,Xn=null,Jn=!1,co=null,Ap={onError:function(e){ma=!0,Xn=e}};function Tp(e,t,s,a,n,i,l,o,c){ma=!1,Xn=null,Pp.apply(Ap,arguments)}function Dp(e,t,s,a,n,i,l,o,c){if(Tp.apply(this,arguments),ma){if(ma){var d=Xn;ma=!1,Xn=null}else throw Error(F(198));Jn||(Jn=!0,co=d)}}function Zr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function lh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nu(e){if(Zr(e)!==e)throw Error(F(188))}function Lp(e){var t=e.alternate;if(!t){if(t=Zr(e),t===null)throw Error(F(188));return t!==e?null:e}for(var s=e,a=t;;){var n=s.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){s=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return nu(n),e;if(i===a)return nu(n),t;i=i.sibling}throw Error(F(188))}if(s.return!==a.return)s=n,a=i;else{for(var l=!1,o=n.child;o;){if(o===s){l=!0,s=n,a=i;break}if(o===a){l=!0,a=n,s=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===s){l=!0,s=i,a=n;break}if(o===a){l=!0,a=i,s=n;break}o=o.sibling}if(!l)throw Error(F(189))}}if(s.alternate!==a)throw Error(F(190))}if(s.tag!==3)throw Error(F(188));return s.stateNode.current===s?e:t}function oh(e){return e=Lp(e),e!==null?ch(e):null}function ch(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ch(e);if(t!==null)return t;e=e.sibling}return null}var dh=at.unstable_scheduleCallback,iu=at.unstable_cancelCallback,Ip=at.unstable_shouldYield,Mp=at.unstable_requestPaint,ye=at.unstable_now,Rp=at.unstable_getCurrentPriorityLevel,Sc=at.unstable_ImmediatePriority,uh=at.unstable_UserBlockingPriority,Zn=at.unstable_NormalPriority,_p=at.unstable_LowPriority,mh=at.unstable_IdlePriority,Ri=null,Rt=null;function Fp(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Ri,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Up,Op=Math.log,Vp=Math.LN2;function Up(e){return e>>>=0,e===0?32:31-(Op(e)/Vp|0)|0}var pn=64,yn=4194304;function oa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ei(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,l=s&268435455;if(l!==0){var o=l&~n;o!==0?a=oa(o):(i&=l,i!==0&&(a=oa(i)))}else l=s&~n,l!==0?a=oa(l):i!==0&&(a=oa(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&n)&&(n=a&-a,i=t&-t,n>=i||n===16&&(i&4194240)!==0))return t;if(a&4&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-St(t),n=1<<s,a|=e[s],t&=~n;return a}function $p(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zp(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-St(i),o=1<<l,c=n[l];c===-1?(!(o&s)||o&a)&&(n[l]=$p(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function uo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hh(){var e=pn;return pn<<=1,!(pn&4194240)&&(pn=64),e}function cl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function tn(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=s}function Bp(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-St(s),i=1<<n;t[n]=0,a[n]=-1,e[n]=-1,s&=~i}}function Cc(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-St(s),n=1<<a;n&t|e[a]&t&&(e[a]|=t),s&=~n}}var X=0;function xh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fh,Ec,gh,ph,yh,mo=!1,bn=[],ur=null,mr=null,hr=null,Aa=new Map,Ta=new Map,nr=[],Hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lu(e,t){switch(e){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Aa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(t.pointerId)}}function Zs(e,t,s,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=sn(t),t!==null&&Ec(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function qp(e,t,s,a,n){switch(t){case"focusin":return ur=Zs(ur,e,t,s,a,n),!0;case"dragenter":return mr=Zs(mr,e,t,s,a,n),!0;case"mouseover":return hr=Zs(hr,e,t,s,a,n),!0;case"pointerover":var i=n.pointerId;return Aa.set(i,Zs(Aa.get(i)||null,e,t,s,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Ta.set(i,Zs(Ta.get(i)||null,e,t,s,a,n)),!0}return!1}function bh(e){var t=_r(e.target);if(t!==null){var s=Zr(t);if(s!==null){if(t=s.tag,t===13){if(t=lh(s),t!==null){e.blockedOn=t,yh(e.priority,function(){gh(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _n(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=ho(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);io=a,s.target.dispatchEvent(a),io=null}else return t=sn(s),t!==null&&Ec(t),e.blockedOn=s,!1;t.shift()}return!0}function ou(e,t,s){_n(e)&&s.delete(t)}function Wp(){mo=!1,ur!==null&&_n(ur)&&(ur=null),mr!==null&&_n(mr)&&(mr=null),hr!==null&&_n(hr)&&(hr=null),Aa.forEach(ou),Ta.forEach(ou)}function ea(e,t){e.blockedOn===t&&(e.blockedOn=null,mo||(mo=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,Wp)))}function Da(e){function t(n){return ea(n,e)}if(0<bn.length){ea(bn[0],e);for(var s=1;s<bn.length;s++){var a=bn[s];a.blockedOn===e&&(a.blockedOn=null)}}for(ur!==null&&ea(ur,e),mr!==null&&ea(mr,e),hr!==null&&ea(hr,e),Aa.forEach(t),Ta.forEach(t),s=0;s<nr.length;s++)a=nr[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<nr.length&&(s=nr[0],s.blockedOn===null);)bh(s),s.blockedOn===null&&nr.shift()}var Ns=Zt.ReactCurrentBatchConfig,ti=!0;function Gp(e,t,s,a){var n=X,i=Ns.transition;Ns.transition=null;try{X=1,Pc(e,t,s,a)}finally{X=n,Ns.transition=i}}function Kp(e,t,s,a){var n=X,i=Ns.transition;Ns.transition=null;try{X=4,Pc(e,t,s,a)}finally{X=n,Ns.transition=i}}function Pc(e,t,s,a){if(ti){var n=ho(e,t,s,a);if(n===null)bl(e,t,a,ri,s),lu(e,a);else if(qp(n,e,t,s,a))a.stopPropagation();else if(lu(e,a),t&4&&-1<Hp.indexOf(e)){for(;n!==null;){var i=sn(n);if(i!==null&&fh(i),i=ho(e,t,s,a),i===null&&bl(e,t,a,ri,s),i===n)break;n=i}n!==null&&a.stopPropagation()}else bl(e,t,a,null,s)}}var ri=null;function ho(e,t,s,a){if(ri=null,e=kc(a),e=_r(e),e!==null)if(t=Zr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=lh(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ri=e,null}function vh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rp()){case Sc:return 1;case uh:return 4;case Zn:case _p:return 16;case mh:return 536870912;default:return 16}default:return 16}}var lr=null,Ac=null,Fn=null;function wh(){if(Fn)return Fn;var e,t=Ac,s=t.length,a,n="value"in lr?lr.value:lr.textContent,i=n.length;for(e=0;e<s&&t[e]===n[e];e++);var l=s-e;for(a=1;a<=l&&t[s-a]===n[i-a];a++);return Fn=n.slice(e,1<a?1-a:void 0)}function On(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vn(){return!0}function cu(){return!1}function lt(e){function t(s,a,n,i,l){this._reactName=s,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vn:cu,this.isPropagationStopped=cu,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=vn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=vn)},persist:function(){},isPersistent:vn}),t}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tc=lt($s),rn=me({},$s,{view:0,detail:0}),Yp=lt(rn),dl,ul,ta,_i=me({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ta&&(ta&&e.type==="mousemove"?(dl=e.screenX-ta.screenX,ul=e.screenY-ta.screenY):ul=dl=0,ta=e),dl)},movementY:function(e){return"movementY"in e?e.movementY:ul}}),du=lt(_i),Qp=me({},_i,{dataTransfer:0}),Xp=lt(Qp),Jp=me({},rn,{relatedTarget:0}),ml=lt(Jp),Zp=me({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),ey=lt(Zp),ty=me({},$s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ry=lt(ty),sy=me({},$s,{data:0}),uu=lt(sy),ay={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ny={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ly(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iy[e])?!!t[e]:!1}function Dc(){return ly}var oy=me({},rn,{key:function(e){if(e.key){var t=ay[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=On(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ny[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dc,charCode:function(e){return e.type==="keypress"?On(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?On(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cy=lt(oy),dy=me({},_i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mu=lt(dy),uy=me({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dc}),my=lt(uy),hy=me({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),xy=lt(hy),fy=me({},_i,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gy=lt(fy),py=[9,13,27,32],Lc=Gt&&"CompositionEvent"in window,ha=null;Gt&&"documentMode"in document&&(ha=document.documentMode);var yy=Gt&&"TextEvent"in window&&!ha,jh=Gt&&(!Lc||ha&&8<ha&&11>=ha),hu=" ",xu=!1;function Nh(e,t){switch(e){case"keyup":return py.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var as=!1;function by(e,t){switch(e){case"compositionend":return kh(t);case"keypress":return t.which!==32?null:(xu=!0,hu);case"textInput":return e=t.data,e===hu&&xu?null:e;default:return null}}function vy(e,t){if(as)return e==="compositionend"||!Lc&&Nh(e,t)?(e=wh(),Fn=Ac=lr=null,as=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jh&&t.locale!=="ko"?null:t.data;default:return null}}var wy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wy[e.type]:t==="textarea"}function Sh(e,t,s,a){rh(a),t=si(t,"onChange"),0<t.length&&(s=new Tc("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var xa=null,La=null;function jy(e){_h(e,0)}function Fi(e){var t=ls(e);if(Ym(t))return e}function Ny(e,t){if(e==="change")return t}var Ch=!1;if(Gt){var hl;if(Gt){var xl="oninput"in document;if(!xl){var gu=document.createElement("div");gu.setAttribute("oninput","return;"),xl=typeof gu.oninput=="function"}hl=xl}else hl=!1;Ch=hl&&(!document.documentMode||9<document.documentMode)}function pu(){xa&&(xa.detachEvent("onpropertychange",Eh),La=xa=null)}function Eh(e){if(e.propertyName==="value"&&Fi(La)){var t=[];Sh(t,La,e,kc(e)),ih(jy,t)}}function ky(e,t,s){e==="focusin"?(pu(),xa=t,La=s,xa.attachEvent("onpropertychange",Eh)):e==="focusout"&&pu()}function Sy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fi(La)}function Cy(e,t){if(e==="click")return Fi(t)}function Ey(e,t){if(e==="input"||e==="change")return Fi(t)}function Py(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:Py;function Ia(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var n=s[a];if(!Kl.call(t,n)||!Pt(e[n],t[n]))return!1}return!0}function yu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bu(e,t){var s=yu(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=yu(s)}}function Ph(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ph(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ah(){for(var e=window,t=Qn();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Qn(e.document)}return t}function Ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ay(e){var t=Ah(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Ph(s.ownerDocument.documentElement,s)){if(a!==null&&Ic(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=s.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=bu(s,i);var l=bu(s,a);n&&l&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ty=Gt&&"documentMode"in document&&11>=document.documentMode,ns=null,xo=null,fa=null,fo=!1;function vu(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;fo||ns==null||ns!==Qn(a)||(a=ns,"selectionStart"in a&&Ic(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),fa&&Ia(fa,a)||(fa=a,a=si(xo,"onSelect"),0<a.length&&(t=new Tc("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=ns)))}function wn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var is={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},fl={},Th={};Gt&&(Th=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function Oi(e){if(fl[e])return fl[e];if(!is[e])return e;var t=is[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Th)return fl[e]=t[s];return e}var Dh=Oi("animationend"),Lh=Oi("animationiteration"),Ih=Oi("animationstart"),Mh=Oi("transitionend"),Rh=new Map,wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){Rh.set(e,t),Jr(t,[e])}for(var gl=0;gl<wu.length;gl++){var pl=wu[gl],Dy=pl.toLowerCase(),Ly=pl[0].toUpperCase()+pl.slice(1);Sr(Dy,"on"+Ly)}Sr(Dh,"onAnimationEnd");Sr(Lh,"onAnimationIteration");Sr(Ih,"onAnimationStart");Sr("dblclick","onDoubleClick");Sr("focusin","onFocus");Sr("focusout","onBlur");Sr(Mh,"onTransitionEnd");Ps("onMouseEnter",["mouseout","mouseover"]);Ps("onMouseLeave",["mouseout","mouseover"]);Ps("onPointerEnter",["pointerout","pointerover"]);Ps("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function ju(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,Dp(a,t,void 0,e),e.currentTarget=null}function _h(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var l=a.length-1;0<=l;l--){var o=a[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&n.isPropagationStopped())break e;ju(n,o,d),i=c}else for(l=0;l<a.length;l++){if(o=a[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&n.isPropagationStopped())break e;ju(n,o,d),i=c}}}if(Jn)throw e=co,Jn=!1,co=null,e}function ae(e,t){var s=t[vo];s===void 0&&(s=t[vo]=new Set);var a=e+"__bubble";s.has(a)||(Fh(t,e,2,!1),s.add(a))}function yl(e,t,s){var a=0;t&&(a|=4),Fh(s,e,a,t)}var jn="_reactListening"+Math.random().toString(36).slice(2);function Ma(e){if(!e[jn]){e[jn]=!0,Hm.forEach(function(s){s!=="selectionchange"&&(Iy.has(s)||yl(s,!1,e),yl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jn]||(t[jn]=!0,yl("selectionchange",!1,t))}}function Fh(e,t,s,a){switch(vh(t)){case 1:var n=Gp;break;case 4:n=Kp;break;default:n=Pc}s=n.bind(null,t,s,e),n=void 0,!oo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):n!==void 0?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function bl(e,t,s,a,n){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var o=a.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(l===4)for(l=a.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;l=l.return}for(;o!==null;){if(l=_r(o),l===null)return;if(c=l.tag,c===5||c===6){a=i=l;continue e}o=o.parentNode}}a=a.return}ih(function(){var d=i,u=kc(s),m=[];e:{var h=Rh.get(e);if(h!==void 0){var x=Tc,b=e;switch(e){case"keypress":if(On(s)===0)break e;case"keydown":case"keyup":x=cy;break;case"focusin":b="focus",x=ml;break;case"focusout":b="blur",x=ml;break;case"beforeblur":case"afterblur":x=ml;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=my;break;case Dh:case Lh:case Ih:x=ey;break;case Mh:x=xy;break;case"scroll":x=Yp;break;case"wheel":x=gy;break;case"copy":case"cut":case"paste":x=ry;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=mu}var v=(t&4)!==0,j=!v&&e==="scroll",p=v?h!==null?h+"Capture":null:h;v=[];for(var g=d,y;g!==null;){y=g;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,p!==null&&(w=Pa(g,p),w!=null&&v.push(Ra(g,w,y)))),j)break;g=g.return}0<v.length&&(h=new x(h,b,null,s,u),m.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",h&&s!==io&&(b=s.relatedTarget||s.fromElement)&&(_r(b)||b[Kt]))break e;if((x||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,x?(b=s.relatedTarget||s.toElement,x=d,b=b?_r(b):null,b!==null&&(j=Zr(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=d),x!==b)){if(v=du,w="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=mu,w="onPointerLeave",p="onPointerEnter",g="pointer"),j=x==null?h:ls(x),y=b==null?h:ls(b),h=new v(w,g+"leave",x,s,u),h.target=j,h.relatedTarget=y,w=null,_r(u)===d&&(v=new v(p,g+"enter",b,s,u),v.target=y,v.relatedTarget=j,w=v),j=w,x&&b)t:{for(v=x,p=b,g=0,y=v;y;y=ts(y))g++;for(y=0,w=p;w;w=ts(w))y++;for(;0<g-y;)v=ts(v),g--;for(;0<y-g;)p=ts(p),y--;for(;g--;){if(v===p||p!==null&&v===p.alternate)break t;v=ts(v),p=ts(p)}v=null}else v=null;x!==null&&Nu(m,h,x,v,!1),b!==null&&j!==null&&Nu(m,j,b,v,!0)}}e:{if(h=d?ls(d):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var N=Ny;else if(fu(h))if(Ch)N=Ey;else{N=Sy;var k=ky}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=Cy);if(N&&(N=N(e,d))){Sh(m,N,s,u);break e}k&&k(e,h,d),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&to(h,"number",h.value)}switch(k=d?ls(d):window,e){case"focusin":(fu(k)||k.contentEditable==="true")&&(ns=k,xo=d,fa=null);break;case"focusout":fa=xo=ns=null;break;case"mousedown":fo=!0;break;case"contextmenu":case"mouseup":case"dragend":fo=!1,vu(m,s,u);break;case"selectionchange":if(Ty)break;case"keydown":case"keyup":vu(m,s,u)}var C;if(Lc)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else as?Nh(e,s)&&(E="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(E="onCompositionStart");E&&(jh&&s.locale!=="ko"&&(as||E!=="onCompositionStart"?E==="onCompositionEnd"&&as&&(C=wh()):(lr=u,Ac="value"in lr?lr.value:lr.textContent,as=!0)),k=si(d,E),0<k.length&&(E=new uu(E,e,null,s,u),m.push({event:E,listeners:k}),C?E.data=C:(C=kh(s),C!==null&&(E.data=C)))),(C=yy?by(e,s):vy(e,s))&&(d=si(d,"onBeforeInput"),0<d.length&&(u=new uu("onBeforeInput","beforeinput",null,s,u),m.push({event:u,listeners:d}),u.data=C))}_h(m,t)})}function Ra(e,t,s){return{instance:e,listener:t,currentTarget:s}}function si(e,t){for(var s=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=Pa(e,s),i!=null&&a.unshift(Ra(e,i,n)),i=Pa(e,t),i!=null&&a.push(Ra(e,i,n))),e=e.return}return a}function ts(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nu(e,t,s,a,n){for(var i=t._reactName,l=[];s!==null&&s!==a;){var o=s,c=o.alternate,d=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&d!==null&&(o=d,n?(c=Pa(s,i),c!=null&&l.unshift(Ra(s,c,o))):n||(c=Pa(s,i),c!=null&&l.push(Ra(s,c,o)))),s=s.return}l.length!==0&&e.push({event:t,listeners:l})}var My=/\r\n?/g,Ry=/\u0000|\uFFFD/g;function ku(e){return(typeof e=="string"?e:""+e).replace(My,`
`).replace(Ry,"")}function Nn(e,t,s){if(t=ku(t),ku(e)!==t&&s)throw Error(F(425))}function ai(){}var go=null,po=null;function yo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bo=typeof setTimeout=="function"?setTimeout:void 0,_y=typeof clearTimeout=="function"?clearTimeout:void 0,Su=typeof Promise=="function"?Promise:void 0,Fy=typeof queueMicrotask=="function"?queueMicrotask:typeof Su<"u"?function(e){return Su.resolve(null).then(e).catch(Oy)}:bo;function Oy(e){setTimeout(function(){throw e})}function vl(e,t){var s=t,a=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(a===0){e.removeChild(n),Da(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=n}while(s);Da(t)}function xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var zs=Math.random().toString(36).slice(2),Mt="__reactFiber$"+zs,_a="__reactProps$"+zs,Kt="__reactContainer$"+zs,vo="__reactEvents$"+zs,Vy="__reactListeners$"+zs,Uy="__reactHandles$"+zs;function _r(e){var t=e[Mt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Kt]||s[Mt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Cu(e);e!==null;){if(s=e[Mt])return s;e=Cu(e)}return t}e=s,s=e.parentNode}return null}function sn(e){return e=e[Mt]||e[Kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ls(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Vi(e){return e[_a]||null}var wo=[],os=-1;function Cr(e){return{current:e}}function ne(e){0>os||(e.current=wo[os],wo[os]=null,os--)}function re(e,t){os++,wo[os]=e.current,e.current=t}var jr={},Ve=Cr(jr),Ye=Cr(!1),qr=jr;function As(e,t){var s=e.type.contextTypes;if(!s)return jr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in s)n[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Qe(e){return e=e.childContextTypes,e!=null}function ni(){ne(Ye),ne(Ve)}function Eu(e,t,s){if(Ve.current!==jr)throw Error(F(168));re(Ve,t),re(Ye,s)}function Oh(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var n in a)if(!(n in t))throw Error(F(108,kp(e)||"Unknown",n));return me({},s,a)}function ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jr,qr=Ve.current,re(Ve,e),re(Ye,Ye.current),!0}function Pu(e,t,s){var a=e.stateNode;if(!a)throw Error(F(169));s?(e=Oh(e,t,qr),a.__reactInternalMemoizedMergedChildContext=e,ne(Ye),ne(Ve),re(Ve,e)):ne(Ye),re(Ye,s)}var Bt=null,Ui=!1,wl=!1;function Vh(e){Bt===null?Bt=[e]:Bt.push(e)}function $y(e){Ui=!0,Vh(e)}function Er(){if(!wl&&Bt!==null){wl=!0;var e=0,t=X;try{var s=Bt;for(X=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}Bt=null,Ui=!1}catch(n){throw Bt!==null&&(Bt=Bt.slice(e+1)),dh(Sc,Er),n}finally{X=t,wl=!1}}return null}var cs=[],ds=0,li=null,oi=0,ut=[],mt=0,Wr=null,Ht=1,qt="";function Lr(e,t){cs[ds++]=oi,cs[ds++]=li,li=e,oi=t}function Uh(e,t,s){ut[mt++]=Ht,ut[mt++]=qt,ut[mt++]=Wr,Wr=e;var a=Ht;e=qt;var n=32-St(a)-1;a&=~(1<<n),s+=1;var i=32-St(t)+n;if(30<i){var l=n-n%5;i=(a&(1<<l)-1).toString(32),a>>=l,n-=l,Ht=1<<32-St(t)+n|s<<n|a,qt=i+e}else Ht=1<<i|s<<n|a,qt=e}function Mc(e){e.return!==null&&(Lr(e,1),Uh(e,1,0))}function Rc(e){for(;e===li;)li=cs[--ds],cs[ds]=null,oi=cs[--ds],cs[ds]=null;for(;e===Wr;)Wr=ut[--mt],ut[mt]=null,qt=ut[--mt],ut[mt]=null,Ht=ut[--mt],ut[mt]=null}var rt=null,tt=null,le=!1,kt=null;function $h(e,t){var s=ht(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Au(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rt=e,tt=xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rt=e,tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Wr!==null?{id:Ht,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=ht(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,rt=e,tt=null,!0):!1;default:return!1}}function jo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function No(e){if(le){var t=tt;if(t){var s=t;if(!Au(e,t)){if(jo(e))throw Error(F(418));t=xr(s.nextSibling);var a=rt;t&&Au(e,t)?$h(a,s):(e.flags=e.flags&-4097|2,le=!1,rt=e)}}else{if(jo(e))throw Error(F(418));e.flags=e.flags&-4097|2,le=!1,rt=e}}}function Tu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rt=e}function kn(e){if(e!==rt)return!1;if(!le)return Tu(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yo(e.type,e.memoizedProps)),t&&(t=tt)){if(jo(e))throw zh(),Error(F(418));for(;t;)$h(e,t),t=xr(t.nextSibling)}if(Tu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){tt=xr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}tt=null}}else tt=rt?xr(e.stateNode.nextSibling):null;return!0}function zh(){for(var e=tt;e;)e=xr(e.nextSibling)}function Ts(){tt=rt=null,le=!1}function _c(e){kt===null?kt=[e]:kt.push(e)}var zy=Zt.ReactCurrentBatchConfig;function ra(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(F(309));var a=s.stateNode}if(!a)throw Error(F(147,e));var n=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=n.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!s._owner)throw Error(F(290,e))}return e}function Sn(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Du(e){var t=e._init;return t(e._payload)}function Bh(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function s(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function a(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function n(p,g){return p=yr(p,g),p.index=0,p.sibling=null,p}function i(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=2,g):y):(p.flags|=2,g)):(p.flags|=1048576,g)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,g,y,w){return g===null||g.tag!==6?(g=Pl(y,p.mode,w),g.return=p,g):(g=n(g,y),g.return=p,g)}function c(p,g,y,w){var N=y.type;return N===ss?u(p,g,y.props.children,w,y.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===sr&&Du(N)===g.type)?(w=n(g,y.props),w.ref=ra(p,g,y),w.return=p,w):(w=qn(y.type,y.key,y.props,null,p.mode,w),w.ref=ra(p,g,y),w.return=p,w)}function d(p,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Al(y,p.mode,w),g.return=p,g):(g=n(g,y.children||[]),g.return=p,g)}function u(p,g,y,w,N){return g===null||g.tag!==7?(g=zr(y,p.mode,w,N),g.return=p,g):(g=n(g,y),g.return=p,g)}function m(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Pl(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xn:return y=qn(g.type,g.key,g.props,null,p.mode,y),y.ref=ra(p,null,g),y.return=p,y;case rs:return g=Al(g,p.mode,y),g.return=p,g;case sr:var w=g._init;return m(p,w(g._payload),y)}if(la(g)||Xs(g))return g=zr(g,p.mode,y,null),g.return=p,g;Sn(p,g)}return null}function h(p,g,y,w){var N=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:o(p,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xn:return y.key===N?c(p,g,y,w):null;case rs:return y.key===N?d(p,g,y,w):null;case sr:return N=y._init,h(p,g,N(y._payload),w)}if(la(y)||Xs(y))return N!==null?null:u(p,g,y,w,null);Sn(p,y)}return null}function x(p,g,y,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(y)||null,o(g,p,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xn:return p=p.get(w.key===null?y:w.key)||null,c(g,p,w,N);case rs:return p=p.get(w.key===null?y:w.key)||null,d(g,p,w,N);case sr:var k=w._init;return x(p,g,y,k(w._payload),N)}if(la(w)||Xs(w))return p=p.get(y)||null,u(g,p,w,N,null);Sn(g,w)}return null}function b(p,g,y,w){for(var N=null,k=null,C=g,E=g=0,P=null;C!==null&&E<y.length;E++){C.index>E?(P=C,C=null):P=C.sibling;var A=h(p,C,y[E],w);if(A===null){C===null&&(C=P);break}e&&C&&A.alternate===null&&t(p,C),g=i(A,g,E),k===null?N=A:k.sibling=A,k=A,C=P}if(E===y.length)return s(p,C),le&&Lr(p,E),N;if(C===null){for(;E<y.length;E++)C=m(p,y[E],w),C!==null&&(g=i(C,g,E),k===null?N=C:k.sibling=C,k=C);return le&&Lr(p,E),N}for(C=a(p,C);E<y.length;E++)P=x(C,p,E,y[E],w),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?E:P.key),g=i(P,g,E),k===null?N=P:k.sibling=P,k=P);return e&&C.forEach(function(T){return t(p,T)}),le&&Lr(p,E),N}function v(p,g,y,w){var N=Xs(y);if(typeof N!="function")throw Error(F(150));if(y=N.call(y),y==null)throw Error(F(151));for(var k=N=null,C=g,E=g=0,P=null,A=y.next();C!==null&&!A.done;E++,A=y.next()){C.index>E?(P=C,C=null):P=C.sibling;var T=h(p,C,A.value,w);if(T===null){C===null&&(C=P);break}e&&C&&T.alternate===null&&t(p,C),g=i(T,g,E),k===null?N=T:k.sibling=T,k=T,C=P}if(A.done)return s(p,C),le&&Lr(p,E),N;if(C===null){for(;!A.done;E++,A=y.next())A=m(p,A.value,w),A!==null&&(g=i(A,g,E),k===null?N=A:k.sibling=A,k=A);return le&&Lr(p,E),N}for(C=a(p,C);!A.done;E++,A=y.next())A=x(C,p,E,A.value,w),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?E:A.key),g=i(A,g,E),k===null?N=A:k.sibling=A,k=A);return e&&C.forEach(function(L){return t(p,L)}),le&&Lr(p,E),N}function j(p,g,y,w){if(typeof y=="object"&&y!==null&&y.type===ss&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case xn:e:{for(var N=y.key,k=g;k!==null;){if(k.key===N){if(N=y.type,N===ss){if(k.tag===7){s(p,k.sibling),g=n(k,y.props.children),g.return=p,p=g;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===sr&&Du(N)===k.type){s(p,k.sibling),g=n(k,y.props),g.ref=ra(p,k,y),g.return=p,p=g;break e}s(p,k);break}else t(p,k);k=k.sibling}y.type===ss?(g=zr(y.props.children,p.mode,w,y.key),g.return=p,p=g):(w=qn(y.type,y.key,y.props,null,p.mode,w),w.ref=ra(p,g,y),w.return=p,p=w)}return l(p);case rs:e:{for(k=y.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){s(p,g.sibling),g=n(g,y.children||[]),g.return=p,p=g;break e}else{s(p,g);break}else t(p,g);g=g.sibling}g=Al(y,p.mode,w),g.return=p,p=g}return l(p);case sr:return k=y._init,j(p,g,k(y._payload),w)}if(la(y))return b(p,g,y,w);if(Xs(y))return v(p,g,y,w);Sn(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(s(p,g.sibling),g=n(g,y),g.return=p,p=g):(s(p,g),g=Pl(y,p.mode,w),g.return=p,p=g),l(p)):s(p,g)}return j}var Ds=Bh(!0),Hh=Bh(!1),ci=Cr(null),di=null,us=null,Fc=null;function Oc(){Fc=us=di=null}function Vc(e){var t=ci.current;ne(ci),e._currentValue=t}function ko(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function ks(e,t){di=e,Fc=us=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(Fc!==e)if(e={context:e,memoizedValue:t,next:null},us===null){if(di===null)throw Error(F(308));us=e,di.dependencies={lanes:0,firstContext:e}}else us=us.next=e;return t}var Fr=null;function Uc(e){Fr===null?Fr=[e]:Fr.push(e)}function qh(e,t,s,a){var n=t.interleaved;return n===null?(s.next=s,Uc(t)):(s.next=n.next,n.next=s),t.interleaved=s,Yt(e,a)}function Yt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var ar=!1;function $c(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fr(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Y&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,Yt(e,s)}return n=a.interleaved,n===null?(t.next=t,Uc(a)):(t.next=n.next,n.next=t),a.interleaved=t,Yt(e,s)}function Vn(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Cc(e,s)}}function Lu(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var n=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?n=i=l:i=i.next=l,s=s.next}while(s!==null);i===null?n=i=t:i=i.next=t}else n=i=t;s={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function ui(e,t,s,a){var n=e.updateQueue;ar=!1;var i=n.firstBaseUpdate,l=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=n.baseState;l=0,u=d=c=null,o=i;do{var h=o.lane,x=o.eventTime;if((a&h)===h){u!==null&&(u=u.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=e,v=o;switch(h=t,x=s,v.tag){case 1:if(b=v.payload,typeof b=="function"){m=b.call(x,m,h);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,h=typeof b=="function"?b.call(x,m,h):b,h==null)break e;m=me({},m,h);break e;case 2:ar=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=n.effects,h===null?n.effects=[o]:h.push(o))}else x={eventTime:x,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=x,c=m):u=u.next=x,l|=h;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;h=o,o=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(!0);if(u===null&&(c=m),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do l|=n.lane,n=n.next;while(n!==t)}else i===null&&(n.shared.lanes=0);Kr|=l,e.lanes=l,e.memoizedState=m}}function Iu(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(n!==null){if(a.callback=null,a=s,typeof n!="function")throw Error(F(191,n));n.call(a)}}}var an={},_t=Cr(an),Fa=Cr(an),Oa=Cr(an);function Or(e){if(e===an)throw Error(F(174));return e}function zc(e,t){switch(re(Oa,t),re(Fa,e),re(_t,an),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:so(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=so(t,e)}ne(_t),re(_t,t)}function Ls(){ne(_t),ne(Fa),ne(Oa)}function Gh(e){Or(Oa.current);var t=Or(_t.current),s=so(t,e.type);t!==s&&(re(Fa,e),re(_t,s))}function Bc(e){Fa.current===e&&(ne(_t),ne(Fa))}var ce=Cr(0);function mi(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jl=[];function Hc(){for(var e=0;e<jl.length;e++)jl[e]._workInProgressVersionPrimary=null;jl.length=0}var Un=Zt.ReactCurrentDispatcher,Nl=Zt.ReactCurrentBatchConfig,Gr=0,ue=null,Ne=null,Ce=null,hi=!1,ga=!1,Va=0,By=0;function Ie(){throw Error(F(321))}function qc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Pt(e[s],t[s]))return!1;return!0}function Wc(e,t,s,a,n,i){if(Gr=i,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Un.current=e===null||e.memoizedState===null?Gy:Ky,e=s(a,n),ga){i=0;do{if(ga=!1,Va=0,25<=i)throw Error(F(301));i+=1,Ce=Ne=null,t.updateQueue=null,Un.current=Yy,e=s(a,n)}while(ga)}if(Un.current=xi,t=Ne!==null&&Ne.next!==null,Gr=0,Ce=Ne=ue=null,hi=!1,t)throw Error(F(300));return e}function Gc(){var e=Va!==0;return Va=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?ue.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function pt(){if(Ne===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ce===null?ue.memoizedState:Ce.next;if(t!==null)Ce=t,Ne=e;else{if(e===null)throw Error(F(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ce===null?ue.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Ua(e,t){return typeof t=="function"?t(e):t}function kl(e){var t=pt(),s=t.queue;if(s===null)throw Error(F(311));s.lastRenderedReducer=e;var a=Ne,n=a.baseQueue,i=s.pending;if(i!==null){if(n!==null){var l=n.next;n.next=i.next,i.next=l}a.baseQueue=n=i,s.pending=null}if(n!==null){i=n.next,a=a.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((Gr&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,l=a):c=c.next=m,ue.lanes|=u,Kr|=u}d=d.next}while(d!==null&&d!==i);c===null?l=a:c.next=o,Pt(a,t.memoizedState)||(Ge=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=c,s.lastRenderedState=a}if(e=s.interleaved,e!==null){n=e;do i=n.lane,ue.lanes|=i,Kr|=i,n=n.next;while(n!==e)}else n===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Sl(e){var t=pt(),s=t.queue;if(s===null)throw Error(F(311));s.lastRenderedReducer=e;var a=s.dispatch,n=s.pending,i=t.memoizedState;if(n!==null){s.pending=null;var l=n=n.next;do i=e(i,l.action),l=l.next;while(l!==n);Pt(i,t.memoizedState)||(Ge=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,a]}function Kh(){}function Yh(e,t){var s=ue,a=pt(),n=t(),i=!Pt(a.memoizedState,n);if(i&&(a.memoizedState=n,Ge=!0),a=a.queue,Kc(Jh.bind(null,s,a,e),[e]),a.getSnapshot!==t||i||Ce!==null&&Ce.memoizedState.tag&1){if(s.flags|=2048,$a(9,Xh.bind(null,s,a,n,t),void 0,null),Ee===null)throw Error(F(349));Gr&30||Qh(s,t,n)}return n}function Qh(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Xh(e,t,s,a){t.value=s,t.getSnapshot=a,Zh(t)&&ex(e)}function Jh(e,t,s){return s(function(){Zh(t)&&ex(e)})}function Zh(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Pt(e,s)}catch{return!0}}function ex(e){var t=Yt(e,1);t!==null&&Ct(t,e,1,-1)}function Mu(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:e},t.queue=e,e=e.dispatch=Wy.bind(null,ue,e),[t.memoizedState,e]}function $a(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function tx(){return pt().memoizedState}function $n(e,t,s,a){var n=It();ue.flags|=e,n.memoizedState=$a(1|t,s,void 0,a===void 0?null:a)}function $i(e,t,s,a){var n=pt();a=a===void 0?null:a;var i=void 0;if(Ne!==null){var l=Ne.memoizedState;if(i=l.destroy,a!==null&&qc(a,l.deps)){n.memoizedState=$a(t,s,i,a);return}}ue.flags|=e,n.memoizedState=$a(1|t,s,i,a)}function Ru(e,t){return $n(8390656,8,e,t)}function Kc(e,t){return $i(2048,8,e,t)}function rx(e,t){return $i(4,2,e,t)}function sx(e,t){return $i(4,4,e,t)}function ax(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nx(e,t,s){return s=s!=null?s.concat([e]):null,$i(4,4,ax.bind(null,t,e),s)}function Yc(){}function ix(e,t){var s=pt();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&qc(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function lx(e,t){var s=pt();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&qc(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function ox(e,t,s){return Gr&21?(Pt(s,t)||(s=hh(),ue.lanes|=s,Kr|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=s)}function Hy(e,t){var s=X;X=s!==0&&4>s?s:4,e(!0);var a=Nl.transition;Nl.transition={};try{e(!1),t()}finally{X=s,Nl.transition=a}}function cx(){return pt().memoizedState}function qy(e,t,s){var a=pr(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},dx(e))ux(t,s);else if(s=qh(e,t,s,a),s!==null){var n=ze();Ct(s,e,a,n),mx(s,t,a)}}function Wy(e,t,s){var a=pr(e),n={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(dx(e))ux(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,s);if(n.hasEagerState=!0,n.eagerState=o,Pt(o,l)){var c=t.interleaved;c===null?(n.next=n,Uc(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}s=qh(e,t,n,a),s!==null&&(n=ze(),Ct(s,e,a,n),mx(s,t,a))}}function dx(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function ux(e,t){ga=hi=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function mx(e,t,s){if(s&4194240){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Cc(e,s)}}var xi={readContext:gt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Gy={readContext:gt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Ru,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,$n(4194308,4,ax.bind(null,t,e),s)},useLayoutEffect:function(e,t){return $n(4194308,4,e,t)},useInsertionEffect:function(e,t){return $n(4,2,e,t)},useMemo:function(e,t){var s=It();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=It();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=qy.bind(null,ue,e),[a.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:Mu,useDebugValue:Yc,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=Mu(!1),t=e[0];return e=Hy.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=ue,n=It();if(le){if(s===void 0)throw Error(F(407));s=s()}else{if(s=t(),Ee===null)throw Error(F(349));Gr&30||Qh(a,t,s)}n.memoizedState=s;var i={value:s,getSnapshot:t};return n.queue=i,Ru(Jh.bind(null,a,i,e),[e]),a.flags|=2048,$a(9,Xh.bind(null,a,i,s,t),void 0,null),s},useId:function(){var e=It(),t=Ee.identifierPrefix;if(le){var s=qt,a=Ht;s=(a&~(1<<32-St(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=Va++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=By++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ky={readContext:gt,useCallback:ix,useContext:gt,useEffect:Kc,useImperativeHandle:nx,useInsertionEffect:rx,useLayoutEffect:sx,useMemo:lx,useReducer:kl,useRef:tx,useState:function(){return kl(Ua)},useDebugValue:Yc,useDeferredValue:function(e){var t=pt();return ox(t,Ne.memoizedState,e)},useTransition:function(){var e=kl(Ua)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Kh,useSyncExternalStore:Yh,useId:cx,unstable_isNewReconciler:!1},Yy={readContext:gt,useCallback:ix,useContext:gt,useEffect:Kc,useImperativeHandle:nx,useInsertionEffect:rx,useLayoutEffect:sx,useMemo:lx,useReducer:Sl,useRef:tx,useState:function(){return Sl(Ua)},useDebugValue:Yc,useDeferredValue:function(e){var t=pt();return Ne===null?t.memoizedState=e:ox(t,Ne.memoizedState,e)},useTransition:function(){var e=Sl(Ua)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Kh,useSyncExternalStore:Yh,useId:cx,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function So(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:me({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var zi={isMounted:function(e){return(e=e._reactInternals)?Zr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=ze(),n=pr(e),i=Wt(a,n);i.payload=t,s!=null&&(i.callback=s),t=fr(e,i,n),t!==null&&(Ct(t,e,n,a),Vn(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=ze(),n=pr(e),i=Wt(a,n);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=fr(e,i,n),t!==null&&(Ct(t,e,n,a),Vn(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ze(),a=pr(e),n=Wt(s,a);n.tag=2,t!=null&&(n.callback=t),t=fr(e,n,a),t!==null&&(Ct(t,e,a,s),Vn(t,e,a))}};function _u(e,t,s,a,n,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,l):t.prototype&&t.prototype.isPureReactComponent?!Ia(s,a)||!Ia(n,i):!0}function hx(e,t,s){var a=!1,n=jr,i=t.contextType;return typeof i=="object"&&i!==null?i=gt(i):(n=Qe(t)?qr:Ve.current,a=t.contextTypes,i=(a=a!=null)?As(e,n):jr),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zi,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function Fu(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&zi.enqueueReplaceState(t,t.state,null)}function Co(e,t,s,a){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},$c(e);var i=t.contextType;typeof i=="object"&&i!==null?n.context=gt(i):(i=Qe(t)?qr:Ve.current,n.context=As(e,i)),n.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(So(e,t,i,s),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&zi.enqueueReplaceState(n,n.state,null),ui(e,s,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Is(e,t){try{var s="",a=t;do s+=Np(a),a=a.return;while(a);var n=s}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:n,digest:null}}function Cl(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Eo(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Qy=typeof WeakMap=="function"?WeakMap:Map;function xx(e,t,s){s=Wt(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){gi||(gi=!0,Fo=a),Eo(e,t)},s}function fx(e,t,s){s=Wt(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=t.value;s.payload=function(){return a(n)},s.callback=function(){Eo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){Eo(e,t),typeof a!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),s}function Ou(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Qy;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(s)||(n.add(s),e=db.bind(null,e,t,s),t.then(e,e))}function Vu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uu(e,t,s,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Wt(-1,1),t.tag=2,fr(s,t,1))),s.lanes|=1),e)}var Xy=Zt.ReactCurrentOwner,Ge=!1;function Ue(e,t,s,a){t.child=e===null?Hh(t,null,s,a):Ds(t,e.child,s,a)}function $u(e,t,s,a,n){s=s.render;var i=t.ref;return ks(t,n),a=Wc(e,t,s,a,i,n),s=Gc(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Qt(e,t,n)):(le&&s&&Mc(t),t.flags|=1,Ue(e,t,a,n),t.child)}function zu(e,t,s,a,n){if(e===null){var i=s.type;return typeof i=="function"&&!sd(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,gx(e,t,i,a,n)):(e=qn(s.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&n)){var l=i.memoizedProps;if(s=s.compare,s=s!==null?s:Ia,s(l,a)&&e.ref===t.ref)return Qt(e,t,n)}return t.flags|=1,e=yr(i,a),e.ref=t.ref,e.return=t,t.child=e}function gx(e,t,s,a,n){if(e!==null){var i=e.memoizedProps;if(Ia(i,a)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=a=i,(e.lanes&n)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,Qt(e,t,n)}return Po(e,t,s,a,n)}function px(e,t,s){var a=t.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(hs,et),et|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,re(hs,et),et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:s,re(hs,et),et|=a}else i!==null?(a=i.baseLanes|s,t.memoizedState=null):a=s,re(hs,et),et|=a;return Ue(e,t,n,s),t.child}function yx(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Po(e,t,s,a,n){var i=Qe(s)?qr:Ve.current;return i=As(t,i),ks(t,n),s=Wc(e,t,s,a,i,n),a=Gc(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Qt(e,t,n)):(le&&a&&Mc(t),t.flags|=1,Ue(e,t,s,n),t.child)}function Bu(e,t,s,a,n){if(Qe(s)){var i=!0;ii(t)}else i=!1;if(ks(t,n),t.stateNode===null)zn(e,t),hx(t,s,a),Co(t,s,a,n),a=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=s.contextType;typeof d=="object"&&d!==null?d=gt(d):(d=Qe(s)?qr:Ve.current,d=As(t,d));var u=s.getDerivedStateFromProps,m=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==a||c!==d)&&Fu(t,l,a,d),ar=!1;var h=t.memoizedState;l.state=h,ui(t,a,l,n),c=t.memoizedState,o!==a||h!==c||Ye.current||ar?(typeof u=="function"&&(So(t,s,u,a),c=t.memoizedState),(o=ar||_u(t,s,o,a,h,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),l.props=a,l.state=c,l.context=d,a=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,Wh(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:jt(t.type,o),l.props=d,m=t.pendingProps,h=l.context,c=s.contextType,typeof c=="object"&&c!==null?c=gt(c):(c=Qe(s)?qr:Ve.current,c=As(t,c));var x=s.getDerivedStateFromProps;(u=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||h!==c)&&Fu(t,l,a,c),ar=!1,h=t.memoizedState,l.state=h,ui(t,a,l,n);var b=t.memoizedState;o!==m||h!==b||Ye.current||ar?(typeof x=="function"&&(So(t,s,x,a),b=t.memoizedState),(d=ar||_u(t,s,d,a,h,b,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,b,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,b,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=b),l.props=a,l.state=b,l.context=c,a=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return Ao(e,t,s,a,i,n)}function Ao(e,t,s,a,n,i){yx(e,t);var l=(t.flags&128)!==0;if(!a&&!l)return n&&Pu(t,s,!1),Qt(e,t,i);a=t.stateNode,Xy.current=t;var o=l&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&l?(t.child=Ds(t,e.child,null,i),t.child=Ds(t,null,o,i)):Ue(e,t,o,i),t.memoizedState=a.state,n&&Pu(t,s,!0),t.child}function bx(e){var t=e.stateNode;t.pendingContext?Eu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Eu(e,t.context,!1),zc(e,t.containerInfo)}function Hu(e,t,s,a,n){return Ts(),_c(n),t.flags|=256,Ue(e,t,s,a),t.child}var To={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function vx(e,t,s){var a=t.pendingProps,n=ce.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(n&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),re(ce,n&1),e===null)return No(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=qi(l,a,0,null),e=zr(e,a,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Do(s),t.memoizedState=To,e):Qc(t,l));if(n=e.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return Jy(e,t,l,a,o,n,s);if(i){i=a.fallback,l=t.mode,n=e.child,o=n.sibling;var c={mode:"hidden",children:a.children};return!(l&1)&&t.child!==n?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=yr(n,c),a.subtreeFlags=n.subtreeFlags&14680064),o!==null?i=yr(o,i):(i=zr(i,l,s,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=e.child.memoizedState,l=l===null?Do(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~s,t.memoizedState=To,a}return i=e.child,e=i.sibling,a=yr(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function Qc(e,t){return t=qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cn(e,t,s,a){return a!==null&&_c(a),Ds(t,e.child,null,s),e=Qc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jy(e,t,s,a,n,i,l){if(s)return t.flags&256?(t.flags&=-257,a=Cl(Error(F(422))),Cn(e,t,l,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,n=t.mode,a=qi({mode:"visible",children:a.children},n,0,null),i=zr(i,n,l,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&Ds(t,e.child,null,l),t.child.memoizedState=Do(l),t.memoizedState=To,i);if(!(t.mode&1))return Cn(e,t,l,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var o=a.dgst;return a=o,i=Error(F(419)),a=Cl(i,a,void 0),Cn(e,t,l,a)}if(o=(l&e.childLanes)!==0,Ge||o){if(a=Ee,a!==null){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|l)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,Yt(e,n),Ct(a,e,n,-1))}return rd(),a=Cl(Error(F(421))),Cn(e,t,l,a)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=ub.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,tt=xr(n.nextSibling),rt=t,le=!0,kt=null,e!==null&&(ut[mt++]=Ht,ut[mt++]=qt,ut[mt++]=Wr,Ht=e.id,qt=e.overflow,Wr=t),t=Qc(t,a.children),t.flags|=4096,t)}function qu(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ko(e.return,t,s)}function El(e,t,s,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=s,i.tailMode=n)}function wx(e,t,s){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(Ue(e,t,a.children,s),a=ce.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qu(e,s,t);else if(e.tag===19)qu(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(re(ce,a),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;s!==null;)e=s.alternate,e!==null&&mi(e)===null&&(n=s),s=s.sibling;s=n,s===null?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),El(t,!1,n,s,i);break;case"backwards":for(s=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&mi(e)===null){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}El(t,!0,s,null,i);break;case"together":El(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zn(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qt(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Kr|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,s=yr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=yr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Zy(e,t,s){switch(t.tag){case 3:bx(t),Ts();break;case 5:Gh(t);break;case 1:Qe(t.type)&&ii(t);break;case 4:zc(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;re(ci,a._currentValue),a._currentValue=n;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(re(ce,ce.current&1),t.flags|=128,null):s&t.child.childLanes?vx(e,t,s):(re(ce,ce.current&1),e=Qt(e,t,s),e!==null?e.sibling:null);re(ce,ce.current&1);break;case 19:if(a=(s&t.childLanes)!==0,e.flags&128){if(a)return wx(e,t,s);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),re(ce,ce.current),a)break;return null;case 22:case 23:return t.lanes=0,px(e,t,s)}return Qt(e,t,s)}var jx,Lo,Nx,kx;jx=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Lo=function(){};Nx=function(e,t,s,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,Or(_t.current);var i=null;switch(s){case"input":n=Zl(e,n),a=Zl(e,a),i=[];break;case"select":n=me({},n,{value:void 0}),a=me({},a,{value:void 0}),i=[];break;case"textarea":n=ro(e,n),a=ro(e,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ai)}ao(s,a);var l;s=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var o=n[d];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ca.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(o=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(i||(i=[]),i.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ca.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ae("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};kx=function(e,t,s,a){s!==a&&(t.flags|=4)};function sa(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function eb(e,t,s){var a=t.pendingProps;switch(Rc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Qe(t.type)&&ni(),Me(t),null;case 3:return a=t.stateNode,Ls(),ne(Ye),ne(Ve),Hc(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(kn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kt!==null&&(Uo(kt),kt=null))),Lo(e,t),Me(t),null;case 5:Bc(t);var n=Or(Oa.current);if(s=t.type,e!==null&&t.stateNode!=null)Nx(e,t,s,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(F(166));return Me(t),null}if(e=Or(_t.current),kn(t)){a=t.stateNode,s=t.type;var i=t.memoizedProps;switch(a[Mt]=t,a[_a]=i,e=(t.mode&1)!==0,s){case"dialog":ae("cancel",a),ae("close",a);break;case"iframe":case"object":case"embed":ae("load",a);break;case"video":case"audio":for(n=0;n<ca.length;n++)ae(ca[n],a);break;case"source":ae("error",a);break;case"img":case"image":case"link":ae("error",a),ae("load",a);break;case"details":ae("toggle",a);break;case"input":eu(a,i),ae("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},ae("invalid",a);break;case"textarea":ru(a,i),ae("invalid",a)}ao(s,i),n=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?a.textContent!==o&&(i.suppressHydrationWarning!==!0&&Nn(a.textContent,o,e),n=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Nn(a.textContent,o,e),n=["children",""+o]):Ca.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ae("scroll",a)}switch(s){case"input":fn(a),tu(a,i,!0);break;case"textarea":fn(a),su(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=ai)}a=n,t.updateQueue=a,a!==null&&(t.flags|=4)}else{l=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jm(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=l.createElement(s,{is:a.is}):(e=l.createElement(s),s==="select"&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,s),e[Mt]=t,e[_a]=a,jx(e,t,!1,!1),t.stateNode=e;e:{switch(l=no(s,a),s){case"dialog":ae("cancel",e),ae("close",e),n=a;break;case"iframe":case"object":case"embed":ae("load",e),n=a;break;case"video":case"audio":for(n=0;n<ca.length;n++)ae(ca[n],e);n=a;break;case"source":ae("error",e),n=a;break;case"img":case"image":case"link":ae("error",e),ae("load",e),n=a;break;case"details":ae("toggle",e),n=a;break;case"input":eu(e,a),n=Zl(e,a),ae("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=me({},a,{value:void 0}),ae("invalid",e);break;case"textarea":ru(e,a),n=ro(e,a),ae("invalid",e);break;default:n=a}ao(s,n),o=n;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?th(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Zm(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Ea(e,c):typeof c=="number"&&Ea(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ca.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ae("scroll",e):c!=null&&vc(e,i,c,l))}switch(s){case"input":fn(e),tu(e,a,!1);break;case"textarea":fn(e),su(e);break;case"option":a.value!=null&&e.setAttribute("value",""+wr(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?vs(e,!!a.multiple,i,!1):a.defaultValue!=null&&vs(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=ai)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)kx(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(F(166));if(s=Or(Oa.current),Or(_t.current),kn(t)){if(a=t.stateNode,s=t.memoizedProps,a[Mt]=t,(i=a.nodeValue!==s)&&(e=rt,e!==null))switch(e.tag){case 3:Nn(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Nn(a.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Mt]=t,t.stateNode=a}return Me(t),null;case 13:if(ne(ce),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&tt!==null&&t.mode&1&&!(t.flags&128))zh(),Ts(),t.flags|=98560,i=!1;else if(i=kn(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[Mt]=t}else Ts(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),i=!1}else kt!==null&&(Uo(kt),kt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||ce.current&1?ke===0&&(ke=3):rd())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return Ls(),Lo(e,t),e===null&&Ma(t.stateNode.containerInfo),Me(t),null;case 10:return Vc(t.type._context),Me(t),null;case 17:return Qe(t.type)&&ni(),Me(t),null;case 19:if(ne(ce),i=t.memoizedState,i===null)return Me(t),null;if(a=(t.flags&128)!==0,l=i.rendering,l===null)if(a)sa(i,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=mi(e),l!==null){for(t.flags|=128,sa(i,!1),a=l.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)i=s,e=a,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return re(ce,ce.current&1|2),t.child}e=e.sibling}i.tail!==null&&ye()>Ms&&(t.flags|=128,a=!0,sa(i,!1),t.lanes=4194304)}else{if(!a)if(e=mi(l),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),sa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!le)return Me(t),null}else 2*ye()-i.renderingStartTime>Ms&&s!==1073741824&&(t.flags|=128,a=!0,sa(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(s=i.last,s!==null?s.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ye(),t.sibling=null,s=ce.current,re(ce,a?s&1|2:s&1),t):(Me(t),null);case 22:case 23:return td(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?et&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function tb(e,t){switch(Rc(t),t.tag){case 1:return Qe(t.type)&&ni(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ls(),ne(Ye),ne(Ve),Hc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bc(t),null;case 13:if(ne(ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(ce),null;case 4:return Ls(),null;case 10:return Vc(t.type._context),null;case 22:case 23:return td(),null;case 24:return null;default:return null}}var En=!1,Re=!1,rb=typeof WeakSet=="function"?WeakSet:Set,H=null;function ms(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){fe(e,t,a)}else s.current=null}function Io(e,t,s){try{s()}catch(a){fe(e,t,a)}}var Wu=!1;function sb(e,t){if(go=ti,e=Ah(),Ic(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var x;m!==s||n!==0&&m.nodeType!==3||(o=l+n),m!==i||a!==0&&m.nodeType!==3||(c=l+a),m.nodeType===3&&(l+=m.nodeValue.length),(x=m.firstChild)!==null;)h=m,m=x;for(;;){if(m===e)break t;if(h===s&&++d===n&&(o=l),h===i&&++u===a&&(c=l),(x=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=x}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(po={focusedElem:e,selectionRange:s},ti=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,j=b.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:jt(t.type,v),j);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(w){fe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return b=Wu,Wu=!1,b}function pa(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&Io(t,s,i)}n=n.next}while(n!==a)}}function Bi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function Mo(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Sx(e){var t=e.alternate;t!==null&&(e.alternate=null,Sx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mt],delete t[_a],delete t[vo],delete t[Vy],delete t[Uy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cx(e){return e.tag===5||e.tag===3||e.tag===4}function Gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ro(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ai));else if(a!==4&&(e=e.child,e!==null))for(Ro(e,t,s),e=e.sibling;e!==null;)Ro(e,t,s),e=e.sibling}function _o(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(_o(e,t,s),e=e.sibling;e!==null;)_o(e,t,s),e=e.sibling}var Pe=null,Nt=!1;function tr(e,t,s){for(s=s.child;s!==null;)Ex(e,t,s),s=s.sibling}function Ex(e,t,s){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Ri,s)}catch{}switch(s.tag){case 5:Re||ms(s,t);case 6:var a=Pe,n=Nt;Pe=null,tr(e,t,s),Pe=a,Nt=n,Pe!==null&&(Nt?(e=Pe,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Pe.removeChild(s.stateNode));break;case 18:Pe!==null&&(Nt?(e=Pe,s=s.stateNode,e.nodeType===8?vl(e.parentNode,s):e.nodeType===1&&vl(e,s),Da(e)):vl(Pe,s.stateNode));break;case 4:a=Pe,n=Nt,Pe=s.stateNode.containerInfo,Nt=!0,tr(e,t,s),Pe=a,Nt=n;break;case 0:case 11:case 14:case 15:if(!Re&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Io(s,t,l),n=n.next}while(n!==a)}tr(e,t,s);break;case 1:if(!Re&&(ms(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(o){fe(s,t,o)}tr(e,t,s);break;case 21:tr(e,t,s);break;case 22:s.mode&1?(Re=(a=Re)||s.memoizedState!==null,tr(e,t,s),Re=a):tr(e,t,s);break;default:tr(e,t,s)}}function Ku(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new rb),t.forEach(function(a){var n=mb.bind(null,e,a);s.has(a)||(s.add(a),a.then(n,n))})}}function vt(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var n=s[a];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Pe=o.stateNode,Nt=!1;break e;case 3:Pe=o.stateNode.containerInfo,Nt=!0;break e;case 4:Pe=o.stateNode.containerInfo,Nt=!0;break e}o=o.return}if(Pe===null)throw Error(F(160));Ex(i,l,n),Pe=null,Nt=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){fe(n,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Px(t,e),t=t.sibling}function Px(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),Lt(e),a&4){try{pa(3,e,e.return),Bi(3,e)}catch(v){fe(e,e.return,v)}try{pa(5,e,e.return)}catch(v){fe(e,e.return,v)}}break;case 1:vt(t,e),Lt(e),a&512&&s!==null&&ms(s,s.return);break;case 5:if(vt(t,e),Lt(e),a&512&&s!==null&&ms(s,s.return),e.flags&32){var n=e.stateNode;try{Ea(n,"")}catch(v){fe(e,e.return,v)}}if(a&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,l=s!==null?s.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Qm(n,i),no(o,l);var d=no(o,i);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];u==="style"?th(n,m):u==="dangerouslySetInnerHTML"?Zm(n,m):u==="children"?Ea(n,m):vc(n,u,m,d)}switch(o){case"input":eo(n,i);break;case"textarea":Xm(n,i);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?vs(n,!!i.multiple,x,!1):h!==!!i.multiple&&(i.defaultValue!=null?vs(n,!!i.multiple,i.defaultValue,!0):vs(n,!!i.multiple,i.multiple?[]:"",!1))}n[_a]=i}catch(v){fe(e,e.return,v)}}break;case 6:if(vt(t,e),Lt(e),a&4){if(e.stateNode===null)throw Error(F(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(v){fe(e,e.return,v)}}break;case 3:if(vt(t,e),Lt(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Da(t.containerInfo)}catch(v){fe(e,e.return,v)}break;case 4:vt(t,e),Lt(e);break;case 13:vt(t,e),Lt(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(Zc=ye())),a&4&&Ku(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(Re=(d=Re)||u,vt(t,e),Re=d):vt(t,e),Lt(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(H=e,u=e.child;u!==null;){for(m=H=u;H!==null;){switch(h=H,x=h.child,h.tag){case 0:case 11:case 14:case 15:pa(4,h,h.return);break;case 1:ms(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){a=h,s=h.return;try{t=a,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){fe(a,s,v)}}break;case 5:ms(h,h.return);break;case 22:if(h.memoizedState!==null){Qu(m);continue}}x!==null?(x.return=h,H=x):Qu(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{n=m.stateNode,d?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=eh("display",l))}catch(v){fe(e,e.return,v)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(v){fe(e,e.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:vt(t,e),Lt(e),a&4&&Ku(e);break;case 21:break;default:vt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Cx(s)){var a=s;break e}s=s.return}throw Error(F(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(Ea(n,""),a.flags&=-33);var i=Gu(e);_o(e,i,n);break;case 3:case 4:var l=a.stateNode.containerInfo,o=Gu(e);Ro(e,o,l);break;default:throw Error(F(161))}}catch(c){fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ab(e,t,s){H=e,Ax(e)}function Ax(e,t,s){for(var a=(e.mode&1)!==0;H!==null;){var n=H,i=n.child;if(n.tag===22&&a){var l=n.memoizedState!==null||En;if(!l){var o=n.alternate,c=o!==null&&o.memoizedState!==null||Re;o=En;var d=Re;if(En=l,(Re=c)&&!d)for(H=n;H!==null;)l=H,c=l.child,l.tag===22&&l.memoizedState!==null?Xu(n):c!==null?(c.return=l,H=c):Xu(n);for(;i!==null;)H=i,Ax(i),i=i.sibling;H=n,En=o,Re=d}Yu(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,H=i):Yu(e)}}function Yu(e){for(;H!==null;){var t=H;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||Bi(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Re)if(s===null)a.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:jt(t.type,s.memoizedProps);a.componentDidUpdate(n,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Iu(t,i,a);break;case 3:var l=t.updateQueue;if(l!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Iu(t,l,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Da(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Re||t.flags&512&&Mo(t)}catch(h){fe(t,t.return,h)}}if(t===e){H=null;break}if(s=t.sibling,s!==null){s.return=t.return,H=s;break}H=t.return}}function Qu(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var s=t.sibling;if(s!==null){s.return=t.return,H=s;break}H=t.return}}function Xu(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Bi(4,t)}catch(c){fe(t,s,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var n=t.return;try{a.componentDidMount()}catch(c){fe(t,n,c)}}var i=t.return;try{Mo(t)}catch(c){fe(t,i,c)}break;case 5:var l=t.return;try{Mo(t)}catch(c){fe(t,l,c)}}}catch(c){fe(t,t.return,c)}if(t===e){H=null;break}var o=t.sibling;if(o!==null){o.return=t.return,H=o;break}H=t.return}}var nb=Math.ceil,fi=Zt.ReactCurrentDispatcher,Xc=Zt.ReactCurrentOwner,xt=Zt.ReactCurrentBatchConfig,Y=0,Ee=null,je=null,De=0,et=0,hs=Cr(0),ke=0,za=null,Kr=0,Hi=0,Jc=0,ya=null,We=null,Zc=0,Ms=1/0,zt=null,gi=!1,Fo=null,gr=null,Pn=!1,or=null,pi=0,ba=0,Oo=null,Bn=-1,Hn=0;function ze(){return Y&6?ye():Bn!==-1?Bn:Bn=ye()}function pr(e){return e.mode&1?Y&2&&De!==0?De&-De:zy.transition!==null?(Hn===0&&(Hn=hh()),Hn):(e=X,e!==0||(e=window.event,e=e===void 0?16:vh(e.type)),e):1}function Ct(e,t,s,a){if(50<ba)throw ba=0,Oo=null,Error(F(185));tn(e,s,a),(!(Y&2)||e!==Ee)&&(e===Ee&&(!(Y&2)&&(Hi|=s),ke===4&&ir(e,De)),Xe(e,a),s===1&&Y===0&&!(t.mode&1)&&(Ms=ye()+500,Ui&&Er()))}function Xe(e,t){var s=e.callbackNode;zp(e,t);var a=ei(e,e===Ee?De:0);if(a===0)s!==null&&iu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&iu(s),t===1)e.tag===0?$y(Ju.bind(null,e)):Vh(Ju.bind(null,e)),Fy(function(){!(Y&6)&&Er()}),s=null;else{switch(xh(a)){case 1:s=Sc;break;case 4:s=uh;break;case 16:s=Zn;break;case 536870912:s=mh;break;default:s=Zn}s=Fx(s,Tx.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Tx(e,t){if(Bn=-1,Hn=0,Y&6)throw Error(F(327));var s=e.callbackNode;if(Ss()&&e.callbackNode!==s)return null;var a=ei(e,e===Ee?De:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=yi(e,a);else{t=a;var n=Y;Y|=2;var i=Lx();(Ee!==e||De!==t)&&(zt=null,Ms=ye()+500,$r(e,t));do try{ob();break}catch(o){Dx(e,o)}while(!0);Oc(),fi.current=i,Y=n,je!==null?t=0:(Ee=null,De=0,t=ke)}if(t!==0){if(t===2&&(n=uo(e),n!==0&&(a=n,t=Vo(e,n))),t===1)throw s=za,$r(e,0),ir(e,a),Xe(e,ye()),s;if(t===6)ir(e,a);else{if(n=e.current.alternate,!(a&30)&&!ib(n)&&(t=yi(e,a),t===2&&(i=uo(e),i!==0&&(a=i,t=Vo(e,i))),t===1))throw s=za,$r(e,0),ir(e,a),Xe(e,ye()),s;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(F(345));case 2:Ir(e,We,zt);break;case 3:if(ir(e,a),(a&130023424)===a&&(t=Zc+500-ye(),10<t)){if(ei(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){ze(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=bo(Ir.bind(null,e,We,zt),t);break}Ir(e,We,zt);break;case 4:if(ir(e,a),(a&4194240)===a)break;for(t=e.eventTimes,n=-1;0<a;){var l=31-St(a);i=1<<l,l=t[l],l>n&&(n=l),a&=~i}if(a=n,a=ye()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*nb(a/1960))-a,10<a){e.timeoutHandle=bo(Ir.bind(null,e,We,zt),a);break}Ir(e,We,zt);break;case 5:Ir(e,We,zt);break;default:throw Error(F(329))}}}return Xe(e,ye()),e.callbackNode===s?Tx.bind(null,e):null}function Vo(e,t){var s=ya;return e.current.memoizedState.isDehydrated&&($r(e,t).flags|=256),e=yi(e,t),e!==2&&(t=We,We=s,t!==null&&Uo(t)),e}function Uo(e){We===null?We=e:We.push.apply(We,e)}function ib(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var n=s[a],i=n.getSnapshot;n=n.value;try{if(!Pt(i(),n))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ir(e,t){for(t&=~Jc,t&=~Hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-St(t),a=1<<s;e[s]=-1,t&=~a}}function Ju(e){if(Y&6)throw Error(F(327));Ss();var t=ei(e,0);if(!(t&1))return Xe(e,ye()),null;var s=yi(e,t);if(e.tag!==0&&s===2){var a=uo(e);a!==0&&(t=a,s=Vo(e,a))}if(s===1)throw s=za,$r(e,0),ir(e,t),Xe(e,ye()),s;if(s===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ir(e,We,zt),Xe(e,ye()),null}function ed(e,t){var s=Y;Y|=1;try{return e(t)}finally{Y=s,Y===0&&(Ms=ye()+500,Ui&&Er())}}function Yr(e){or!==null&&or.tag===0&&!(Y&6)&&Ss();var t=Y;Y|=1;var s=xt.transition,a=X;try{if(xt.transition=null,X=1,e)return e()}finally{X=a,xt.transition=s,Y=t,!(Y&6)&&Er()}}function td(){et=hs.current,ne(hs)}function $r(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,_y(s)),je!==null)for(s=je.return;s!==null;){var a=s;switch(Rc(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ni();break;case 3:Ls(),ne(Ye),ne(Ve),Hc();break;case 5:Bc(a);break;case 4:Ls();break;case 13:ne(ce);break;case 19:ne(ce);break;case 10:Vc(a.type._context);break;case 22:case 23:td()}s=s.return}if(Ee=e,je=e=yr(e.current,null),De=et=t,ke=0,za=null,Jc=Hi=Kr=0,We=ya=null,Fr!==null){for(t=0;t<Fr.length;t++)if(s=Fr[t],a=s.interleaved,a!==null){s.interleaved=null;var n=a.next,i=s.pending;if(i!==null){var l=i.next;i.next=n,a.next=l}s.pending=a}Fr=null}return e}function Dx(e,t){do{var s=je;try{if(Oc(),Un.current=xi,hi){for(var a=ue.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}hi=!1}if(Gr=0,Ce=Ne=ue=null,ga=!1,Va=0,Xc.current=null,s===null||s.return===null){ke=1,za=t,je=null;break}e:{var i=e,l=s.return,o=s,c=t;if(t=De,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=Vu(l);if(x!==null){x.flags&=-257,Uu(x,l,o,i,t),x.mode&1&&Ou(i,d,t),t=x,c=d;var b=t.updateQueue;if(b===null){var v=new Set;v.add(c),t.updateQueue=v}else b.add(c);break e}else{if(!(t&1)){Ou(i,d,t),rd();break e}c=Error(F(426))}}else if(le&&o.mode&1){var j=Vu(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Uu(j,l,o,i,t),_c(Is(c,o));break e}}i=c=Is(c,o),ke!==4&&(ke=2),ya===null?ya=[i]:ya.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=xx(i,c,t);Lu(i,p);break e;case 1:o=c;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gr===null||!gr.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=fx(i,o,t);Lu(i,w);break e}}i=i.return}while(i!==null)}Mx(s)}catch(N){t=N,je===s&&s!==null&&(je=s=s.return);continue}break}while(!0)}function Lx(){var e=fi.current;return fi.current=xi,e===null?xi:e}function rd(){(ke===0||ke===3||ke===2)&&(ke=4),Ee===null||!(Kr&268435455)&&!(Hi&268435455)||ir(Ee,De)}function yi(e,t){var s=Y;Y|=2;var a=Lx();(Ee!==e||De!==t)&&(zt=null,$r(e,t));do try{lb();break}catch(n){Dx(e,n)}while(!0);if(Oc(),Y=s,fi.current=a,je!==null)throw Error(F(261));return Ee=null,De=0,ke}function lb(){for(;je!==null;)Ix(je)}function ob(){for(;je!==null&&!Ip();)Ix(je)}function Ix(e){var t=_x(e.alternate,e,et);e.memoizedProps=e.pendingProps,t===null?Mx(e):je=t,Xc.current=null}function Mx(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=tb(s,t),s!==null){s.flags&=32767,je=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,je=null;return}}else if(s=eb(s,t,et),s!==null){je=s;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);ke===0&&(ke=5)}function Ir(e,t,s){var a=X,n=xt.transition;try{xt.transition=null,X=1,cb(e,t,s,a)}finally{xt.transition=n,X=a}return null}function cb(e,t,s,a){do Ss();while(or!==null);if(Y&6)throw Error(F(327));s=e.finishedWork;var n=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(Bp(e,i),e===Ee&&(je=Ee=null,De=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Pn||(Pn=!0,Fx(Zn,function(){return Ss(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=xt.transition,xt.transition=null;var l=X;X=1;var o=Y;Y|=4,Xc.current=null,sb(e,s),Px(s,e),Ay(po),ti=!!go,po=go=null,e.current=s,ab(s),Mp(),Y=o,X=l,xt.transition=i}else e.current=s;if(Pn&&(Pn=!1,or=e,pi=n),i=e.pendingLanes,i===0&&(gr=null),Fp(s.stateNode),Xe(e,ye()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],a(n.value,{componentStack:n.stack,digest:n.digest});if(gi)throw gi=!1,e=Fo,Fo=null,e;return pi&1&&e.tag!==0&&Ss(),i=e.pendingLanes,i&1?e===Oo?ba++:(ba=0,Oo=e):ba=0,Er(),null}function Ss(){if(or!==null){var e=xh(pi),t=xt.transition,s=X;try{if(xt.transition=null,X=16>e?16:e,or===null)var a=!1;else{if(e=or,or=null,pi=0,Y&6)throw Error(F(331));var n=Y;for(Y|=4,H=e.current;H!==null;){var i=H,l=i.child;if(H.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(H=d;H!==null;){var u=H;switch(u.tag){case 0:case 11:case 15:pa(8,u,i)}var m=u.child;if(m!==null)m.return=u,H=m;else for(;H!==null;){u=H;var h=u.sibling,x=u.return;if(Sx(u),u===d){H=null;break}if(h!==null){h.return=x,H=h;break}H=x}}}var b=i.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var j=v.sibling;v.sibling=null,v=j}while(v!==null)}}H=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,H=l;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pa(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,H=p;break e}H=i.return}}var g=e.current;for(H=g;H!==null;){l=H;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,H=y;else e:for(l=g;H!==null;){if(o=H,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Bi(9,o)}}catch(N){fe(o,o.return,N)}if(o===l){H=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,H=w;break e}H=o.return}}if(Y=n,Er(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Ri,e)}catch{}a=!0}return a}finally{X=s,xt.transition=t}}return!1}function Zu(e,t,s){t=Is(s,t),t=xx(e,t,1),e=fr(e,t,1),t=ze(),e!==null&&(tn(e,1,t),Xe(e,t))}function fe(e,t,s){if(e.tag===3)Zu(e,e,s);else for(;t!==null;){if(t.tag===3){Zu(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(gr===null||!gr.has(a))){e=Is(s,e),e=fx(t,e,1),t=fr(t,e,1),e=ze(),t!==null&&(tn(t,1,e),Xe(t,e));break}}t=t.return}}function db(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&s,Ee===e&&(De&s)===s&&(ke===4||ke===3&&(De&130023424)===De&&500>ye()-Zc?$r(e,0):Jc|=s),Xe(e,t)}function Rx(e,t){t===0&&(e.mode&1?(t=yn,yn<<=1,!(yn&130023424)&&(yn=4194304)):t=1);var s=ze();e=Yt(e,t),e!==null&&(tn(e,t,s),Xe(e,s))}function ub(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Rx(e,s)}function mb(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(s=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(F(314))}a!==null&&a.delete(t),Rx(e,s)}var _x;_x=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Ge=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Ge=!1,Zy(e,t,s);Ge=!!(e.flags&131072)}else Ge=!1,le&&t.flags&1048576&&Uh(t,oi,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;zn(e,t),e=t.pendingProps;var n=As(t,Ve.current);ks(t,s),n=Wc(null,t,a,e,n,s);var i=Gc();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(a)?(i=!0,ii(t)):i=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,$c(t),n.updater=zi,t.stateNode=n,n._reactInternals=t,Co(t,a,e,s),t=Ao(null,t,a,!0,i,s)):(t.tag=0,le&&i&&Mc(t),Ue(null,t,n,s),t=t.child),t;case 16:a=t.elementType;e:{switch(zn(e,t),e=t.pendingProps,n=a._init,a=n(a._payload),t.type=a,n=t.tag=xb(a),e=jt(a,e),n){case 0:t=Po(null,t,a,e,s);break e;case 1:t=Bu(null,t,a,e,s);break e;case 11:t=$u(null,t,a,e,s);break e;case 14:t=zu(null,t,a,jt(a.type,e),s);break e}throw Error(F(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:jt(a,n),Po(e,t,a,n,s);case 1:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:jt(a,n),Bu(e,t,a,n,s);case 3:e:{if(bx(t),e===null)throw Error(F(387));a=t.pendingProps,i=t.memoizedState,n=i.element,Wh(e,t),ui(t,a,null,s);var l=t.memoizedState;if(a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){n=Is(Error(F(423)),t),t=Hu(e,t,a,s,n);break e}else if(a!==n){n=Is(Error(F(424)),t),t=Hu(e,t,a,s,n);break e}else for(tt=xr(t.stateNode.containerInfo.firstChild),rt=t,le=!0,kt=null,s=Hh(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ts(),a===n){t=Qt(e,t,s);break e}Ue(e,t,a,s)}t=t.child}return t;case 5:return Gh(t),e===null&&No(t),a=t.type,n=t.pendingProps,i=e!==null?e.memoizedProps:null,l=n.children,yo(a,n)?l=null:i!==null&&yo(a,i)&&(t.flags|=32),yx(e,t),Ue(e,t,l,s),t.child;case 6:return e===null&&No(t),null;case 13:return vx(e,t,s);case 4:return zc(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ds(t,null,a,s):Ue(e,t,a,s),t.child;case 11:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:jt(a,n),$u(e,t,a,n,s);case 7:return Ue(e,t,t.pendingProps,s),t.child;case 8:return Ue(e,t,t.pendingProps.children,s),t.child;case 12:return Ue(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,i=t.memoizedProps,l=n.value,re(ci,a._currentValue),a._currentValue=l,i!==null)if(Pt(i.value,l)){if(i.children===n.children&&!Ye.current){t=Qt(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=Wt(-1,s&-s),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),ko(i.return,s,t),o.lanes|=s;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(F(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),ko(l,s,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ue(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,ks(t,s),n=gt(n),a=a(n),t.flags|=1,Ue(e,t,a,s),t.child;case 14:return a=t.type,n=jt(a,t.pendingProps),n=jt(a.type,n),zu(e,t,a,n,s);case 15:return gx(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:jt(a,n),zn(e,t),t.tag=1,Qe(a)?(e=!0,ii(t)):e=!1,ks(t,s),hx(t,a,n),Co(t,a,n,s),Ao(null,t,a,!0,e,s);case 19:return wx(e,t,s);case 22:return px(e,t,s)}throw Error(F(156,t.tag))};function Fx(e,t){return dh(e,t)}function hb(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,s,a){return new hb(e,t,s,a)}function sd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xb(e){if(typeof e=="function")return sd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jc)return 11;if(e===Nc)return 14}return 2}function yr(e,t){var s=e.alternate;return s===null?(s=ht(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function qn(e,t,s,a,n,i){var l=2;if(a=e,typeof e=="function")sd(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case ss:return zr(s.children,n,i,t);case wc:l=8,n|=8;break;case Yl:return e=ht(12,s,t,n|2),e.elementType=Yl,e.lanes=i,e;case Ql:return e=ht(13,s,t,n),e.elementType=Ql,e.lanes=i,e;case Xl:return e=ht(19,s,t,n),e.elementType=Xl,e.lanes=i,e;case Gm:return qi(s,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qm:l=10;break e;case Wm:l=9;break e;case jc:l=11;break e;case Nc:l=14;break e;case sr:l=16,a=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=ht(l,s,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function zr(e,t,s,a){return e=ht(7,e,a,t),e.lanes=s,e}function qi(e,t,s,a){return e=ht(22,e,a,t),e.elementType=Gm,e.lanes=s,e.stateNode={isHidden:!1},e}function Pl(e,t,s){return e=ht(6,e,null,t),e.lanes=s,e}function Al(e,t,s){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fb(e,t,s,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cl(0),this.expirationTimes=cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cl(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function ad(e,t,s,a,n,i,l,o,c){return e=new fb(e,t,s,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ht(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},$c(i),e}function gb(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function Ox(e){if(!e)return jr;e=e._reactInternals;e:{if(Zr(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var s=e.type;if(Qe(s))return Oh(e,s,t)}return t}function Vx(e,t,s,a,n,i,l,o,c){return e=ad(s,a,!0,e,n,i,l,o,c),e.context=Ox(null),s=e.current,a=ze(),n=pr(s),i=Wt(a,n),i.callback=t??null,fr(s,i,n),e.current.lanes=n,tn(e,n,a),Xe(e,a),e}function Wi(e,t,s,a){var n=t.current,i=ze(),l=pr(n);return s=Ox(s),t.context===null?t.context=s:t.pendingContext=s,t=Wt(i,l),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=fr(n,t,l),e!==null&&(Ct(e,n,l,i),Vn(e,n,l)),l}function bi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function e0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function nd(e,t){e0(e,t),(e=e.alternate)&&e0(e,t)}function pb(){return null}var Ux=typeof reportError=="function"?reportError:function(e){console.error(e)};function id(e){this._internalRoot=e}Gi.prototype.render=id.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Wi(e,t,null,null)};Gi.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yr(function(){Wi(null,e,null,null)}),t[Kt]=null}};function Gi(e){this._internalRoot=e}Gi.prototype.unstable_scheduleHydration=function(e){if(e){var t=ph();e={blockedOn:null,target:e,priority:t};for(var s=0;s<nr.length&&t!==0&&t<nr[s].priority;s++);nr.splice(s,0,e),s===0&&bh(e)}};function ld(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ki(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function t0(){}function yb(e,t,s,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var d=bi(l);i.call(d)}}var l=Vx(t,a,e,0,null,!1,!1,"",t0);return e._reactRootContainer=l,e[Kt]=l.current,Ma(e.nodeType===8?e.parentNode:e),Yr(),l}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var o=a;a=function(){var d=bi(c);o.call(d)}}var c=ad(e,0,!1,null,null,!1,!1,"",t0);return e._reactRootContainer=c,e[Kt]=c.current,Ma(e.nodeType===8?e.parentNode:e),Yr(function(){Wi(t,c,s,a)}),c}function Yi(e,t,s,a,n){var i=s._reactRootContainer;if(i){var l=i;if(typeof n=="function"){var o=n;n=function(){var c=bi(l);o.call(c)}}Wi(t,l,e,n)}else l=yb(s,t,e,n,a);return bi(l)}fh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=oa(t.pendingLanes);s!==0&&(Cc(t,s|1),Xe(t,ye()),!(Y&6)&&(Ms=ye()+500,Er()))}break;case 13:Yr(function(){var a=Yt(e,1);if(a!==null){var n=ze();Ct(a,e,1,n)}}),nd(e,1)}};Ec=function(e){if(e.tag===13){var t=Yt(e,134217728);if(t!==null){var s=ze();Ct(t,e,134217728,s)}nd(e,134217728)}};gh=function(e){if(e.tag===13){var t=pr(e),s=Yt(e,t);if(s!==null){var a=ze();Ct(s,e,t,a)}nd(e,t)}};ph=function(){return X};yh=function(e,t){var s=X;try{return X=e,t()}finally{X=s}};lo=function(e,t,s){switch(t){case"input":if(eo(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var n=Vi(a);if(!n)throw Error(F(90));Ym(a),eo(a,n)}}}break;case"textarea":Xm(e,s);break;case"select":t=s.value,t!=null&&vs(e,!!s.multiple,t,!1)}};ah=ed;nh=Yr;var bb={usingClientEntryPoint:!1,Events:[sn,ls,Vi,rh,sh,ed]},aa={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vb={bundleType:aa.bundleType,version:aa.version,rendererPackageName:aa.rendererPackageName,rendererConfig:aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oh(e),e===null?null:e.stateNode},findFiberByHostInstance:aa.findFiberByHostInstance||pb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var An=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!An.isDisabled&&An.supportsFiber)try{Ri=An.inject(vb),Rt=An}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bb;it.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ld(t))throw Error(F(200));return gb(e,t,null,s)};it.createRoot=function(e,t){if(!ld(e))throw Error(F(299));var s=!1,a="",n=Ux;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=ad(e,1,!1,null,null,s,!1,a,n),e[Kt]=t.current,Ma(e.nodeType===8?e.parentNode:e),new id(t)};it.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=oh(t),e=e===null?null:e.stateNode,e};it.flushSync=function(e){return Yr(e)};it.hydrate=function(e,t,s){if(!Ki(t))throw Error(F(200));return Yi(null,e,t,!0,s)};it.hydrateRoot=function(e,t,s){if(!ld(e))throw Error(F(405));var a=s!=null&&s.hydratedSources||null,n=!1,i="",l=Ux;if(s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),t=Vx(t,null,e,1,s??null,n,!1,i,l),e[Kt]=t.current,Ma(e),a)for(e=0;e<a.length;e++)s=a[e],n=s._getVersion,n=n(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new Gi(t)};it.render=function(e,t,s){if(!Ki(t))throw Error(F(200));return Yi(null,e,t,!1,s)};it.unmountComponentAtNode=function(e){if(!Ki(e))throw Error(F(40));return e._reactRootContainer?(Yr(function(){Yi(null,null,e,!1,function(){e._reactRootContainer=null,e[Kt]=null})}),!0):!1};it.unstable_batchedUpdates=ed;it.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!Ki(s))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Yi(e,t,s,!1,a)};it.version="18.3.1-next-f1338f8080-20240426";function $x(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($x)}catch(e){console.error(e)}}$x(),$m.exports=it;var wb=$m.exports,zx,r0=wb;zx=r0.createRoot,r0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ba.apply(this,arguments)}var cr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cr||(cr={}));const s0="popstate";function jb(e){e===void 0&&(e={});function t(a,n){let{pathname:i,search:l,hash:o}=a.location;return $o("",{pathname:i,search:l,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:vi(n)}return kb(t,s,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Nb(){return Math.random().toString(36).substr(2,8)}function a0(e,t){return{usr:e.state,key:e.key,idx:t}}function $o(e,t,s,a){return s===void 0&&(s=null),Ba({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bs(t):t,{state:s,key:t&&t.key||a||Nb()})}function vi(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Bs(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function kb(e,t,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,l=n.history,o=cr.Pop,c=null,d=u();d==null&&(d=0,l.replaceState(Ba({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function m(){o=cr.Pop;let j=u(),p=j==null?null:j-d;d=j,c&&c({action:o,location:v.location,delta:p})}function h(j,p){o=cr.Push;let g=$o(v.location,j,p);d=u()+1;let y=a0(g,d),w=v.createHref(g);try{l.pushState(y,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;n.location.assign(w)}i&&c&&c({action:o,location:v.location,delta:1})}function x(j,p){o=cr.Replace;let g=$o(v.location,j,p);d=u();let y=a0(g,d),w=v.createHref(g);l.replaceState(y,"",w),i&&c&&c({action:o,location:v.location,delta:0})}function b(j){let p=n.location.origin!=="null"?n.location.origin:n.location.href,g=typeof j=="string"?j:vi(j);return g=g.replace(/ $/,"%20"),be(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let v={get action(){return o},get location(){return e(n,l)},listen(j){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(s0,m),c=j,()=>{n.removeEventListener(s0,m),c=null}},createHref(j){return t(n,j)},createURL:b,encodeLocation(j){let p=b(j);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:x,go(j){return l.go(j)}};return v}var n0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(n0||(n0={}));function Sb(e,t,s){return s===void 0&&(s="/"),Cb(e,t,s,!1)}function Cb(e,t,s,a){let n=typeof t=="string"?Bs(t):t,i=od(n.pathname||"/",s);if(i==null)return null;let l=Hx(e);Eb(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=Ob(i);o=_b(l[c],d,a)}return o}function Hx(e,t,s,a){t===void 0&&(t=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(be(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=br([a,c.relativePath]),u=s.concat(c);i.children&&i.children.length>0&&(be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Hx(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Mb(d,i.index),routesMeta:u})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))n(i,l);else for(let c of qx(i.path))n(i,l,c)}),t}function qx(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let l=qx(a.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),n&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Eb(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:Rb(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const Pb=/^:[\w-]+$/,Ab=3,Tb=2,Db=1,Lb=10,Ib=-2,i0=e=>e==="*";function Mb(e,t){let s=e.split("/"),a=s.length;return s.some(i0)&&(a+=Ib),t&&(a+=Tb),s.filter(n=>!i0(n)).reduce((n,i)=>n+(Pb.test(i)?Ab:i===""?Db:Lb),a)}function Rb(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function _b(e,t,s){let{routesMeta:a}=e,n={},i="/",l=[];for(let o=0;o<a.length;++o){let c=a[o],d=o===a.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=l0({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!m&&d&&s&&!a[a.length-1].route.index&&(m=l0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(n,m.params),l.push({params:n,pathname:br([i,m.pathname]),pathnameBase:zb(br([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=br([i,m.pathnameBase]))}return l}function l0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=Fb(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((d,u,m)=>{let{paramName:h,isOptional:x}=u;if(h==="*"){let v=o[m]||"";l=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const b=o[m];return x&&!b?d[h]=void 0:d[h]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function Fb(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Bx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function Ob(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function od(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function Vb(e,t){t===void 0&&(t="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?Bs(e):e;return{pathname:s?s.startsWith("/")?s:Ub(s,t):t,search:Bb(a),hash:Hb(n)}}function Ub(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function Tl(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $b(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function cd(e,t){let s=$b(e);return t?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function dd(e,t,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Bs(e):(n=Ba({},e),be(!n.pathname||!n.pathname.includes("?"),Tl("?","pathname","search",n)),be(!n.pathname||!n.pathname.includes("#"),Tl("#","pathname","hash",n)),be(!n.search||!n.search.includes("#"),Tl("#","search","hash",n)));let i=e===""||n.pathname==="",l=i?"/":n.pathname,o;if(l==null)o=s;else{let m=t.length-1;if(!a&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),m-=1;n.pathname=h.join("/")}o=m>=0?t[m]:"/"}let c=Vb(n,o),d=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const br=e=>e.join("/").replace(/\/\/+/g,"/"),zb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Bb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Wx=["post","put","patch","delete"];new Set(Wx);const Wb=["get",...Wx];new Set(Wb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ha.apply(this,arguments)}const ud=f.createContext(null),Gb=f.createContext(null),Pr=f.createContext(null),Qi=f.createContext(null),er=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Gx=f.createContext(null);function Kb(e,t){let{relative:s}=t===void 0?{}:t;Hs()||be(!1);let{basename:a,navigator:n}=f.useContext(Pr),{hash:i,pathname:l,search:o}=Yx(e,{relative:s}),c=l;return a!=="/"&&(c=l==="/"?a:br([a,l])),n.createHref({pathname:c,search:o,hash:i})}function Hs(){return f.useContext(Qi)!=null}function qs(){return Hs()||be(!1),f.useContext(Qi).location}function Kx(e){f.useContext(Pr).static||f.useLayoutEffect(e)}function Ar(){let{isDataRoute:e}=f.useContext(er);return e?lv():Yb()}function Yb(){Hs()||be(!1);let e=f.useContext(ud),{basename:t,future:s,navigator:a}=f.useContext(Pr),{matches:n}=f.useContext(er),{pathname:i}=qs(),l=JSON.stringify(cd(n,s.v7_relativeSplatPath)),o=f.useRef(!1);return Kx(()=>{o.current=!0}),f.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){a.go(d);return}let m=dd(d,JSON.parse(l),i,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:br([t,m.pathname])),(u.replace?a.replace:a.push)(m,u.state,u)},[t,a,l,i,e])}function md(){let{matches:e}=f.useContext(er),t=e[e.length-1];return t?t.params:{}}function Yx(e,t){let{relative:s}=t===void 0?{}:t,{future:a}=f.useContext(Pr),{matches:n}=f.useContext(er),{pathname:i}=qs(),l=JSON.stringify(cd(n,a.v7_relativeSplatPath));return f.useMemo(()=>dd(e,JSON.parse(l),i,s==="path"),[e,l,i,s])}function Qb(e,t){return Xb(e,t)}function Xb(e,t,s,a){Hs()||be(!1);let{navigator:n}=f.useContext(Pr),{matches:i}=f.useContext(er),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=qs(),u;if(t){var m;let j=typeof t=="string"?Bs(t):t;c==="/"||(m=j.pathname)!=null&&m.startsWith(c)||be(!1),u=j}else u=d;let h=u.pathname||"/",x=h;if(c!=="/"){let j=c.replace(/^\//,"").split("/");x="/"+h.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=Sb(e,{pathname:x}),v=rv(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:br([c,n.encodeLocation?n.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:br([c,n.encodeLocation?n.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,s,a);return t&&v?f.createElement(Qi.Provider,{value:{location:Ha({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:cr.Pop}},v):v}function Jb(){let e=iv(),t=qb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),s?f.createElement("pre",{style:n},s):null,null)}const Zb=f.createElement(Jb,null);class ev extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?f.createElement(er.Provider,{value:this.props.routeContext},f.createElement(Gx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tv(e){let{routeContext:t,match:s,children:a}=e,n=f.useContext(ud);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),f.createElement(er.Provider,{value:t},a)}function rv(e,t,s,a){var n;if(t===void 0&&(t=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,o=(n=s)==null?void 0:n.errors;if(o!=null){let u=l.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);u>=0||be(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(s&&a&&a.v7_partialHydration)for(let u=0;u<l.length;u++){let m=l[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:h,errors:x}=s,b=m.route.loader&&h[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||b){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,m,h)=>{let x,b=!1,v=null,j=null;s&&(x=o&&m.route.id?o[m.route.id]:void 0,v=m.route.errorElement||Zb,c&&(d<0&&h===0?(b=!0,j=null):d===h&&(b=!0,j=m.route.hydrateFallbackElement||null)));let p=t.concat(l.slice(0,h+1)),g=()=>{let y;return x?y=v:b?y=j:m.route.Component?y=f.createElement(m.route.Component,null):m.route.element?y=m.route.element:y=u,f.createElement(tv,{match:m,routeContext:{outlet:u,matches:p,isDataRoute:s!=null},children:y})};return s&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?f.createElement(ev,{location:s.location,revalidation:s.revalidation,component:v,error:x,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var Qx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Qx||{}),wi=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(wi||{});function sv(e){let t=f.useContext(ud);return t||be(!1),t}function av(e){let t=f.useContext(Gb);return t||be(!1),t}function nv(e){let t=f.useContext(er);return t||be(!1),t}function Xx(e){let t=nv(),s=t.matches[t.matches.length-1];return s.route.id||be(!1),s.route.id}function iv(){var e;let t=f.useContext(Gx),s=av(wi.UseRouteError),a=Xx(wi.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[a]}function lv(){let{router:e}=sv(Qx.UseNavigateStable),t=Xx(wi.UseNavigateStable),s=f.useRef(!1);return Kx(()=>{s.current=!0}),f.useCallback(function(n,i){i===void 0&&(i={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Ha({fromRouteId:t},i)))},[e,t])}function ov(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function xs(e){let{to:t,replace:s,state:a,relative:n}=e;Hs()||be(!1);let{future:i,static:l}=f.useContext(Pr),{matches:o}=f.useContext(er),{pathname:c}=qs(),d=Ar(),u=dd(t,cd(o,i.v7_relativeSplatPath),c,n==="path"),m=JSON.stringify(u);return f.useEffect(()=>d(JSON.parse(m),{replace:s,state:a,relative:n}),[d,m,n,s,a]),null}function te(e){be(!1)}function cv(e){let{basename:t="/",children:s=null,location:a,navigationType:n=cr.Pop,navigator:i,static:l=!1,future:o}=e;Hs()&&be(!1);let c=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:i,static:l,future:Ha({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof a=="string"&&(a=Bs(a));let{pathname:u="/",search:m="",hash:h="",state:x=null,key:b="default"}=a,v=f.useMemo(()=>{let j=od(u,c);return j==null?null:{location:{pathname:j,search:m,hash:h,state:x,key:b},navigationType:n}},[c,u,m,h,x,b,n]);return v==null?null:f.createElement(Pr.Provider,{value:d},f.createElement(Qi.Provider,{children:s,value:v}))}function dv(e){let{children:t,location:s}=e;return Qb(zo(t),s)}new Promise(()=>{});function zo(e,t){t===void 0&&(t=[]);let s=[];return f.Children.forEach(e,(a,n)=>{if(!f.isValidElement(a))return;let i=[...t,n];if(a.type===f.Fragment){s.push.apply(s,zo(a.props.children,i));return}a.type!==te&&be(!1),!a.props.index||!a.props.children||be(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=zo(a.props.children,i)),s.push(l)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Bo.apply(this,arguments)}function uv(e,t){if(e==null)return{};var s={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function mv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hv(e,t){return e.button===0&&(!t||t==="_self")&&!mv(e)}const xv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fv="6";try{window.__reactRouterVersion=fv}catch{}const gv="startTransition",o0=dp[gv];function pv(e){let{basename:t,children:s,future:a,window:n}=e,i=f.useRef();i.current==null&&(i.current=jb({window:n,v5Compat:!0}));let l=i.current,[o,c]=f.useState({action:l.action,location:l.location}),{v7_startTransition:d}=a||{},u=f.useCallback(m=>{d&&o0?o0(()=>c(m)):c(m)},[c,d]);return f.useLayoutEffect(()=>l.listen(u),[l,u]),f.useEffect(()=>ov(a),[a]),f.createElement(cv,{basename:t,children:s,location:o.location,navigationType:o.action,navigator:l,future:a})}const yv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dr=f.forwardRef(function(t,s){let{onClick:a,relative:n,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,h=uv(t,xv),{basename:x}=f.useContext(Pr),b,v=!1;if(typeof d=="string"&&bv.test(d)&&(b=d,yv))try{let y=new URL(window.location.href),w=d.startsWith("//")?new URL(y.protocol+d):new URL(d),N=od(w.pathname,x);w.origin===y.origin&&N!=null?d=N+w.search+w.hash:v=!0}catch{}let j=Kb(d,{relative:n}),p=vv(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:n,viewTransition:m});function g(y){a&&a(y),y.defaultPrevented||p(y)}return f.createElement("a",Bo({},h,{href:b||j,onClick:v||i?a:g,ref:s,target:c}))});var c0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(c0||(c0={}));var d0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(d0||(d0={}));function vv(e,t){let{target:s,replace:a,state:n,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=Ar(),d=qs(),u=Yx(e,{relative:l});return f.useCallback(m=>{if(hv(m,s)){m.preventDefault();let h=a!==void 0?a:vi(d)===vi(u);c(e,{replace:h,state:n,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,u,a,n,s,e,i,l,o])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),$=(e,t)=>{const s=f.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...d},u)=>f.createElement("svg",{ref:u,...wv,width:n,height:n,stroke:a,strokeWidth:l?Number(i)*24/Number(n):i,className:["lucide",`lucide-${jv(e)}`,o].join(" "),...d},[...t.map(([m,h])=>f.createElement(m,h)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=$("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=$("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=$("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=$("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=$("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=$("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=$("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=$("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=$("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=$("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=$("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=$("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=$("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=$("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=$("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=$("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=$("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=$("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=$("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=$("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=$("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=$("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=$("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=$("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=$("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=$("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=$("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=$("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=$("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=$("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=$("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=$("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=$("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=$("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=$("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=$("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=$("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=$("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=$("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=$("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=$("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=$("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=$("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=$("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=$("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=$("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=$("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=$("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=$("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=$("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=$("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=$("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=$("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=$("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=$("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=$("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=$("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=$("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=$("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=$("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=$("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=$("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=$("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=$("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=$("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=$("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=$("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=$("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=$("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=$("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=$("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=$("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=$("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=$("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=$("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=$("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=$("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=$("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);class Gv{constructor(){this.token=null,this.baseURL="http://localhost:8081/api",this.token=localStorage.getItem("auth_token")}setToken(t){console.log(" Setting token in API client:",t?"token provided":"null"),this.token=t,t?(localStorage.setItem("auth_token",t),console.log(" Token saved to localStorage")):(localStorage.removeItem("auth_token"),console.log(" Token removed from localStorage"))}async request(t,s={}){const a=`${this.baseURL}${t}`,n={headers:{"Content-Type":"application/json",...this.token&&{Authorization:`Bearer ${this.token}`},...s.headers},...s};console.log(` Making ${s.method||"GET"} request to: ${a}`),console.log(" Token in request:",this.token?"present":"missing");try{const i=await fetch(a,n);if(console.log(` Response status: ${i.status}`),!i.ok){const o=await i.json().catch(()=>({}));throw console.log(" API Error:",o),new Error(o.message||`HTTP ${i.status}: ${i.statusText}`)}const l=i.headers.get("content-type");if(l&&l.includes("application/json")){const o=await i.json();return console.log(" API Response data:",o),o}return i}catch(i){throw console.log(" Request error:",i),i instanceof Error?i:new Error("Network error occurred")}}async login(t,s){const a=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:t,password:s})});return this.setToken(a.access_token),a}async register(t,s,a,n){const i=await this.request("/auth/register",{method:"POST",body:JSON.stringify({email:t,password:s,fullName:a,role:n})});return this.setToken(i.access_token),i}async getProfile(){return this.request("/auth/profile")}async logout(){return this.setToken(null),Promise.resolve()}async getUsers(t){try{const s=new URLSearchParams;t!=null&&t.role&&s.append("role",t.role);const a=`/users${s.toString()?`?${s.toString()}`:""}`,n=await this.request(a);return Array.isArray(n)?{users:n}:{users:n.users||n}}catch(s){console.error("Error fetching users:",s);const a=[{id:"1",email:"admin@techprocessing.com",full_name:"System Administrator",fullName:"System Administrator",role:"ADMIN",is_active:!0,isActive:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",email:"john.doe@example.com",full_name:"John Doe",fullName:"John Doe",role:"CLIENT",is_active:!0,isActive:!0,phone:"(555) 123-4567",company:"Doe Enterprises",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"3",email:"jane.smith@example.com",full_name:"Jane Smith",fullName:"Jane Smith",role:"CLIENT",is_active:!0,isActive:!0,phone:"(555) 987-6543",company:"Smith Solutions",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];return{users:t!=null&&t.role?a.filter(i=>i.role===t.role):a}}}async createUser(t){return this.request("/users",{method:"POST",body:JSON.stringify(t)})}async updateUser(t,s){return this.request(`/users/${t}`,{method:"PATCH",body:JSON.stringify(s)})}async deleteUser(t){return this.request(`/users/${t}`,{method:"DELETE"})}async getUserStats(){return this.request("/users/stats")}async getClients(){return this.getUsers({role:"CLIENT"})}async createClient(t){return this.createUser({...t,password:"temp123",role:"CLIENT"})}async updateClient(t,s){return this.updateUser(t,s)}async updateClientCredentials(t,s){return this.request(`/users/${t}/credentials`,{method:"PATCH",body:JSON.stringify(s)})}async deleteClient(t){return this.deleteUser(t)}async toggleClientStatus(t,s){return this.updateUser(t,{isActive:s})}async createClientProfile(t){return this.createUser({email:t.email,fullName:t.fullName,password:"temp123",role:"CLIENT"})}async getInvoices(t){try{const s=new URLSearchParams;t!=null&&t.status&&t.status!=="ALL"&&s.append("status",t.status),t!=null&&t.limit&&s.append("limit",t.limit.toString());const a=`/invoices${s.toString()?`?${s.toString()}`:""}`,n=await this.request(a);return Array.isArray(n)?{invoices:n}:{invoices:n.invoices||n}}catch(s){console.error("Error fetching invoices:",s);const a=this.generateAllClientInvoices(),n=t!=null&&t.status&&t.status!=="ALL"?a.filter(l=>l.status===t.status):a;return{invoices:t!=null&&t.limit?n.slice(0,t.limit):n}}}generateAllClientInvoices(){const t=[{id:"2",name:"John Doe",company:"Doe Enterprises"},{id:"3",name:"Jane Smith",company:"Smith Solutions"},{id:"4",name:"Mike Johnson",company:"Johnson Tech"},{id:"5",name:"Sarah Wilson",company:"Wilson Digital"}],s=[];return t.forEach(a=>{const n=this.generateInvoicesForClient(a.id,a.name,a.company);s.push(...n)}),s}generateInvoicesForClient(t,s,a){const n=this.simpleHash(t),i=2+n%4,l=[],o=["Website Development Project","E-commerce Platform Development","Mobile App Development","Database Migration","SEO Optimization","Monthly Maintenance","Security Audit","Performance Optimization"],c=[500,1200,2500,3500,4500,5e3,7500,1e4],d=["PAID","UNPAID","OVERDUE","DRAFT"];for(let u=0;u<i;u++){const m=(n+u)%o.length,h=(n+u)%c.length,x=(n+u)%d.length,b=new Date,v=30+u*15,j=30,p=new Date(b.getTime()-v*24*60*60*1e3),g=new Date(p.getTime()+j*24*60*60*1e3),y=d[x],w=y==="PAID"?new Date(g.getTime()-5*24*60*60*1e3):null;l.push({id:`inv_${t}_${n}_${u+1}`,client_id:t,client_name:s||`Client ${t}`,client:{id:t,full_name:s||`Client ${t}`,fullName:s||`Client ${t}`,email:`client${t}@example.com`,company:a||`Company ${t}`},description:o[m],amount:c[h].toString(),tax:(c[h]*.1).toString(),total:(c[h]*1.1).toString(),status:y,due_date:g.toISOString(),paid_date:(w==null?void 0:w.toISOString())||null,created_at:p.toISOString(),updated_at:p.toISOString(),payment_method:y==="PAID"?u%2===0?"CARD":"BANK_TRANSFER":null,notes:`Invoice for ${o[m]} - Client: ${s||t}`})}return l}simpleHash(t){let s=0;for(let a=0;a<t.length;a++){const n=t.charCodeAt(a);s=(s<<5)-s+n,s=s&s}return Math.abs(s)}async createInvoice(t){return this.request("/invoices",{method:"POST",body:JSON.stringify(t)})}async updateInvoice(t,s){return this.request(`/invoices/${t}`,{method:"PATCH",body:JSON.stringify(s)})}async updateInvoiceStatus(t,s){return this.request(`/invoices/${t}/status`,{method:"PATCH",body:JSON.stringify({status:s})})}async deleteInvoice(t){return this.request(`/invoices/${t}`,{method:"DELETE"})}async getInvoiceStats(){try{return await this.request("/invoices/stats")}catch(t){return console.error("Error fetching invoice stats:",t),{stats:{total_invoices:"3",paid_amount:"4500.00",unpaid_invoices:"2",total_amount:"7500.00"}}}}async generateInvoicePDF(t){const s=await fetch(`${this.baseURL}/invoices/${t}/pdf`,{headers:{...this.token&&{Authorization:`Bearer ${this.token}`}}});if(!s.ok)throw new Error("Failed to generate PDF");const a=await s.blob();return{success:!0,pdfUrl:URL.createObjectURL(a),filename:`invoice-${t}.pdf`}}async getClientInvoices(t){try{return await this.request(`/invoices?clientId=${t}`)}catch(s){return console.error("Error fetching client invoices:",s),{invoices:this.generateInvoicesForClient(t,`Client ${t}`,`Company ${t}`)}}}async getClientPayments(t){try{return await this.request(`/payments?clientId=${t}`)}catch(s){return console.error("Error fetching client payments:",s),{payments:this.generatePaymentsForClient(t,`Client ${t}`)}}}async getClientTransactionHistory(t){try{console.log("Fetching transaction history for client:",t);const a=(await this.getInvoices()).invoices||[];console.log("All invoices from backend:",a),console.log("Looking for client ID:",t);const n=a.filter(h=>{var b;const x=h.client_id===t||h.clientId===t||((b=h.client)==null?void 0:b.id)===t||typeof h.client=="string"&&h.client===t;return console.log("Invoice match check:",{invoiceId:h.id,description:h.description,client_id:h.client_id,clientId:h.clientId,client:h.client,targetClientId:t,matches:x}),x});console.log("Filtered client invoices:",n);const l=(await this.getPayments()).payments||[];console.log("All payments from backend:",l);const o=l.filter(h=>h.client_id===t||h.clientId===t||h.user_id===t||h.userId===t);console.log("Filtered client payments:",o);const d=(await this.getSubscriptions()).subscriptions||[];console.log("All subscriptions from backend:",d);const u=d.filter(h=>{var x;return h.client_id===t||h.clientId===t||((x=h.client)==null?void 0:x.id)===t});console.log("Filtered client subscriptions:",u),console.log("Final client data:",{clientId:t,invoices:n,payments:o,subscriptions:u});const m=[];return n.forEach(h=>{m.push({id:h.id,type:"invoice",description:h.description,amount:parseFloat(h.amount||h.total||"0"),status:h.status.toLowerCase(),date:h.created_at||h.createdAt,due_date:h.due_date||h.dueDate,invoice_number:h.invoice_number||h.invoiceNumber||`INV-${h.id.slice(-8)}`,payment_method:null,transaction_id:h.id,invoice_id:h.id})}),o.forEach(h=>{m.push({id:h.id,type:"payment",description:`Payment for: ${h.invoice_description||"Invoice"}`,amount:parseFloat(h.amount||"0"),status:h.status.toLowerCase(),date:h.created_at||h.createdAt||h.processed_at,payment_method:h.method,transaction_id:h.transaction_id,invoice_number:null})}),u.forEach(h=>{var x,b;m.push({id:h.id,type:"subscription",description:h.description||`${h.frequency} Subscription`,amount:parseFloat(h.amount||"0"),status:h.status.toLowerCase(),date:h.created_at||h.createdAt,due_date:h.next_billing_date||h.nextBillingDate,frequency:h.frequency,start_date:h.start_date||h.startDate,total_billed:parseFloat(h.total_billed||h.totalBilled||"0"),service_package:((x=h.servicePackage)==null?void 0:x.name)||((b=h.service_package)==null?void 0:b.name),transaction_id:h.id,subscription_id:h.id})}),m.sort((h,x)=>new Date(x.date).getTime()-new Date(h.date).getTime()),console.log("Final transactions:",m),{transactions:m,invoices:n,payments:o,subscriptions:u}}catch(s){return console.error("Error fetching client transaction history:",s),console.error("Complete failure in getClientTransactionHistory:",s),{transactions:[],invoices:[],payments:[],subscriptions:[],error:s.message}}}generatePaymentsForClient(t,s){return this.generateInvoicesForClient(t,s,`Company ${t}`).filter(i=>i.status==="PAID").map(i=>({id:`pay_${t}_${this.simpleHash(i.id)}_${Date.now()}`,invoice_id:i.id,client_id:t,client_name:s||`Client ${t}`,amount:i.amount,method:i.payment_method||"CARD",status:"COMPLETED",transaction_id:`TXN_${this.simpleHash(t+i.id)}_${this.simpleHash(t)}`,invoice_description:i.description,created_at:i.paid_date||i.created_at,processed_at:i.paid_date||i.created_at}))}async getPayments(){try{const t=await this.request("/payments");return Array.isArray(t)?{payments:t}:{payments:t.payments||t}}catch(t){return console.error("Error fetching payments:",t),{payments:[{id:"1",invoice_id:"2",client_name:"Jane Smith",amount:"4500.00",method:"CARD",status:"COMPLETED",transaction_id:"TXN_123456789",created_at:new Date(Date.now()-2*24*60*60*1e3).toISOString(),invoice_description:"E-commerce Platform Development"}]}}}async processPayment(t){return this.request("/payments",{method:"POST",body:JSON.stringify(t)})}async updatePaymentStatus(t,s){return this.request(`/payments/${t}/status`,{method:"PATCH",body:JSON.stringify({status:s})})}async getPaymentStats(){return this.request("/payments/stats")}async getCompletedPayments(){return this.request("/payments?status=COMPLETED")}async getServices(){try{const t=await this.request("/service-packages");return Array.isArray(t)?{services:t}:{services:t.services||t}}catch(t){return console.error("Error fetching services:",t),{services:[{id:"1",name:"Starter Website Package",description:"Perfect for small businesses and personal websites",price:799,features:["Responsive Design","Up to 5 Pages","Contact Form","Basic SEO","1 Month Support"],created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",name:"Business Website Package",description:"Professional website with advanced features",price:1999,features:["Custom Design","Up to 15 Pages","E-commerce Ready","Advanced SEO","Analytics Setup","3 Months Support"],created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"3",name:"Enterprise Application",description:"Full-stack web application with custom functionality",price:4999,features:["Custom Development","Database Integration","User Authentication","Admin Dashboard","API Development","6 Months Support"],created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]}}}async createService(t){return this.request("/service-packages",{method:"POST",body:JSON.stringify(t)})}async updateService(t,s){return this.request(`/service-packages/${t}`,{method:"PATCH",body:JSON.stringify(s)})}async deleteService(t){return this.request(`/service-packages/${t}`,{method:"DELETE"})}async getPaymentLinks(){try{console.log("Fetching payment links from API...");const t=await this.request("/payment-links").catch(s=>{throw console.error("API call failed, using fallback data:",s),s});return console.log("Payment links API response:",t),Array.isArray(t)?{links:t}:{links:t.links||t}}catch(t){return console.error("Error fetching payment links:",t),{links:[{id:"mock_1",title:"Website Development Payment",description:"Final payment for website project",amount:2500,status:"ACTIVE",client:{id:"2",full_name:"John Doe",fullName:"John Doe",email:"john@example.com"},secure_token:"abc123def456",secureToken:"abc123def456",expires_at:new Date(Date.now()+30*24*60*60*1e3).toISOString(),expiresAt:new Date(Date.now()+30*24*60*60*1e3).toISOString(),created_at:new Date().toISOString(),createdAt:new Date().toISOString()}]}}}generateSecureToken(){const t="ABCDEFGHJKMNPQRSTUVWXYZabcdefghijkmnpqrstuvwxyz23456789";let s="";for(let a=0;a<16;a++)s+=t.charAt(Math.floor(Math.random()*t.length));return s}async getClientSubscriptions(t){return await this.request(`/subscriptions/client/${t}`)}async createPaymentLink(t){try{return this.request("/payment-links",{method:"POST",body:JSON.stringify(t)})}catch(s){return console.error("Error creating payment link:",s),{link:{id:`link_${Date.now()}`,...t,status:"ACTIVE",secure_token:Math.random().toString(36).substr(2,16),created_at:new Date().toISOString()}}}}async getPaymentLinkByToken(t){try{return await this.request(`/payment-links/token/${t}`)}catch(s){return console.error("Error fetching payment link by token:",s),{link:{id:`link_${t}`,title:"Website Development Payment",description:"Final payment for website development project",amount:2500,client:{id:"2",full_name:"John Doe",email:"john@example.com",company_name:"Doe Enterprises"},status:"ACTIVE",expires_at:new Date(Date.now()+30*24*60*60*1e3).toISOString(),created_at:new Date().toISOString()}}}}async processPaymentLinkPayment(t,s){try{console.log("API: Processing payment for token:",t,s);const a=await this.request(`/payment-links/token/${t}/process-payment`,{method:"POST",body:JSON.stringify(s)});return console.log("API: Payment processing response:",a),a}catch(a){throw console.error("Error processing payment:",a),a}}async resendPaymentLinkEmail(t){try{return await this.request(`/payment-links/${t}/resend-email`,{method:"POST"})}catch(s){throw console.error("Error resending payment link email:",s),s}}async deletePaymentLink(t){try{return this.request(`/payment-links/${t}`,{method:"DELETE"})}catch(s){return console.error("Error deleting payment link:",s),{success:!0}}}async getSubscriptions(){try{console.log("Fetching subscriptions from API...");const t=await this.request("/subscriptions").catch(s=>{throw console.error("API call failed, using fallback data:",s),s});return console.log("Subscriptions API response:",t),Array.isArray(t)?{subscriptions:t}:{subscriptions:t.subscriptions||t}}catch(t){return console.error("Error fetching subscriptions:",t),{subscriptions:[{id:"72800f9a-914a-48a8-b779-3ea7699f65ea",clientId:"5d6ce508-06ce-46d6-8af5-cd0dc3898656",client_id:"5d6ce508-06ce-46d6-8af5-cd0dc3898656",client:{id:"5d6ce508-06ce-46d6-8af5-cd0dc3898656",full_name:"John Doe",fullName:"John Doe",email:"john@example.com"},amount:299.99,frequency:"MONTHLY",status:"ACTIVE",description:"Monthly Website Maintenance",startDate:new Date(Date.now()-60*24*60*60*1e3).toISOString(),start_date:new Date(Date.now()-60*24*60*60*1e3).toISOString(),nextBillingDate:new Date(Date.now()+5*24*60*60*1e3).toISOString(),next_billing_date:new Date(Date.now()+5*24*60*60*1e3).toISOString(),totalBilled:599.98,total_billed:599.98,createdAt:new Date(Date.now()-60*24*60*60*1e3).toISOString(),created_at:new Date(Date.now()-60*24*60*60*1e3).toISOString(),metadata:{notes:"Monthly maintenance and updates"}}]}}}async updateSubscription(t,s){try{return this.request(`/subscriptions/${t}`,{method:"PATCH",body:JSON.stringify(s)})}catch(a){return console.error("Error updating subscription:",a),{subscription:{id:t,...s,updatedAt:new Date().toISOString()}}}}async createSubscription(t){try{const s={...t,servicePackageId:t.serviceId};return delete s.serviceId,this.request("/subscriptions",{method:"POST",body:JSON.stringify(s)})}catch(s){return console.error("Error creating subscription:",s),{subscription:{id:`sub_${Date.now()}`,...t,status:"ACTIVE",createdAt:new Date().toISOString()}}}}async updateSubscriptionStatus(t,s){try{return this.request(`/subscriptions/${t}/status`,{method:"PATCH",body:JSON.stringify({status:s})})}catch(a){return console.error("Error updating subscription status:",a),{subscription:{id:t,status:s,updatedAt:new Date().toISOString()}}}}async deleteSubscription(t){try{return this.request(`/subscriptions/${t}`,{method:"DELETE"})}catch(s){return console.error("Error deleting subscription:",s),{success:!0}}}async getRefunds(){try{const t=await this.request("/refunds");return Array.isArray(t)?{refunds:t}:{refunds:t.refunds||t||[]}}catch(t){return console.error("Error fetching refunds:",t),{refunds:[{id:"1",client_name:"John Doe",client_email:"john@example.com",original_amount:2500,refund_amount:1e3,reason:"Customer Request",status:"COMPLETED",payment_id:"pay_123",created_at:new Date().toISOString()}]}}}async processRefund(t){try{return await this.request("/refunds",{method:"POST",body:JSON.stringify(t)})}catch(s){return console.error("Error processing refund:",s),{refund:{id:`refund_${Date.now()}`,...t,status:"COMPLETED",created_at:new Date().toISOString()}}}}async getAuditLogs(t){try{const s=new URLSearchParams;t!=null&&t.page&&s.append("page",t.page.toString()),t!=null&&t.limit&&s.append("limit",t.limit.toString()),t!=null&&t.action&&s.append("action",t.action),t!=null&&t.entityType&&s.append("entityType",t.entityType),t!=null&&t.userId&&s.append("userId",t.userId);const a=`/audit${s.toString()?`?${s.toString()}`:""}`;return await this.request(a)}catch(s){return console.error("Error fetching audit logs:",s),{logs:[{id:"1",action:"USER_LOGIN",entityType:"User",entityId:"1",details:{email:"admin@techprocessing.com"},user:{email:"admin@techprocessing.com",fullName:"System Administrator"},ipAddress:"192.168.1.1",createdAt:new Date().toISOString()},{id:"2",action:"INVOICE_CREATED",entityType:"Invoice",entityId:"1",details:{amount:2500,client:"John Doe"},user:{email:"admin@techprocessing.com",fullName:"System Administrator"},ipAddress:"192.168.1.1",createdAt:new Date(Date.now()-6e4).toISOString()},{id:"3",action:"PAYMENT_SUCCESS",entityType:"Payment",entityId:"1",details:{amount:4500,method:"CARD"},user:{email:"jane.smith@example.com",fullName:"Jane Smith"},ipAddress:"192.168.1.2",createdAt:new Date(Date.now()-12e4).toISOString()}],total:3,page:(t==null?void 0:t.page)||1,limit:(t==null?void 0:t.limit)||50}}}async getAuditStats(){return this.request("/audit/stats")}async createHostedPaymentToken(t){return this.request("/payments/hosted-token",{method:"POST",body:JSON.stringify(t)})}async getEntityAuditLogs(t,s){return this.request(`/audit/entity/${t}/${s}`)}async createAgent(t){try{return this.request("/agents",{method:"POST",body:JSON.stringify(t)})}catch(s){throw console.error("Error creating agent:",s),s}}async getAgents(){try{return await this.request("/agents")}catch(t){return console.error("Error fetching agents:",t),[]}}async getAgentStats(){try{return this.request("/agents/stats")}catch(t){return console.error("Error fetching agent stats:",t),{totalAgents:0,activeAgents:0,totalSales:0,totalSalesValue:0,totalCommissions:0,totalPaidOut:0,pendingCommissions:0,agents:[]}}}async getOwnAgentProfile(){try{return this.request("/agents/profile/me")}catch(t){throw console.error("Error fetching own agent profile:",t),t}}async createAgentSale(t){try{return this.request("/agents/sales",{method:"POST",body:JSON.stringify(t)})}catch(s){throw console.error("Error creating agent sale:",s),s}}async getAgentSales(t){try{const s=t?`/agents/sales?agentId=${t}`:"/agents/sales/me";return await this.request(s)}catch(s){return console.error("Error fetching agent sales:",s),[]}}async getAllAgentSales(){try{return await this.request("/agents/sales/all")}catch(t){return console.error("Error fetching all agent sales:",t),[]}}async getAgentSale(t){try{return this.request(`/agents/sales/${t}`)}catch(s){throw console.error("Error fetching agent sale:",s),s}}async updateSaleStatus(t,s){try{return this.request(`/agents/sales/${t}/status`,{method:"PATCH",body:JSON.stringify({status:s})})}catch(a){throw console.error("Error updating sale status:",a),a}}async updateCommissionStatus(t,s){try{return this.request(`/agents/sales/${t}/commission-status`,{method:"PATCH",body:JSON.stringify({status:s})})}catch(a){throw console.error("Error updating commission status:",a),a}}async updateAgentSaleNotes(t,s){try{return this.request(`/agents/sales/${t}/notes`,{method:"PATCH",body:JSON.stringify({notes:s})})}catch(a){throw console.error("Error updating agent sale notes:",a),a}}async resubmitAgentSale(t){try{return this.request("/agents/sales/resubmit",{method:"POST",body:JSON.stringify(t)})}catch(s){throw console.error("Error resubmitting agent sale:",s),s}}async updateAgentCommissionRates(t,s,a){try{return this.request(`/agents/${t}/commission-rates`,{method:"PATCH",body:JSON.stringify({agentCommissionRate:s,closerCommissionRate:a})})}catch(n){throw console.error("Error updating agent commission rates:",n),n}}async getAgentMonthlyStats(){try{return this.request("/agents/monthly-stats")}catch(t){throw console.error("Error fetching agent monthly stats:",t),t}}async getActiveClosers(){try{return this.request("/agents/closers/active")}catch(t){throw console.error("Error fetching active closers:",t),t}}async getAllClosers(){try{return this.request("/closers")}catch(t){throw console.error("Error fetching all closers:",t),t}}async getCloser(t){try{return this.request(`/closers/${t}`)}catch(s){throw console.error("Error fetching closer:",s),s}}async createCloser(t){try{return this.request("/closers",{method:"POST",body:JSON.stringify(t)})}catch(s){throw console.error("Error creating closer:",s),s}}async updateCloser(t,s){try{return this.request(`/closers/${t}`,{method:"PATCH",body:JSON.stringify(s)})}catch(a){throw console.error("Error updating closer:",a),a}}async deleteCloser(t){try{return this.request(`/closers/${t}`,{method:"DELETE"})}catch(s){throw console.error("Error deleting closer:",s),s}}async getCloserStats(t){try{console.log("Making request to:",`/closers/${t}/stats`);const s=await this.request(`/closers/${t}/stats`);return console.log("Closer stats response:",s),s}catch(s){throw console.error("Error fetching closer stats:",s),console.error("Error response:",s.response),s}}async getCloserMonthlyStats(t){try{return this.request(`/closers/${t}/monthly-stats`)}catch(s){throw console.error("Error fetching closer monthly stats:",s),s}}async getCloserSales(t){try{return this.request(`/closers/${t}/sales`)}catch(s){throw console.error("Error fetching closer sales:",s),s}}async getAllClosersStats(){try{return this.request("/closers/stats")}catch(t){throw console.error("Error fetching all closers stats:",t),t}}async getFilteredCloserStats(t){try{const s=new URLSearchParams;t.startDate&&s.append("startDate",t.startDate),t.endDate&&s.append("endDate",t.endDate),t.month&&s.append("month",t.month),t.minCommission&&s.append("minCommission",t.minCommission.toString()),t.maxCommission&&s.append("maxCommission",t.maxCommission.toString());const a=s.toString(),n=a?`/closers/stats/filtered?${a}`:"/closers/stats/filtered";return this.request(n)}catch(s){throw console.error("Error fetching filtered closer stats:",s),s}}async getCloserAuditData(t){try{const s=new URLSearchParams;t.closerId&&s.append("closerId",t.closerId),t.agentId&&s.append("agentId",t.agentId),t.startDate&&s.append("startDate",t.startDate),t.endDate&&s.append("endDate",t.endDate),t.saleStatus&&s.append("saleStatus",t.saleStatus),t.commissionStatus&&s.append("commissionStatus",t.commissionStatus),t.minAmount&&s.append("minAmount",t.minAmount.toString()),t.maxAmount&&s.append("maxAmount",t.maxAmount.toString());const a=s.toString(),n=a?`/closers/audit?${a}`:"/closers/audit";return this.request(n)}catch(s){throw console.error("Error fetching closer audit data:",s),s}}}const O=new Gv,lf=f.createContext(void 0);function Tt(){const e=f.useContext(lf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Kv({children:e}){const[t,s]=f.useState(null),[a,n]=f.useState(!0),[i,l]=f.useState(!1),o=async()=>{try{console.log(" Making API call to get profile...");const h=await O.getProfile();console.log(" Profile response:",h),s(h.user),console.log(" User set in state:",h.user)}catch(h){console.error(" Error fetching user:",h);const x=(h==null?void 0:h.message)||"";x.includes("401")||x.includes("Unauthorized")||x.includes("Invalid token")?(console.log(" Authentication error detected, clearing auth..."),localStorage.removeItem("auth_token"),O.setToken(null),s(null)):console.warn(" Network error during profile fetch, keeping user logged in")}};f.useEffect(()=>{(async()=>{try{console.log(" Initializing authentication...");const x=localStorage.getItem("auth_token");console.log(" Token from localStorage:",x?"exists":"not found"),x?(console.log(" Setting token in API client..."),O.setToken(x),console.log(" Fetching user profile..."),await o()):console.log(" No token found, user not authenticated")}catch(x){console.error(" Auth initialization error:",x),localStorage.removeItem("auth_token"),O.setToken(null),s(null)}finally{console.log(" Auth initialization complete"),n(!1),l(!0)}})()},[]);const m={user:t,loading:a,signIn:async(h,x)=>{try{const b=await O.login(h,x);return O.setToken(b.access_token),s(b.user),b}catch(b){throw b}},signUp:async(h,x,b,v)=>{try{const j=await O.register(h,x,b,v);return O.setToken(j.access_token),s(j.user),j}catch(j){throw j}},signOut:async()=>{try{await O.logout(),O.setToken(null),s(null)}catch(h){console.error("Error signing out:",h),O.setToken(null),s(null)}}};return r.jsx(lf.Provider,{value:m,children:e})}const of=f.createContext(void 0);function Yv(){const e=f.useContext(of);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function Qv({children:e}){const[t,s]=f.useState(()=>localStorage.getItem("theme")||"system"),[a,n]=f.useState("light");return f.useEffect(()=>{const i=window.document.documentElement,l=()=>{let d;t==="system"?d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":d=t,n(d),i.classList.remove("light","dark"),i.classList.add(d)};l(),localStorage.setItem("theme",t);const o=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>{t==="system"&&l()};return o.addEventListener("change",c),()=>o.removeEventListener("change",c)},[t]),r.jsx(of.Provider,{value:{theme:t,setTheme:s,actualTheme:a},children:e})}class Xv extends f.Component{constructor(t){super(t),this.handleReload=()=>{window.location.reload()},this.handleGoHome=()=>{window.location.href="/"},this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("Error caught by boundary:",t,s),this.setState({error:t,errorInfo:s})}render(){return this.state.hasError?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Jx,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Something went wrong"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"We're sorry, but something unexpected happened. Please try refreshing the page or contact support if the problem persists."}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:this.handleReload,className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[r.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Reload Page"]}),r.jsxs("button",{onClick:this.handleGoHome,className:"w-full flex items-center justify-center px-4 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium",children:[r.jsx(qo,{className:"h-4 w-4 mr-2"}),"Go Home"]})]}),!1]})}):this.props.children}}const cf=f.createContext(void 0);function df(){const e=f.useContext(cf);if(!e)throw new Error("useNotifications must be used within NotificationProvider");return e}function Jv({children:e}){const[t,s]=f.useState([]),a=f.useCallback(m=>{s(h=>h.filter(x=>x.id!==m))},[]),n=f.useCallback(m=>{const h=Math.random().toString(36).substr(2,9),x={...m,id:h};s(b=>[...b,x]),setTimeout(()=>{a(h)},m.duration||5e3)},[a]),i=f.useCallback((m,h)=>{n({type:"success",title:m,message:h||""})},[n]),l=f.useCallback((m,h)=>{n({type:"error",title:m,message:h||"",duration:7e3})},[n]),o=f.useCallback((m,h)=>{n({type:"warning",title:m,message:h||""})},[n]),c=f.useCallback((m,h)=>{n({type:"info",title:m,message:h||""})},[n]),d=m=>{switch(m){case"success":return r.jsx(_e,{className:"h-5 w-5 text-green-500"});case"error":return r.jsx(Cs,{className:"h-5 w-5 text-red-500"});case"warning":return r.jsx(Ut,{className:"h-5 w-5 text-yellow-500"});case"info":return r.jsx(m0,{className:"h-5 w-5 text-blue-500"});default:return r.jsx(m0,{className:"h-5 w-5 text-blue-500"})}},u=m=>{switch(m){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-blue-50 border-blue-200"}};return r.jsxs(cf.Provider,{value:{showNotification:n,showSuccess:i,showError:l,showWarning:o,showInfo:c},children:[e,r.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:t.map(m=>r.jsx("div",{className:`p-4 rounded-lg border shadow-lg animate-slide-up ${u(m.type)}`,children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:d(m.type)}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:m.title}),m.message&&r.jsx("p",{className:"text-sm text-gray-700 mt-1",children:m.message})]}),r.jsx("button",{onClick:()=>a(m.id),className:"ml-3 text-gray-400 hover:text-gray-600",children:r.jsx(Z,{className:"h-4 w-4"})})]})},m.id))})]})}const xd=f.createContext({});function fd(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const gd=typeof window<"u",uf=gd?f.useLayoutEffect:f.useEffect,Zi=f.createContext(null);function pd(e,t){e.indexOf(t)===-1&&e.push(t)}function yd(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Xt=(e,t,s)=>s>t?t:s<e?e:s;let Pi=()=>{};const Jt={},mf=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function hf(e){return typeof e=="object"&&e!==null}const xf=e=>/^0[^.\s]+$/u.test(e);function bd(e){let t;return()=>(t===void 0&&(t=e()),t)}const ft=e=>e,Zv=(e,t)=>s=>t(e(s)),ln=(...e)=>e.reduce(Zv),Ka=(e,t,s)=>{const a=t-e;return a===0?1:(s-e)/a};class vd{constructor(){this.subscriptions=[]}add(t){return pd(this.subscriptions,t),()=>yd(this.subscriptions,t)}notify(t,s,a){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,s,a);else for(let i=0;i<n;i++){const l=this.subscriptions[i];l&&l(t,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ft=e=>e*1e3,Ot=e=>e/1e3;function ff(e,t){return t?e*(1e3/t):0}const gf=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,ew=1e-7,tw=12;function rw(e,t,s,a,n){let i,l,o=0;do l=t+(s-t)/2,i=gf(l,a,n)-e,i>0?s=l:t=l;while(Math.abs(i)>ew&&++o<tw);return l}function on(e,t,s,a){if(e===t&&s===a)return ft;const n=i=>rw(i,0,1,e,s);return i=>i===0||i===1?i:gf(n(i),t,a)}const pf=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yf=e=>t=>1-e(1-t),bf=on(.33,1.53,.69,.99),wd=yf(bf),vf=pf(wd),wf=e=>(e*=2)<1?.5*wd(e):.5*(2-Math.pow(2,-10*(e-1))),jd=e=>1-Math.sin(Math.acos(e)),jf=yf(jd),Nf=pf(jd),sw=on(.42,0,1,1),aw=on(0,0,.58,1),kf=on(.42,0,.58,1),nw=e=>Array.isArray(e)&&typeof e[0]!="number",Sf=e=>Array.isArray(e)&&typeof e[0]=="number",x0={linear:ft,easeIn:sw,easeInOut:kf,easeOut:aw,circIn:jd,circInOut:Nf,circOut:jf,backIn:wd,backInOut:vf,backOut:bf,anticipate:wf},iw=e=>typeof e=="string",f0=e=>{if(Sf(e)){Pi(e.length===4);const[t,s,a,n]=e;return on(t,s,a,n)}else if(iw(e))return Pi(x0[e]!==void 0),x0[e];return e},Tn=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],g0={value:null,addProjectionMetrics:null};function lw(e,t){let s=new Set,a=new Set,n=!1,i=!1;const l=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},c=0;function d(m){l.has(m)&&(u.schedule(m),e()),c++,m(o)}const u={schedule:(m,h=!1,x=!1)=>{const v=x&&n?s:a;return h&&l.add(m),v.has(m)||v.add(m),m},cancel:m=>{a.delete(m),l.delete(m)},process:m=>{if(o=m,n){i=!0;return}n=!0,[s,a]=[a,s],s.forEach(d),t&&g0.value&&g0.value.frameloop[t].push(c),c=0,s.clear(),n=!1,i&&(i=!1,u.process(m))}};return u}const ow=40;function Cf(e,t){let s=!1,a=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,l=Tn.reduce((y,w)=>(y[w]=lw(i,t?w:void 0),y),{}),{setup:o,read:c,resolveKeyframes:d,preUpdate:u,update:m,preRender:h,render:x,postRender:b}=l,v=()=>{const y=Jt.useManualTiming?n.timestamp:performance.now();s=!1,Jt.useManualTiming||(n.delta=a?1e3/60:Math.max(Math.min(y-n.timestamp,ow),1)),n.timestamp=y,n.isProcessing=!0,o.process(n),c.process(n),d.process(n),u.process(n),m.process(n),h.process(n),x.process(n),b.process(n),n.isProcessing=!1,s&&t&&(a=!1,e(v))},j=()=>{s=!0,a=!0,n.isProcessing||e(v)};return{schedule:Tn.reduce((y,w)=>{const N=l[w];return y[w]=(k,C=!1,E=!1)=>(s||j(),N.schedule(k,C,E)),y},{}),cancel:y=>{for(let w=0;w<Tn.length;w++)l[Tn[w]].cancel(y)},state:n,steps:l}}const{schedule:oe,cancel:Nr,state:Ae,steps:Il}=Cf(typeof requestAnimationFrame<"u"?requestAnimationFrame:ft,!0);let Wn;function cw(){Wn=void 0}const Ke={now:()=>(Wn===void 0&&Ke.set(Ae.isProcessing||Jt.useManualTiming?Ae.timestamp:performance.now()),Wn),set:e=>{Wn=e,queueMicrotask(cw)}},Ef=e=>t=>typeof t=="string"&&t.startsWith(e),Nd=Ef("--"),dw=Ef("var(--"),kd=e=>dw(e)?uw.test(e.split("/*")[0].trim()):!1,uw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ks={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ya={...Ks,transform:e=>Xt(0,1,e)},Dn={...Ks,default:1},wa=e=>Math.round(e*1e5)/1e5,Sd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mw(e){return e==null}const hw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cd=(e,t)=>s=>!!(typeof s=="string"&&hw.test(s)&&s.startsWith(e)||t&&!mw(s)&&Object.prototype.hasOwnProperty.call(s,t)),Pf=(e,t,s)=>a=>{if(typeof a!="string")return a;const[n,i,l,o]=a.match(Sd);return{[e]:parseFloat(n),[t]:parseFloat(i),[s]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},xw=e=>Xt(0,255,e),Ml={...Ks,transform:e=>Math.round(xw(e))},Vr={test:Cd("rgb","red"),parse:Pf("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:a=1})=>"rgba("+Ml.transform(e)+", "+Ml.transform(t)+", "+Ml.transform(s)+", "+wa(Ya.transform(a))+")"};function fw(e){let t="",s="",a="",n="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),n=e.substring(4,5),t+=t,s+=s,a+=a,n+=n),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:n?parseInt(n,16)/255:1}}const Go={test:Cd("#"),parse:fw,transform:Vr.transform},cn=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),rr=cn("deg"),Vt=cn("%"),W=cn("px"),gw=cn("vh"),pw=cn("vw"),p0={...Vt,parse:e=>Vt.parse(e)/100,transform:e=>Vt.transform(e*100)},fs={test:Cd("hsl","hue"),parse:Pf("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+Vt.transform(wa(t))+", "+Vt.transform(wa(s))+", "+wa(Ya.transform(a))+")"},we={test:e=>Vr.test(e)||Go.test(e)||fs.test(e),parse:e=>Vr.test(e)?Vr.parse(e):fs.test(e)?fs.parse(e):Go.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Vr.transform(e):fs.transform(e),getAnimatableNone:e=>{const t=we.parse(e);return t.alpha=0,we.transform(t)}},yw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bw(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Sd))==null?void 0:t.length)||0)+(((s=e.match(yw))==null?void 0:s.length)||0)>0}const Af="number",Tf="color",vw="var",ww="var(",y0="${}",jw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qa(e){const t=e.toString(),s=[],a={color:[],number:[],var:[]},n=[];let i=0;const o=t.replace(jw,c=>(we.test(c)?(a.color.push(i),n.push(Tf),s.push(we.parse(c))):c.startsWith(ww)?(a.var.push(i),n.push(vw),s.push(c)):(a.number.push(i),n.push(Af),s.push(parseFloat(c))),++i,y0)).split(y0);return{values:s,split:o,indexes:a,types:n}}function Df(e){return Qa(e).values}function Lf(e){const{split:t,types:s}=Qa(e),a=t.length;return n=>{let i="";for(let l=0;l<a;l++)if(i+=t[l],n[l]!==void 0){const o=s[l];o===Af?i+=wa(n[l]):o===Tf?i+=we.transform(n[l]):i+=n[l]}return i}}const Nw=e=>typeof e=="number"?0:we.test(e)?we.getAnimatableNone(e):e;function kw(e){const t=Df(e);return Lf(e)(t.map(Nw))}const kr={test:bw,parse:Df,createTransformer:Lf,getAnimatableNone:kw};function Rl(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function Sw({hue:e,saturation:t,lightness:s,alpha:a}){e/=360,t/=100,s/=100;let n=0,i=0,l=0;if(!t)n=i=l=s;else{const o=s<.5?s*(1+t):s+t-s*t,c=2*s-o;n=Rl(c,o,e+1/3),i=Rl(c,o,e),l=Rl(c,o,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:a}}function Ai(e,t){return s=>s>0?t:e}const de=(e,t,s)=>e+(t-e)*s,_l=(e,t,s)=>{const a=e*e,n=s*(t*t-a)+a;return n<0?0:Math.sqrt(n)},Cw=[Go,Vr,fs],Ew=e=>Cw.find(t=>t.test(e));function b0(e){const t=Ew(e);if(!t)return!1;let s=t.parse(e);return t===fs&&(s=Sw(s)),s}const v0=(e,t)=>{const s=b0(e),a=b0(t);if(!s||!a)return Ai(e,t);const n={...s};return i=>(n.red=_l(s.red,a.red,i),n.green=_l(s.green,a.green,i),n.blue=_l(s.blue,a.blue,i),n.alpha=de(s.alpha,a.alpha,i),Vr.transform(n))},Ko=new Set(["none","hidden"]);function Pw(e,t){return Ko.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function Aw(e,t){return s=>de(e,t,s)}function Ed(e){return typeof e=="number"?Aw:typeof e=="string"?kd(e)?Ai:we.test(e)?v0:Lw:Array.isArray(e)?If:typeof e=="object"?we.test(e)?v0:Tw:Ai}function If(e,t){const s=[...e],a=s.length,n=e.map((i,l)=>Ed(i)(i,t[l]));return i=>{for(let l=0;l<a;l++)s[l]=n[l](i);return s}}function Tw(e,t){const s={...e,...t},a={};for(const n in s)e[n]!==void 0&&t[n]!==void 0&&(a[n]=Ed(e[n])(e[n],t[n]));return n=>{for(const i in a)s[i]=a[i](n);return s}}function Dw(e,t){const s=[],a={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){const i=t.types[n],l=e.indexes[i][a[i]],o=e.values[l]??0;s[n]=o,a[i]++}return s}const Lw=(e,t)=>{const s=kr.createTransformer(t),a=Qa(e),n=Qa(t);return a.indexes.var.length===n.indexes.var.length&&a.indexes.color.length===n.indexes.color.length&&a.indexes.number.length>=n.indexes.number.length?Ko.has(e)&&!n.values.length||Ko.has(t)&&!a.values.length?Pw(e,t):ln(If(Dw(a,n),n.values),s):Ai(e,t)};function Mf(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?de(e,t,s):Ed(e)(e,t)}const Iw=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>oe.update(t,s),stop:()=>Nr(t),now:()=>Ae.isProcessing?Ae.timestamp:Ke.now()}},Rf=(e,t,s=10)=>{let a="";const n=Math.max(Math.round(t/s),2);for(let i=0;i<n;i++)a+=Math.round(e(i/(n-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Ti=2e4;function Pd(e){let t=0;const s=50;let a=e.next(t);for(;!a.done&&t<Ti;)t+=s,a=e.next(t);return t>=Ti?1/0:t}function Mw(e,t=100,s){const a=s({...e,keyframes:[0,t]}),n=Math.min(Pd(a),Ti);return{type:"keyframes",ease:i=>a.next(n*i).value/t,duration:Ot(n)}}const Rw=5;function _f(e,t,s){const a=Math.max(t-Rw,0);return ff(s-e(a),t-a)}const xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fl=.001;function _w({duration:e=xe.duration,bounce:t=xe.bounce,velocity:s=xe.velocity,mass:a=xe.mass}){let n,i,l=1-t;l=Xt(xe.minDamping,xe.maxDamping,l),e=Xt(xe.minDuration,xe.maxDuration,Ot(e)),l<1?(n=d=>{const u=d*l,m=u*e,h=u-s,x=Yo(d,l),b=Math.exp(-m);return Fl-h/x*b},i=d=>{const m=d*l*e,h=m*s+s,x=Math.pow(l,2)*Math.pow(d,2)*e,b=Math.exp(-m),v=Yo(Math.pow(d,2),l);return(-n(d)+Fl>0?-1:1)*((h-x)*b)/v}):(n=d=>{const u=Math.exp(-d*e),m=(d-s)*e+1;return-Fl+u*m},i=d=>{const u=Math.exp(-d*e),m=(s-d)*(e*e);return u*m});const o=5/e,c=Ow(n,i,o);if(e=Ft(e),isNaN(c))return{stiffness:xe.stiffness,damping:xe.damping,duration:e};{const d=Math.pow(c,2)*a;return{stiffness:d,damping:l*2*Math.sqrt(a*d),duration:e}}}const Fw=12;function Ow(e,t,s){let a=s;for(let n=1;n<Fw;n++)a=a-e(a)/t(a);return a}function Yo(e,t){return e*Math.sqrt(1-t*t)}const Vw=["duration","bounce"],Uw=["stiffness","damping","mass"];function w0(e,t){return t.some(s=>e[s]!==void 0)}function $w(e){let t={velocity:xe.velocity,stiffness:xe.stiffness,damping:xe.damping,mass:xe.mass,isResolvedFromDuration:!1,...e};if(!w0(e,Uw)&&w0(e,Vw))if(e.visualDuration){const s=e.visualDuration,a=2*Math.PI/(s*1.2),n=a*a,i=2*Xt(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:xe.mass,stiffness:n,damping:i}}else{const s=_w(e);t={...t,...s,mass:xe.mass},t.isResolvedFromDuration=!0}return t}function Di(e=xe.visualDuration,t=xe.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:n}=s;const i=s.keyframes[0],l=s.keyframes[s.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:m,velocity:h,isResolvedFromDuration:x}=$w({...s,velocity:-Ot(s.velocity||0)}),b=h||0,v=d/(2*Math.sqrt(c*u)),j=l-i,p=Ot(Math.sqrt(c/u)),g=Math.abs(j)<5;a||(a=g?xe.restSpeed.granular:xe.restSpeed.default),n||(n=g?xe.restDelta.granular:xe.restDelta.default);let y;if(v<1){const N=Yo(p,v);y=k=>{const C=Math.exp(-v*p*k);return l-C*((b+v*p*j)/N*Math.sin(N*k)+j*Math.cos(N*k))}}else if(v===1)y=N=>l-Math.exp(-p*N)*(j+(b+p*j)*N);else{const N=p*Math.sqrt(v*v-1);y=k=>{const C=Math.exp(-v*p*k),E=Math.min(N*k,300);return l-C*((b+v*p*j)*Math.sinh(E)+N*j*Math.cosh(E))/N}}const w={calculatedDuration:x&&m||null,next:N=>{const k=y(N);if(x)o.done=N>=m;else{let C=N===0?b:0;v<1&&(C=N===0?Ft(b):_f(y,N,k));const E=Math.abs(C)<=a,P=Math.abs(l-k)<=n;o.done=E&&P}return o.value=o.done?l:k,o},toString:()=>{const N=Math.min(Pd(w),Ti),k=Rf(C=>w.next(N*C).value,N,30);return N+"ms "+k},toTransition:()=>{}};return w}Di.applyToOptions=e=>{const t=Mw(e,100,Di);return e.ease=t.ease,e.duration=Ft(t.duration),e.type="keyframes",e};function Qo({keyframes:e,velocity:t=0,power:s=.8,timeConstant:a=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:l,min:o,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],h={done:!1,value:m},x=E=>o!==void 0&&E<o||c!==void 0&&E>c,b=E=>o===void 0?c:c===void 0||Math.abs(o-E)<Math.abs(c-E)?o:c;let v=s*t;const j=m+v,p=l===void 0?j:l(j);p!==j&&(v=p-m);const g=E=>-v*Math.exp(-E/a),y=E=>p+g(E),w=E=>{const P=g(E),A=y(E);h.done=Math.abs(P)<=d,h.value=h.done?p:A};let N,k;const C=E=>{x(h.value)&&(N=E,k=Di({keyframes:[h.value,b(h.value)],velocity:_f(y,E,h.value),damping:n,stiffness:i,restDelta:d,restSpeed:u}))};return C(0),{calculatedDuration:null,next:E=>{let P=!1;return!k&&N===void 0&&(P=!0,w(E),C(E)),N!==void 0&&E>=N?k.next(E-N):(!P&&w(E),h)}}}function zw(e,t,s){const a=[],n=s||Jt.mix||Mf,i=e.length-1;for(let l=0;l<i;l++){let o=n(e[l],e[l+1]);if(t){const c=Array.isArray(t)?t[l]||ft:t;o=ln(c,o)}a.push(o)}return a}function Bw(e,t,{clamp:s=!0,ease:a,mixer:n}={}){const i=e.length;if(Pi(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=zw(t,a,n),c=o.length,d=u=>{if(l&&u<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(u<e[m+1]);m++);const h=Ka(e[m],e[m+1],u);return o[m](h)};return s?u=>d(Xt(e[0],e[i-1],u)):d}function Hw(e,t){const s=e[e.length-1];for(let a=1;a<=t;a++){const n=Ka(0,t,a);e.push(de(s,1,n))}}function qw(e){const t=[0];return Hw(t,e.length-1),t}function Ww(e,t){return e.map(s=>s*t)}function Gw(e,t){return e.map(()=>t||kf).splice(0,e.length-1)}function ja({duration:e=300,keyframes:t,times:s,ease:a="easeInOut"}){const n=nw(a)?a.map(f0):f0(a),i={done:!1,value:t[0]},l=Ww(s&&s.length===t.length?s:qw(t),e),o=Bw(l,t,{ease:Array.isArray(n)?n:Gw(t,n)});return{calculatedDuration:e,next:c=>(i.value=o(c),i.done=c>=e,i)}}const Kw=e=>e!==null;function Ad(e,{repeat:t,repeatType:s="loop"},a,n=1){const i=e.filter(Kw),o=n<0||t&&s!=="loop"&&t%2===1?0:i.length-1;return!o||a===void 0?i[o]:a}const Yw={decay:Qo,inertia:Qo,tween:ja,keyframes:ja,spring:Di};function Ff(e){typeof e.type=="string"&&(e.type=Yw[e.type])}class Td{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const Qw=e=>e/100;class Dd extends Td{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,n;const{motionValue:s}=this.options;s&&s.updatedAt!==Ke.now()&&this.tick(Ke.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(n=(a=this.options).onStop)==null||n.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Ff(t);const{type:s=ja,repeat:a=0,repeatDelay:n=0,repeatType:i,velocity:l=0}=t;let{keyframes:o}=t;const c=s||ja;c!==ja&&typeof o[0]!="number"&&(this.mixKeyframes=ln(Qw,Mf(o[0],o[1])),o=[0,100]);const d=c({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...o].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=Pd(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+n,this.totalDuration=this.resolvedDuration*(a+1)-n,this.generator=d}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:a,totalDuration:n,mixKeyframes:i,mirroredGenerator:l,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return a.next(0);const{delay:d=0,keyframes:u,repeat:m,repeatType:h,repeatDelay:x,type:b,onUpdate:v,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const p=this.currentTime-d*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?p<0:p>n;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let y=this.currentTime,w=a;if(m){const E=Math.min(this.currentTime,n)/o;let P=Math.floor(E),A=E%1;!A&&E>=1&&(A=1),A===1&&P--,P=Math.min(P,m+1),!!(P%2)&&(h==="reverse"?(A=1-A,x&&(A-=x/o)):h==="mirror"&&(w=l)),y=Xt(0,1,A)*o}const N=g?{done:!1,value:u[0]}:w.next(y);i&&(N.value=i(N.value));let{done:k}=N;!g&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return C&&b!==Qo&&(N.value=Ad(u,this.options,j,this.speed)),v&&v(N.value),C&&this.finish(),N}then(t,s){return this.finished.then(t,s)}get duration(){return Ot(this.calculatedDuration)}get time(){return Ot(this.currentTime)}set time(t){var s;t=Ft(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ke.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Ot(this.currentTime))}play(){var n,i;if(this.isStopped)return;const{driver:t=Iw,startTime:s}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),(i=(n=this.options).onPlay)==null||i.call(n);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ke.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function Xw(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ur=e=>e*180/Math.PI,Xo=e=>{const t=Ur(Math.atan2(e[1],e[0]));return Jo(t)},Jw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Xo,rotateZ:Xo,skewX:e=>Ur(Math.atan(e[1])),skewY:e=>Ur(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Jo=e=>(e=e%360,e<0&&(e+=360),e),j0=Xo,N0=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),k0=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Zw={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:N0,scaleY:k0,scale:e=>(N0(e)+k0(e))/2,rotateX:e=>Jo(Ur(Math.atan2(e[6],e[5]))),rotateY:e=>Jo(Ur(Math.atan2(-e[2],e[0]))),rotateZ:j0,rotate:j0,skewX:e=>Ur(Math.atan(e[4])),skewY:e=>Ur(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Zo(e){return e.includes("scale")?1:0}function ec(e,t){if(!e||e==="none")return Zo(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,n;if(s)a=Zw,n=s;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Jw,n=o}if(!n)return Zo(t);const i=a[t],l=n[1].split(",").map(tj);return typeof i=="function"?i(l):l[i]}const ej=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return ec(s,t)};function tj(e){return parseFloat(e.trim())}const Ys=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qs=new Set(Ys),S0=e=>e===Ks||e===W,rj=new Set(["x","y","z"]),sj=Ys.filter(e=>!rj.has(e));function aj(e){const t=[];return sj.forEach(s=>{const a=e.getValue(s);a!==void 0&&(t.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),t}const Br={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ec(t,"x"),y:(e,{transform:t})=>ec(t,"y")};Br.translateX=Br.x;Br.translateY=Br.y;const Hr=new Set;let tc=!1,rc=!1,sc=!1;function Of(){if(rc){const e=Array.from(Hr).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),s=new Map;t.forEach(a=>{const n=aj(a);n.length&&(s.set(a,n),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const n=s.get(a);n&&n.forEach(([i,l])=>{var o;(o=a.getValue(i))==null||o.set(l)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}rc=!1,tc=!1,Hr.forEach(e=>e.complete(sc)),Hr.clear()}function Vf(){Hr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(rc=!0)})}function nj(){sc=!0,Vf(),Of(),sc=!1}class Ld{constructor(t,s,a,n,i,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=a,this.motionValue=n,this.element=i,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Hr.add(this),tc||(tc=!0,oe.read(Vf),oe.resolveKeyframes(Of))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:a,motionValue:n}=this;if(t[0]===null){const i=n==null?void 0:n.get(),l=t[t.length-1];if(i!==void 0)t[0]=i;else if(a&&s){const o=a.readValue(s,l);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=l),n&&i===void 0&&n.set(t[0])}Xw(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Hr.delete(this)}cancel(){this.state==="scheduled"&&(Hr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ij=e=>e.startsWith("--");function lj(e,t,s){ij(t)?e.style.setProperty(t,s):e.style[t]=s}const oj=bd(()=>window.ScrollTimeline!==void 0),cj={};function dj(e,t){const s=bd(e);return()=>cj[t]??s()}const Uf=dj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),da=([e,t,s,a])=>`cubic-bezier(${e}, ${t}, ${s}, ${a})`,C0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:da([0,.65,.55,1]),circOut:da([.55,0,1,.45]),backIn:da([.31,.01,.66,-.59]),backOut:da([.33,1.53,.69,.99])};function $f(e,t){if(e)return typeof e=="function"?Uf()?Rf(e,t):"ease-out":Sf(e)?da(e):Array.isArray(e)?e.map(s=>$f(s,t)||C0.easeOut):C0[e]}function uj(e,t,s,{delay:a=0,duration:n=300,repeat:i=0,repeatType:l="loop",ease:o="easeOut",times:c}={},d=void 0){const u={[t]:s};c&&(u.offset=c);const m=$f(o,n);Array.isArray(m)&&(u.easing=m);const h={delay:a,duration:n,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"};return d&&(h.pseudoElement=d),e.animate(u,h)}function zf(e){return typeof e=="function"&&"applyToOptions"in e}function mj({type:e,...t}){return zf(e)&&Uf()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class hj extends Td{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:a,keyframes:n,pseudoElement:i,allowFlatten:l=!1,finalKeyframe:o,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=l,this.options=t,Pi(typeof t.type!="string");const d=mj(t);this.animation=uj(s,a,n,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Ad(n,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):lj(s,a,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,a;const t=((a=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:a.call(s).duration)||0;return Ot(Number(t))}get time(){return Ot(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ft(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&oj()?(this.animation.timeline=t,ft):s(this)}}const Bf={anticipate:wf,backInOut:vf,circInOut:Nf};function xj(e){return e in Bf}function fj(e){typeof e.ease=="string"&&xj(e.ease)&&(e.ease=Bf[e.ease])}const E0=10;class gj extends hj{constructor(t){fj(t),Ff(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:a,onComplete:n,element:i,...l}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const o=new Dd({...l,autoplay:!1}),c=Ft(this.finishedTime??this.time);s.setWithVelocity(o.sample(c-E0).value,o.sample(c).value,E0),o.stop()}}const P0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(kr.test(e)||e==="0")&&!e.startsWith("url("));function pj(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function yj(e,t,s,a){const n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],l=P0(n,t),o=P0(i,t);return!l||!o?!1:pj(e)||(s==="spring"||zf(s))&&a}function ac(e){e.duration=0,e.type}const bj=new Set(["opacity","clipPath","filter","transform"]),vj=bd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wj(e){var u;const{motionValue:t,name:s,repeatDelay:a,repeatType:n,damping:i,type:l}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return vj()&&s&&bj.has(s)&&(s!=="transform"||!d)&&!c&&!a&&n!=="mirror"&&i!==0&&l!=="inertia"}const jj=40;class Nj extends Td{constructor({autoplay:t=!0,delay:s=0,type:a="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:l="loop",keyframes:o,name:c,motionValue:d,element:u,...m}){var b;super(),this.stop=()=>{var v,j;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=Ke.now();const h={autoplay:t,delay:s,type:a,repeat:n,repeatDelay:i,repeatType:l,name:c,motionValue:d,element:u,...m},x=(u==null?void 0:u.KeyframeResolver)||Ld;this.keyframeResolver=new x(o,(v,j,p)=>this.onKeyframesResolved(v,j,h,!p),c,d,u),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,s,a,n){this.keyframeResolver=void 0;const{name:i,type:l,velocity:o,delay:c,isHandoff:d,onUpdate:u}=a;this.resolvedAt=Ke.now(),yj(t,i,l,o)||((Jt.instantAnimations||!c)&&(u==null||u(Ad(t,a,s))),t[0]=t[t.length-1],ac(a),a.repeat=0);const h={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>jj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...a,keyframes:t},x=!d&&wj(h)?new gj({...h,element:h.motionValue.owner.current}):new Dd(h);x.finished.then(()=>this.notifyFinished()).catch(ft),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),nj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const kj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Sj(e){const t=kj.exec(e);if(!t)return[,];const[,s,a,n]=t;return[`--${s??a}`,n]}function Hf(e,t,s=1){const[a,n]=Sj(e);if(!a)return;const i=window.getComputedStyle(t).getPropertyValue(a);if(i){const l=i.trim();return mf(l)?parseFloat(l):l}return kd(n)?Hf(n,t,s+1):n}function Id(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const qf=new Set(["width","height","top","left","right","bottom",...Ys]),Cj={test:e=>e==="auto",parse:e=>e},Wf=e=>t=>t.test(e),Gf=[Ks,W,Vt,rr,pw,gw,Cj],A0=e=>Gf.find(Wf(e));function Ej(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||xf(e):!0}const Pj=new Set(["brightness","contrast","saturate","opacity"]);function Aj(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=s.match(Sd)||[];if(!a)return e;const n=s.replace(a,"");let i=Pj.has(t)?1:0;return a!==s&&(i*=100),t+"("+i+n+")"}const Tj=/\b([a-z-]*)\(.*?\)/gu,nc={...kr,getAnimatableNone:e=>{const t=e.match(Tj);return t?t.map(Aj).join(" "):e}},T0={...Ks,transform:Math.round},Dj={rotate:rr,rotateX:rr,rotateY:rr,rotateZ:rr,scale:Dn,scaleX:Dn,scaleY:Dn,scaleZ:Dn,skew:rr,skewX:rr,skewY:rr,distance:W,translateX:W,translateY:W,translateZ:W,x:W,y:W,z:W,perspective:W,transformPerspective:W,opacity:Ya,originX:p0,originY:p0,originZ:W},Md={borderWidth:W,borderTopWidth:W,borderRightWidth:W,borderBottomWidth:W,borderLeftWidth:W,borderRadius:W,radius:W,borderTopLeftRadius:W,borderTopRightRadius:W,borderBottomRightRadius:W,borderBottomLeftRadius:W,width:W,maxWidth:W,height:W,maxHeight:W,top:W,right:W,bottom:W,left:W,padding:W,paddingTop:W,paddingRight:W,paddingBottom:W,paddingLeft:W,margin:W,marginTop:W,marginRight:W,marginBottom:W,marginLeft:W,backgroundPositionX:W,backgroundPositionY:W,...Dj,zIndex:T0,fillOpacity:Ya,strokeOpacity:Ya,numOctaves:T0},Lj={...Md,color:we,backgroundColor:we,outlineColor:we,fill:we,stroke:we,borderColor:we,borderTopColor:we,borderRightColor:we,borderBottomColor:we,borderLeftColor:we,filter:nc,WebkitFilter:nc},Kf=e=>Lj[e];function Yf(e,t){let s=Kf(e);return s!==nc&&(s=kr),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Ij=new Set(["auto","none","0"]);function Mj(e,t,s){let a=0,n;for(;a<e.length&&!n;){const i=e[a];typeof i=="string"&&!Ij.has(i)&&Qa(i).values.length&&(n=e[a]),a++}if(n&&s)for(const i of t)e[i]=Yf(s,n)}class Rj extends Ld{constructor(t,s,a,n,i){super(t,s,a,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),kd(d))){const u=Hf(d,s.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!qf.has(a)||t.length!==2)return;const[n,i]=t,l=A0(n),o=A0(i);if(l!==o)if(S0(l)&&S0(o))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Br[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,a=[];for(let n=0;n<t.length;n++)(t[n]===null||Ej(t[n]))&&a.push(n);a.length&&Mj(t,a,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Br[a](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const n=s[s.length-1];n!==void 0&&t.getValue(a,n).jump(n,!1)}measureEndState(){var o;const{element:t,name:s,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const n=t.getValue(s);n&&n.jump(this.measuredOrigin,!1);const i=a.length-1,l=a[i];a[i]=Br[s](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function _j(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const n=document.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}const Qf=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Xf(e){return hf(e)&&"offsetHeight"in e}const D0=30,Fj=e=>!isNaN(parseFloat(e));class Oj{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var i;const n=Ke.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Ke.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Fj(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new vd);const a=this.events[t].add(s);return t==="change"?()=>{a(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ke.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>D0)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,D0);return ff(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Os(e,t){return new Oj(e,t)}const{schedule:Rd,cancel:g2}=Cf(queueMicrotask,!1),wt={x:!1,y:!1};function Jf(){return wt.x||wt.y}function Vj(e){return e==="x"||e==="y"?wt[e]?null:(wt[e]=!0,()=>{wt[e]=!1}):wt.x||wt.y?null:(wt.x=wt.y=!0,()=>{wt.x=wt.y=!1})}function Zf(e,t){const s=_j(e),a=new AbortController,n={passive:!0,...t,signal:a.signal};return[s,n,()=>a.abort()]}function L0(e){return!(e.pointerType==="touch"||Jf())}function Uj(e,t,s={}){const[a,n,i]=Zf(e,s),l=o=>{if(!L0(o))return;const{target:c}=o,d=t(c,o);if(typeof d!="function"||!c)return;const u=m=>{L0(m)&&(d(m),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,n)};return a.forEach(o=>{o.addEventListener("pointerenter",l,n)}),i}const eg=(e,t)=>t?e===t?!0:eg(e,t.parentElement):!1,_d=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,$j=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zj(e){return $j.has(e.tagName)||e.tabIndex!==-1}const Gn=new WeakSet;function I0(e){return t=>{t.key==="Enter"&&e(t)}}function Ol(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Bj=(e,t)=>{const s=e.currentTarget;if(!s)return;const a=I0(()=>{if(Gn.has(s))return;Ol(s,"down");const n=I0(()=>{Ol(s,"up")}),i=()=>Ol(s,"cancel");s.addEventListener("keyup",n,t),s.addEventListener("blur",i,t)});s.addEventListener("keydown",a,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",a),t)};function M0(e){return _d(e)&&!Jf()}function Hj(e,t,s={}){const[a,n,i]=Zf(e,s),l=o=>{const c=o.currentTarget;if(!M0(o))return;Gn.add(c);const d=t(c,o),u=(x,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",h),Gn.has(c)&&Gn.delete(c),M0(x)&&typeof d=="function"&&d(x,{success:b})},m=x=>{u(x,c===window||c===document||s.useGlobalTarget||eg(c,x.target))},h=x=>{u(x,!1)};window.addEventListener("pointerup",m,n),window.addEventListener("pointercancel",h,n)};return a.forEach(o=>{(s.useGlobalTarget?window:o).addEventListener("pointerdown",l,n),Xf(o)&&(o.addEventListener("focus",d=>Bj(d,n)),!zj(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function tg(e){return hf(e)&&"ownerSVGElement"in e}function qj(e){return tg(e)&&e.tagName==="svg"}const Fe=e=>!!(e&&e.getVelocity),Wj=[...Gf,we,kr],Gj=e=>Wj.find(Wf(e)),Fd=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Kj extends f.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const a=s.offsetParent,n=Xf(a)&&a.offsetWidth||0,i=this.props.sizeRef.current;i.height=s.offsetHeight||0,i.width=s.offsetWidth||0,i.top=s.offsetTop,i.left=s.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Yj({children:e,isPresent:t,anchorX:s,root:a}){const n=f.useId(),i=f.useRef(null),l=f.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=f.useContext(Fd);return f.useInsertionEffect(()=>{const{width:c,height:d,top:u,left:m,right:h}=l.current;if(t||!i.current||!c||!d)return;const x=s==="left"?`left: ${m}`:`right: ${h}`;i.current.dataset.motionPopId=n;const b=document.createElement("style");o&&(b.nonce=o);const v=a??document.head;return v.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${u}px !important;
          }
        `),()=>{v.contains(b)&&v.removeChild(b)}},[t]),r.jsx(Kj,{isPresent:t,childRef:i,sizeRef:l,children:f.cloneElement(e,{ref:i})})}const Qj=({children:e,initial:t,isPresent:s,onExitComplete:a,custom:n,presenceAffectsLayout:i,mode:l,anchorX:o,root:c})=>{const d=fd(Xj),u=f.useId();let m=!0,h=f.useMemo(()=>(m=!1,{id:u,initial:t,isPresent:s,custom:n,onExitComplete:x=>{d.set(x,!0);for(const b of d.values())if(!b)return;a&&a()},register:x=>(d.set(x,!1),()=>d.delete(x))}),[s,d,a]);return i&&m&&(h={...h}),f.useMemo(()=>{d.forEach((x,b)=>d.set(b,!1))},[s]),f.useEffect(()=>{!s&&!d.size&&a&&a()},[s]),l==="popLayout"&&(e=r.jsx(Yj,{isPresent:s,anchorX:o,root:c,children:e})),r.jsx(Zi.Provider,{value:h,children:e})};function Xj(){return new Map}function rg(e=!0){const t=f.useContext(Zi);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:n}=t,i=f.useId();f.useEffect(()=>{if(e)return n(i)},[e]);const l=f.useCallback(()=>e&&a&&a(i),[i,a,e]);return!s&&a?[!1,l]:[!0]}const Ln=e=>e.key||"";function R0(e){const t=[];return f.Children.forEach(e,s=>{f.isValidElement(s)&&t.push(s)}),t}const vr=({children:e,custom:t,initial:s=!0,onExitComplete:a,presenceAffectsLayout:n=!0,mode:i="sync",propagate:l=!1,anchorX:o="left",root:c})=>{const[d,u]=rg(l),m=f.useMemo(()=>R0(e),[e]),h=l&&!d?[]:m.map(Ln),x=f.useRef(!0),b=f.useRef(m),v=fd(()=>new Map),[j,p]=f.useState(m),[g,y]=f.useState(m);uf(()=>{x.current=!1,b.current=m;for(let k=0;k<g.length;k++){const C=Ln(g[k]);h.includes(C)?v.delete(C):v.get(C)!==!0&&v.set(C,!1)}},[g,h.length,h.join("-")]);const w=[];if(m!==j){let k=[...m];for(let C=0;C<g.length;C++){const E=g[C],P=Ln(E);h.includes(P)||(k.splice(C,0,E),w.push(E))}return i==="wait"&&w.length&&(k=w),y(R0(k)),p(m),null}const{forceRender:N}=f.useContext(xd);return r.jsx(r.Fragment,{children:g.map(k=>{const C=Ln(k),E=l&&!d?!1:m===g||h.includes(C),P=()=>{if(v.has(C))v.set(C,!0);else return;let A=!0;v.forEach(T=>{T||(A=!1)}),A&&(N==null||N(),y(b.current),l&&(u==null||u()),a&&a())};return r.jsx(Qj,{isPresent:E,initial:!x.current||s?void 0:!1,custom:t,presenceAffectsLayout:n,mode:i,root:c,onExitComplete:E?void 0:P,anchorX:o,children:k},C)})})},sg=f.createContext({strict:!1}),_0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vs={};for(const e in _0)Vs[e]={isEnabled:t=>_0[e].some(s=>!!t[s])};function Jj(e){for(const t in e)Vs[t]={...Vs[t],...e[t]}}const Zj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Li(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Zj.has(e)}let ag=e=>!Li(e);function eN(e){typeof e=="function"&&(ag=t=>t.startsWith("on")?!Li(t):e(t))}try{eN(require("@emotion/is-prop-valid").default)}catch{}function tN(e,t,s){const a={};for(const n in e)n==="values"&&typeof e.values=="object"||(ag(n)||s===!0&&Li(n)||!t&&!Li(n)||e.draggable&&n.startsWith("onDrag"))&&(a[n]=e[n]);return a}const el=f.createContext({});function tl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Xa(e){return typeof e=="string"||Array.isArray(e)}const Od=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vd=["initial",...Od];function rl(e){return tl(e.animate)||Vd.some(t=>Xa(e[t]))}function ng(e){return!!(rl(e)||e.variants)}function rN(e,t){if(rl(e)){const{initial:s,animate:a}=e;return{initial:s===!1||Xa(s)?s:void 0,animate:Xa(a)?a:void 0}}return e.inherit!==!1?t:{}}function sN(e){const{initial:t,animate:s}=rN(e,f.useContext(el));return f.useMemo(()=>({initial:t,animate:s}),[F0(t),F0(s)])}function F0(e){return Array.isArray(e)?e.join(" "):e}const Ja={};function aN(e){for(const t in e)Ja[t]=e[t],Nd(t)&&(Ja[t].isCSSVariable=!0)}function ig(e,{layout:t,layoutId:s}){return Qs.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Ja[e]||e==="opacity")}const nN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iN=Ys.length;function lN(e,t,s){let a="",n=!0;for(let i=0;i<iN;i++){const l=Ys[i],o=e[l];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(l.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||s){const d=Qf(o,Md[l]);if(!c){n=!1;const u=nN[l]||l;a+=`${u}(${d}) `}s&&(t[l]=d)}}return a=a.trim(),s?a=s(t,n?"":a):n&&(a="none"),a}function Ud(e,t,s){const{style:a,vars:n,transformOrigin:i}=e;let l=!1,o=!1;for(const c in t){const d=t[c];if(Qs.has(c)){l=!0;continue}else if(Nd(c)){n[c]=d;continue}else{const u=Qf(d,Md[c]);c.startsWith("origin")?(o=!0,i[c]=u):a[c]=u}}if(t.transform||(l||s?a.transform=lN(t,e.transform,s):a.transform&&(a.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;a.transformOrigin=`${c} ${d} ${u}`}}const $d=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lg(e,t,s){for(const a in t)!Fe(t[a])&&!ig(a,s)&&(e[a]=t[a])}function oN({transformTemplate:e},t){return f.useMemo(()=>{const s=$d();return Ud(s,t,e),Object.assign({},s.vars,s.style)},[t])}function cN(e,t){const s=e.style||{},a={};return lg(a,s,e),Object.assign(a,oN(e,t)),a}function dN(e,t){const s={},a=cN(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}const uN={offset:"stroke-dashoffset",array:"stroke-dasharray"},mN={offset:"strokeDashoffset",array:"strokeDasharray"};function hN(e,t,s=1,a=0,n=!0){e.pathLength=1;const i=n?uN:mN;e[i.offset]=W.transform(-a);const l=W.transform(t),o=W.transform(s);e[i.array]=`${l} ${o}`}function og(e,{attrX:t,attrY:s,attrScale:a,pathLength:n,pathSpacing:i=1,pathOffset:l=0,...o},c,d,u){if(Ud(e,o,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h}=e;m.transform&&(h.transform=m.transform,delete m.transform),(h.transform||m.transformOrigin)&&(h.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),s!==void 0&&(m.y=s),a!==void 0&&(m.scale=a),n!==void 0&&hN(m,n,i,l,!1)}const cg=()=>({...$d(),attrs:{}}),dg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function xN(e,t,s,a){const n=f.useMemo(()=>{const i=cg();return og(i,t,dg(a),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};lg(i,e.style,e),n.style={...i,...n.style}}return n}const fN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zd(e){return typeof e!="string"||e.includes("-")?!1:!!(fN.indexOf(e)>-1||/[A-Z]/u.test(e))}function gN(e,t,s,{latestValues:a},n,i=!1){const o=(zd(e)?xN:dN)(t,a,n,e),c=tN(t,typeof e=="string",i),d=e!==f.Fragment?{...c,...o,ref:s}:{},{children:u}=t,m=f.useMemo(()=>Fe(u)?u.get():u,[u]);return f.createElement(e,{...d,children:m})}function O0(e){const t=[{},{}];return e==null||e.values.forEach((s,a)=>{t[0][a]=s.get(),t[1][a]=s.getVelocity()}),t}function Bd(e,t,s,a){if(typeof t=="function"){const[n,i]=O0(a);t=t(s!==void 0?s:e.custom,n,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[n,i]=O0(a);t=t(s!==void 0?s:e.custom,n,i)}return t}function Kn(e){return Fe(e)?e.get():e}function pN({scrapeMotionValuesFromProps:e,createRenderState:t},s,a,n){return{latestValues:yN(s,a,n,e),renderState:t()}}function yN(e,t,s,a){const n={},i=a(e,{});for(const h in i)n[h]=Kn(i[h]);let{initial:l,animate:o}=e;const c=rl(e),d=ng(e);t&&d&&!c&&e.inherit!==!1&&(l===void 0&&(l=t.initial),o===void 0&&(o=t.animate));let u=s?s.initial===!1:!1;u=u||l===!1;const m=u?o:l;if(m&&typeof m!="boolean"&&!tl(m)){const h=Array.isArray(m)?m:[m];for(let x=0;x<h.length;x++){const b=Bd(e,h[x]);if(b){const{transitionEnd:v,transition:j,...p}=b;for(const g in p){let y=p[g];if(Array.isArray(y)){const w=u?y.length-1:0;y=y[w]}y!==null&&(n[g]=y)}for(const g in v)n[g]=v[g]}}}return n}const ug=e=>(t,s)=>{const a=f.useContext(el),n=f.useContext(Zi),i=()=>pN(e,t,a,n);return s?i():fd(i)};function Hd(e,t,s){var i;const{style:a}=e,n={};for(const l in a)(Fe(a[l])||t.style&&Fe(t.style[l])||ig(l,e)||((i=s==null?void 0:s.getValue(l))==null?void 0:i.liveStyle)!==void 0)&&(n[l]=a[l]);return n}const bN=ug({scrapeMotionValuesFromProps:Hd,createRenderState:$d});function mg(e,t,s){const a=Hd(e,t,s);for(const n in e)if(Fe(e[n])||Fe(t[n])){const i=Ys.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;a[i]=e[n]}return a}const vN=ug({scrapeMotionValuesFromProps:mg,createRenderState:cg}),wN=Symbol.for("motionComponentSymbol");function gs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function jN(e,t,s){return f.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),s&&(typeof s=="function"?s(a):gs(s)&&(s.current=a))},[t])}const qd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),NN="framerAppearId",hg="data-"+qd(NN),xg=f.createContext({});function kN(e,t,s,a,n){var v,j;const{visualElement:i}=f.useContext(el),l=f.useContext(sg),o=f.useContext(Zi),c=f.useContext(Fd).reducedMotion,d=f.useRef(null);a=a||l.renderer,!d.current&&a&&(d.current=a(e,{visualState:t,parent:i,props:s,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,m=f.useContext(xg);u&&!u.projection&&n&&(u.type==="html"||u.type==="svg")&&SN(d.current,s,n,m);const h=f.useRef(!1);f.useInsertionEffect(()=>{u&&h.current&&u.update(s,o)});const x=s[hg],b=f.useRef(!!x&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,x))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,x)));return uf(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),b.current&&u.animationState&&u.animationState.animateChanges())}),f.useEffect(()=>{u&&(!b.current&&u.animationState&&u.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,x)}),b.current=!1),u.enteringChildren=void 0)}),u}function SN(e,t,s,a){const{layoutId:n,layout:i,drag:l,dragConstraints:o,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:fg(e.parent)),e.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!l||o&&gs(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:a,crossfade:u,layoutScroll:c,layoutRoot:d})}function fg(e){if(e)return e.options.allowProjection!==!1?e.projection:fg(e.parent)}function Vl(e,{forwardMotionProps:t=!1}={},s,a){s&&Jj(s);const n=zd(e)?vN:bN;function i(o,c){let d;const u={...f.useContext(Fd),...o,layoutId:CN(o)},{isStatic:m}=u,h=sN(o),x=n(o,m);if(!m&&gd){EN();const b=PN(u);d=b.MeasureLayout,h.visualElement=kN(e,x,u,a,b.ProjectionNode)}return r.jsxs(el.Provider,{value:h,children:[d&&h.visualElement?r.jsx(d,{visualElement:h.visualElement,...u}):null,gN(e,o,jN(x,h.visualElement,c),x,m,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=f.forwardRef(i);return l[wN]=e,l}function CN({layoutId:e}){const t=f.useContext(xd).id;return t&&e!==void 0?t+"-"+e:e}function EN(e,t){f.useContext(sg).strict}function PN(e){const{drag:t,layout:s}=Vs;if(!t&&!s)return{};const a={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function AN(e,t){if(typeof Proxy>"u")return Vl;const s=new Map,a=(i,l)=>Vl(i,l,e,t),n=(i,l)=>a(i,l);return new Proxy(n,{get:(i,l)=>l==="create"?a:(s.has(l)||s.set(l,Vl(l,void 0,e,t)),s.get(l))})}function gg({top:e,left:t,right:s,bottom:a}){return{x:{min:t,max:s},y:{min:e,max:a}}}function TN({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function DN(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function Ul(e){return e===void 0||e===1}function ic({scale:e,scaleX:t,scaleY:s}){return!Ul(e)||!Ul(t)||!Ul(s)}function Mr(e){return ic(e)||pg(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function pg(e){return V0(e.x)||V0(e.y)}function V0(e){return e&&e!=="0%"}function Ii(e,t,s){const a=e-s,n=t*a;return s+n}function U0(e,t,s,a,n){return n!==void 0&&(e=Ii(e,n,a)),Ii(e,s,a)+t}function lc(e,t=0,s=1,a,n){e.min=U0(e.min,t,s,a,n),e.max=U0(e.max,t,s,a,n)}function yg(e,{x:t,y:s}){lc(e.x,t.translate,t.scale,t.originPoint),lc(e.y,s.translate,s.scale,s.originPoint)}const $0=.999999999999,z0=1.0000000000001;function LN(e,t,s,a=!1){const n=s.length;if(!n)return;t.x=t.y=1;let i,l;for(let o=0;o<n;o++){i=s[o],l=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ys(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,yg(e,l)),a&&Mr(i.latestValues)&&ys(e,i.latestValues))}t.x<z0&&t.x>$0&&(t.x=1),t.y<z0&&t.y>$0&&(t.y=1)}function ps(e,t){e.min=e.min+t,e.max=e.max+t}function B0(e,t,s,a,n=.5){const i=de(e.min,e.max,n);lc(e,t,s,i,a)}function ys(e,t){B0(e.x,t.x,t.scaleX,t.scale,t.originX),B0(e.y,t.y,t.scaleY,t.scale,t.originY)}function bg(e,t){return gg(DN(e.getBoundingClientRect(),t))}function IN(e,t,s){const a=bg(e,s),{scroll:n}=t;return n&&(ps(a.x,n.offset.x),ps(a.y,n.offset.y)),a}const H0=()=>({translate:0,scale:1,origin:0,originPoint:0}),bs=()=>({x:H0(),y:H0()}),q0=()=>({min:0,max:0}),pe=()=>({x:q0(),y:q0()}),oc={current:null},vg={current:!1};function MN(){if(vg.current=!0,!!gd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>oc.current=e.matches;e.addEventListener("change",t),t()}else oc.current=!1}const RN=new WeakMap;function _N(e,t,s){for(const a in t){const n=t[a],i=s[a];if(Fe(n))e.addValue(a,n);else if(Fe(i))e.addValue(a,Os(n,{owner:e}));else if(i!==n)if(e.hasValue(a)){const l=e.getValue(a);l.liveStyle===!0?l.jump(n):l.hasAnimated||l.set(n)}else{const l=e.getStaticValue(a);e.addValue(a,Os(l!==void 0?l:n,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const W0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class FN{scrapeMotionValuesFromProps(t,s,a){return{}}constructor({parent:t,props:s,presenceContext:a,reducedMotionConfig:n,blockInitialAnimation:i,visualState:l},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ld,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ke.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,oe.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=l;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=rl(s),this.isVariantNode=ng(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...m}=this.scrapeMotionValuesFromProps(s,{},this);for(const h in m){const x=m[h];c[h]!==void 0&&Fe(x)&&x.set(c[h])}}mount(t){var s;this.current=t,RN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,n)=>this.bindToMotionValue(n,a)),vg.current||MN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:oc.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Nr(this.notifyUpdate),Nr(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const a=this.features[s];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=Qs.has(t);a&&this.onBindTransform&&this.onBindTransform();const n=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&oe.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{n(),i&&i(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Vs){const s=Vs[t];if(!s)continue;const{isEnabled:a,Feature:n}=s;if(!this.features[t]&&n&&a(this.props)&&(this.features[t]=new n(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<W0.length;a++){const n=W0[a];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,l=t[i];l&&(this.propEventSubscriptions[n]=this.on(n,l))}this.prevMotionValues=_N(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const a=this.values.get(t);s!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&s!==void 0&&(a=Os(s===null?void 0:s,{owner:this}),this.addValue(t,a)),a}readValue(t,s){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(mf(a)||xf(a))?a=parseFloat(a):!Gj(a)&&kr.test(s)&&(a=Yf(t,s)),this.setBaseTarget(t,Fe(a)?a.get():a)),Fe(a)?a.get():a}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var i;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const l=Bd(this.props,s,(i=this.presenceContext)==null?void 0:i.custom);l&&(a=l[t])}if(s&&a!==void 0)return a;const n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!Fe(n)?n:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new vd),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){Rd.render(this.render)}}class wg extends FN{constructor(){super(...arguments),this.KeyframeResolver=Rj}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:a}){delete s[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Fe(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function jg(e,{style:t,vars:s},a,n){const i=e.style;let l;for(l in t)i[l]=t[l];n==null||n.applyProjectionStyles(i,a);for(l in s)i.setProperty(l,s[l])}function ON(e){return window.getComputedStyle(e)}class VN extends wg{constructor(){super(...arguments),this.type="html",this.renderInstance=jg}readValueFromInstance(t,s){var a;if(Qs.has(s))return(a=this.projection)!=null&&a.isProjecting?Zo(s):ej(t,s);{const n=ON(t),i=(Nd(s)?n.getPropertyValue(s):n[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return bg(t,s)}build(t,s,a){Ud(t,s,a.transformTemplate)}scrapeMotionValuesFromProps(t,s,a){return Hd(t,s,a)}}const Ng=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UN(e,t,s,a){jg(e,t,void 0,a);for(const n in t.attrs)e.setAttribute(Ng.has(n)?n:qd(n),t.attrs[n])}class $N extends wg{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pe}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Qs.has(s)){const a=Kf(s);return a&&a.default||0}return s=Ng.has(s)?s:qd(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,a){return mg(t,s,a)}build(t,s,a){og(t,s,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,s,a,n){UN(t,s,a,n)}mount(t){this.isSVGTag=dg(t.tagName),super.mount(t)}}const zN=(e,t)=>zd(e)?new $N(t):new VN(t,{allowProjection:e!==f.Fragment});function Es(e,t,s){const a=e.getProps();return Bd(a,t,s!==void 0?s:a.custom,e)}const cc=e=>Array.isArray(e);function BN(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Os(s))}function HN(e){return cc(e)?e[e.length-1]||0:e}function qN(e,t){const s=Es(e,t);let{transitionEnd:a={},transition:n={},...i}=s||{};i={...i,...a};for(const l in i){const o=HN(i[l]);BN(e,l,o)}}function WN(e){return!!(Fe(e)&&e.add)}function dc(e,t){const s=e.getValue("willChange");if(WN(s))return s.add(t);if(!s&&Jt.WillChange){const a=new Jt.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function kg(e){return e.props[hg]}const GN=e=>e!==null;function KN(e,{repeat:t,repeatType:s="loop"},a){const n=e.filter(GN),i=t&&s!=="loop"&&t%2===1?0:n.length-1;return!i||a===void 0?n[i]:a}const YN={type:"spring",stiffness:500,damping:25,restSpeed:10},QN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),XN={type:"keyframes",duration:.8},JN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZN=(e,{keyframes:t})=>t.length>2?XN:Qs.has(e)?e.startsWith("scale")?QN(t[1]):YN:JN;function e1({when:e,delay:t,delayChildren:s,staggerChildren:a,staggerDirection:n,repeat:i,repeatType:l,repeatDelay:o,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Wd=(e,t,s,a={},n,i)=>l=>{const o=Id(a,e)||{},c=o.delay||a.delay||0;let{elapsed:d=0}=a;d=d-Ft(c);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-d,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{l(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:n};e1(o)||Object.assign(u,ZN(e,u)),u.duration&&(u.duration=Ft(u.duration)),u.repeatDelay&&(u.repeatDelay=Ft(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(ac(u),u.delay===0&&(m=!0)),(Jt.instantAnimations||Jt.skipAnimations)&&(m=!0,ac(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,m&&!i&&t.get()!==void 0){const h=KN(u.keyframes,o);if(h!==void 0){oe.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new Dd(u):new Nj(u)};function t1({protectedKeys:e,needsAnimating:t},s){const a=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,a}function Sg(e,t,{delay:s=0,transitionOverride:a,type:n}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:l,...o}=t;a&&(i=a);const c=[],d=n&&e.animationState&&e.animationState.getState()[n];for(const u in o){const m=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||d&&t1(d,u))continue;const x={delay:s,...Id(i||{},u)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(h)&&h===b&&!x.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const p=kg(e);if(p){const g=window.MotionHandoffAnimation(p,u,oe);g!==null&&(x.startTime=g,v=!0)}}dc(e,u),m.start(Wd(u,m,h,e.shouldReduceMotion&&qf.has(u)?{type:!1}:x,e,v));const j=m.animation;j&&c.push(j)}return l&&Promise.all(c).then(()=>{oe.update(()=>{l&&qN(e,l)})}),c}function Cg(e,t,s,a=0,n=1){const i=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),l=e.size,o=(l-1)*a;return typeof s=="function"?s(i,l):n===1?i*a:o-i*a}function uc(e,t,s={}){var c;const a=Es(e,t,s.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:n=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(n=s.transitionOverride);const i=a?()=>Promise.all(Sg(e,a,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:h}=n;return r1(e,t,d,u,m,h,s)}:()=>Promise.resolve(),{when:o}=n;if(o){const[d,u]=o==="beforeChildren"?[i,l]:[l,i];return d().then(()=>u())}else return Promise.all([i(),l(s.delay)])}function r1(e,t,s=0,a=0,n=0,i=1,l){const o=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),o.push(uc(c,t,{...l,delay:s+(typeof a=="function"?0:a)+Cg(e.variantChildren,c,a,n,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(o)}function s1(e,t,s={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const n=t.map(i=>uc(e,i,s));a=Promise.all(n)}else if(typeof t=="string")a=uc(e,t,s);else{const n=typeof t=="function"?Es(e,t,s.custom):t;a=Promise.all(Sg(e,n,s))}return a.then(()=>{e.notify("AnimationComplete",t)})}function Eg(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(t[a]!==e[a])return!1;return!0}const a1=Vd.length;function Pg(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Pg(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<a1;s++){const a=Vd[s],n=e.props[a];(Xa(n)||n===!1)&&(t[a]=n)}return t}const n1=[...Od].reverse(),i1=Od.length;function l1(e){return t=>Promise.all(t.map(({animation:s,options:a})=>s1(e,s,a)))}function o1(e){let t=l1(e),s=G0(),a=!0;const n=c=>(d,u)=>{var h;const m=Es(e,u,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(m){const{transition:x,transitionEnd:b,...v}=m;d={...d,...v,...b}}return d};function i(c){t=c(e)}function l(c){const{props:d}=e,u=Pg(e.parent)||{},m=[],h=new Set;let x={},b=1/0;for(let j=0;j<i1;j++){const p=n1[j],g=s[p],y=d[p]!==void 0?d[p]:u[p],w=Xa(y),N=p===c?g.isActive:null;N===!1&&(b=j);let k=y===u[p]&&y!==d[p]&&w;if(k&&a&&e.manuallyAnimateOnMount&&(k=!1),g.protectedKeys={...x},!g.isActive&&N===null||!y&&!g.prevProp||tl(y)||typeof y=="boolean")continue;const C=c1(g.prevProp,y);let E=C||p===c&&g.isActive&&!k&&w||j>b&&w,P=!1;const A=Array.isArray(y)?y:[y];let T=A.reduce(n(p),{});N===!1&&(T={});const{prevResolvedValues:L={}}=g,z={...L,...T},G=R=>{E=!0,h.has(R)&&(P=!0,h.delete(R)),g.needsAnimating[R]=!0;const S=e.getValue(R);S&&(S.liveStyle=!1)};for(const R in z){const S=T[R],D=L[R];if(x.hasOwnProperty(R))continue;let V=!1;cc(S)&&cc(D)?V=!Eg(S,D):V=S!==D,V?S!=null?G(R):h.add(R):S!==void 0&&h.has(R)?G(R):g.protectedKeys[R]=!0}g.prevProp=y,g.prevResolvedValues=T,g.isActive&&(x={...x,...T}),a&&e.blockInitialAnimation&&(E=!1);const M=k&&C;E&&(!M||P)&&m.push(...A.map(R=>{const S={type:p};if(typeof R=="string"&&a&&!M&&e.manuallyAnimateOnMount&&e.parent){const{parent:D}=e,V=Es(D,R);if(D.enteringChildren&&V){const{delayChildren:I}=V.transition||{};S.delay=Cg(D.enteringChildren,e,I)}}return{animation:R,options:S}}))}if(h.size){const j={};if(typeof d.initial!="boolean"){const p=Es(e,Array.isArray(d.initial)?d.initial[0]:d.initial);p&&p.transition&&(j.transition=p.transition)}h.forEach(p=>{const g=e.getBaseTarget(p),y=e.getValue(p);y&&(y.liveStyle=!0),j[p]=g??null}),m.push({animation:j})}let v=!!m.length;return a&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),a=!1,v?t(m):Promise.resolve()}function o(c,d){var m;if(s[c].isActive===d)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(h=>{var x;return(x=h.animationState)==null?void 0:x.setActive(c,d)}),s[c].isActive=d;const u=l(c);for(const h in s)s[h].protectedKeys={};return u}return{animateChanges:l,setActive:o,setAnimateFunction:i,getState:()=>s,reset:()=>{s=G0(),a=!0}}}function c1(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Eg(t,e):!1}function Dr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function G0(){return{animate:Dr(!0),whileInView:Dr(),whileHover:Dr(),whileTap:Dr(),whileDrag:Dr(),whileFocus:Dr(),exit:Dr()}}class Tr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class d1 extends Tr{constructor(t){super(t),t.animationState||(t.animationState=o1(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();tl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let u1=0;class m1 extends Tr{constructor(){super(...arguments),this.id=u1++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const n=this.node.animationState.setActive("exit",!t);s&&!t&&n.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const h1={animation:{Feature:d1},exit:{Feature:m1}};function Za(e,t,s,a={passive:!0}){return e.addEventListener(t,s,a),()=>e.removeEventListener(t,s)}function dn(e){return{point:{x:e.pageX,y:e.pageY}}}const x1=e=>t=>_d(t)&&e(t,dn(t));function Na(e,t,s,a){return Za(e,t,x1(s),a)}const Ag=1e-4,f1=1-Ag,g1=1+Ag,Tg=.01,p1=0-Tg,y1=0+Tg;function $e(e){return e.max-e.min}function b1(e,t,s){return Math.abs(e-t)<=s}function K0(e,t,s,a=.5){e.origin=a,e.originPoint=de(t.min,t.max,e.origin),e.scale=$e(s)/$e(t),e.translate=de(s.min,s.max,e.origin)-e.originPoint,(e.scale>=f1&&e.scale<=g1||isNaN(e.scale))&&(e.scale=1),(e.translate>=p1&&e.translate<=y1||isNaN(e.translate))&&(e.translate=0)}function ka(e,t,s,a){K0(e.x,t.x,s.x,a?a.originX:void 0),K0(e.y,t.y,s.y,a?a.originY:void 0)}function Y0(e,t,s){e.min=s.min+t.min,e.max=e.min+$e(t)}function v1(e,t,s){Y0(e.x,t.x,s.x),Y0(e.y,t.y,s.y)}function Q0(e,t,s){e.min=t.min-s.min,e.max=e.min+$e(t)}function Sa(e,t,s){Q0(e.x,t.x,s.x),Q0(e.y,t.y,s.y)}function dt(e){return[e("x"),e("y")]}const Dg=({current:e})=>e?e.ownerDocument.defaultView:null,X0=(e,t)=>Math.abs(e-t);function w1(e,t){const s=X0(e.x,t.x),a=X0(e.y,t.y);return Math.sqrt(s**2+a**2)}class Lg{constructor(t,s,{transformPagePoint:a,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=zl(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=w1(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!b)return;const{point:v}=h,{timestamp:j}=Ae;this.history.push({...v,timestamp:j});const{onStart:p,onMove:g}=this.handlers;x||(p&&p(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,x)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=$l(x,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(h,x)=>{this.end();const{onEnd:b,onSessionEnd:v,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=zl(h.type==="pointercancel"?this.lastMoveEventInfo:$l(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(h,p),v&&v(h,p)},!_d(t))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=a,this.distanceThreshold=l,this.contextWindow=n||window;const o=dn(t),c=$l(o,this.transformPagePoint),{point:d}=c,{timestamp:u}=Ae;this.history=[{...d,timestamp:u}];const{onSessionStart:m}=s;m&&m(t,zl(c,this.history)),this.removeListeners=ln(Na(this.contextWindow,"pointermove",this.handlePointerMove),Na(this.contextWindow,"pointerup",this.handlePointerUp),Na(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Nr(this.updatePoint)}}function $l(e,t){return t?{point:t(e.point)}:e}function J0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zl({point:e},t){return{point:e,delta:J0(e,Ig(t)),offset:J0(e,j1(t)),velocity:N1(t,.1)}}function j1(e){return e[0]}function Ig(e){return e[e.length-1]}function N1(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const n=Ig(e);for(;s>=0&&(a=e[s],!(n.timestamp-a.timestamp>Ft(t)));)s--;if(!a)return{x:0,y:0};const i=Ot(n.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const l={x:(n.x-a.x)/i,y:(n.y-a.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function k1(e,{min:t,max:s},a){return t!==void 0&&e<t?e=a?de(t,e,a.min):Math.max(e,t):s!==void 0&&e>s&&(e=a?de(s,e,a.max):Math.min(e,s)),e}function Z0(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function S1(e,{top:t,left:s,bottom:a,right:n}){return{x:Z0(e.x,s,n),y:Z0(e.y,t,a)}}function em(e,t){let s=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function C1(e,t){return{x:em(e.x,t.x),y:em(e.y,t.y)}}function E1(e,t){let s=.5;const a=$e(e),n=$e(t);return n>a?s=Ka(t.min,t.max-a,e.min):a>n&&(s=Ka(e.min,e.max-n,t.min)),Xt(0,1,s)}function P1(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const mc=.35;function A1(e=mc){return e===!1?e=0:e===!0&&(e=mc),{x:tm(e,"left","right"),y:tm(e,"top","bottom")}}function tm(e,t,s){return{min:rm(e,t),max:rm(e,s)}}function rm(e,t){return typeof e=="number"?e:e[t]||0}const T1=new WeakMap;class D1{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:a}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(dn(m).point)},l=(m,h)=>{const{drag:x,dragPropagation:b,onDragStart:v}=this.getProps();if(x&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Vj(x),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dt(p=>{let g=this.getAxisMotionValue(p).get()||0;if(Vt.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[p];w&&(g=$e(w)*(parseFloat(g)/100))}}this.originPoint[p]=g}),v&&oe.postRender(()=>v(m,h)),dc(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},o=(m,h)=>{this.latestPointerEvent=m,this.latestPanInfo=h;const{dragPropagation:x,dragDirectionLock:b,onDirectionLock:v,onDrag:j}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:p}=h;if(b&&this.currentDirection===null){this.currentDirection=L1(p),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,p),this.updateAxis("y",h.point,p),this.visualElement.render(),j&&j(m,h)},c=(m,h)=>{this.latestPointerEvent=m,this.latestPanInfo=h,this.stop(m,h),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>dt(m=>{var h;return this.getAnimationState(m)==="paused"&&((h=this.getAxisMotionValue(m).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Lg(t,{onSessionStart:i,onStart:l,onMove:o,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:a,contextWindow:Dg(this.visualElement)})}stop(t,s){const a=t||this.latestPointerEvent,n=s||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!a)return;const{velocity:l}=n;this.startAnimation(l);const{onDragEnd:o}=this.getProps();o&&oe.postRender(()=>o(a,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,a){const{drag:n}=this.getProps();if(!a||!In(t,n,this.currentDirection))return;const i=this.getAxisMotionValue(t);let l=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(l=k1(l,this.constraints[t],this.elastic[t])),i.set(l)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,n=this.constraints;t&&gs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=S1(a.layoutBox,t):this.constraints=!1,this.elastic=A1(s),n!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&dt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=P1(a.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!gs(t))return!1;const a=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=IN(a,n.root,this.visualElement.getTransformPagePoint());let l=C1(n.layout.layoutBox,i);if(s){const o=s(TN(l));this.hasMutatedConstraints=!!o,o&&(l=gg(o))}return l}startAnimation(t){const{drag:s,dragMomentum:a,dragElastic:n,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=dt(u=>{if(!In(u,s,this.currentDirection))return;let m=c&&c[u]||{};l&&(m={min:0,max:0});const h=n?200:1e6,x=n?40:1e7,b={type:"inertia",velocity:a?t[u]:0,bounceStiffness:h,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(u,b)});return Promise.all(d).then(o)}startAxisValueAnimation(t,s){const a=this.getAxisMotionValue(t);return dc(this.visualElement,t),a.start(Wd(t,a,0,s,this.visualElement,!1))}stopAnimation(){dt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){dt(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),n=a[s];return n||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){dt(s=>{const{drag:a}=this.getProps();if(!In(s,a,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(s);if(n&&n.layout){const{min:l,max:o}=n.layout.layoutBox[s];i.set(t[s]-de(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!gs(s)||!a||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};dt(l=>{const o=this.getAxisMotionValue(l);if(o&&this.constraints!==!1){const c=o.get();n[l]=E1({min:c,max:c},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),dt(l=>{if(!In(l,t,null))return;const o=this.getAxisMotionValue(l),{min:c,max:d}=this.constraints[l];o.set(de(c,d,n[l]))})}addListeners(){if(!this.visualElement.current)return;T1.set(this.visualElement,this);const t=this.visualElement.current,s=Na(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),a=()=>{const{dragConstraints:c}=this.getProps();gs(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",a);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),oe.read(a);const l=Za(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(dt(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{l(),s(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:l=mc,dragMomentum:o=!0}=t;return{...t,drag:s,dragDirectionLock:a,dragPropagation:n,dragConstraints:i,dragElastic:l,dragMomentum:o}}}function In(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function L1(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class I1 extends Tr{constructor(t){super(t),this.removeGroupControls=ft,this.removeListeners=ft,this.controls=new D1(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ft}unmount(){this.removeGroupControls(),this.removeListeners()}}const sm=e=>(t,s)=>{e&&oe.postRender(()=>e(t,s))};class M1 extends Tr{constructor(){super(...arguments),this.removePointerDownListener=ft}onPointerDown(t){this.session=new Lg(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Dg(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:a,onPanEnd:n}=this.node.getProps();return{onSessionStart:sm(t),onStart:sm(s),onMove:a,onEnd:(i,l)=>{delete this.session,n&&oe.postRender(()=>n(i,l))}}}mount(){this.removePointerDownListener=Na(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yn={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function am(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const na={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(W.test(e))e=parseFloat(e);else return e;const s=am(e,t.target.x),a=am(e,t.target.y);return`${s}% ${a}%`}},R1={correct:(e,{treeScale:t,projectionDelta:s})=>{const a=e,n=kr.parse(e);if(n.length>5)return a;const i=kr.createTransformer(e),l=typeof n[0]!="number"?1:0,o=s.x.scale*t.x,c=s.y.scale*t.y;n[0+l]/=o,n[1+l]/=c;const d=de(o,c,.5);return typeof n[2+l]=="number"&&(n[2+l]/=d),typeof n[3+l]=="number"&&(n[3+l]/=d),i(n)}};let Bl=!1;class _1 extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a,layoutId:n}=this.props,{projection:i}=t;aN(F1),i&&(s.group&&s.group.add(i),a&&a.register&&n&&a.register(i),Bl&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Yn.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:a,drag:n,isPresent:i}=this.props,{projection:l}=a;return l&&(l.isPresent=i,Bl=!0,n||t.layoutDependency!==s||s===void 0||t.isPresent!==i?l.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?l.promote():l.relegate()||oe.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Rd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:n}=t;Bl=!0,n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),a&&a.deregister&&a.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Mg(e){const[t,s]=rg(),a=f.useContext(xd);return r.jsx(_1,{...e,layoutGroup:a,switchLayoutGroup:f.useContext(xg),isPresent:t,safeToRemove:s})}const F1={borderRadius:{...na,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:na,borderTopRightRadius:na,borderBottomLeftRadius:na,borderBottomRightRadius:na,boxShadow:R1};function O1(e,t,s){const a=Fe(e)?e:Os(e);return a.start(Wd("",a,t,s)),a.animation}const V1=(e,t)=>e.depth-t.depth;class U1{constructor(){this.children=[],this.isDirty=!1}add(t){pd(this.children,t),this.isDirty=!0}remove(t){yd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(V1),this.isDirty=!1,this.children.forEach(t)}}function $1(e,t){const s=Ke.now(),a=({timestamp:n})=>{const i=n-s;i>=t&&(Nr(a),e(i-t))};return oe.setup(a,!0),()=>Nr(a)}const Rg=["TopLeft","TopRight","BottomLeft","BottomRight"],z1=Rg.length,nm=e=>typeof e=="string"?parseFloat(e):e,im=e=>typeof e=="number"||W.test(e);function B1(e,t,s,a,n,i){n?(e.opacity=de(0,s.opacity??1,H1(a)),e.opacityExit=de(t.opacity??1,0,q1(a))):i&&(e.opacity=de(t.opacity??1,s.opacity??1,a));for(let l=0;l<z1;l++){const o=`border${Rg[l]}Radius`;let c=lm(t,o),d=lm(s,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||im(c)===im(d)?(e[o]=Math.max(de(nm(c),nm(d),a),0),(Vt.test(d)||Vt.test(c))&&(e[o]+="%")):e[o]=d}(t.rotate||s.rotate)&&(e.rotate=de(t.rotate||0,s.rotate||0,a))}function lm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const H1=_g(0,.5,jf),q1=_g(.5,.95,ft);function _g(e,t,s){return a=>a<e?0:a>t?1:s(Ka(e,t,a))}function om(e,t){e.min=t.min,e.max=t.max}function ct(e,t){om(e.x,t.x),om(e.y,t.y)}function cm(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function dm(e,t,s,a,n){return e-=t,e=Ii(e,1/s,a),n!==void 0&&(e=Ii(e,1/n,a)),e}function W1(e,t=0,s=1,a=.5,n,i=e,l=e){if(Vt.test(t)&&(t=parseFloat(t),t=de(l.min,l.max,t/100)-l.min),typeof t!="number")return;let o=de(i.min,i.max,a);e===i&&(o-=t),e.min=dm(e.min,t,s,o,n),e.max=dm(e.max,t,s,o,n)}function um(e,t,[s,a,n],i,l){W1(e,t[s],t[a],t[n],t.scale,i,l)}const G1=["x","scaleX","originX"],K1=["y","scaleY","originY"];function mm(e,t,s,a){um(e.x,t,G1,s?s.x:void 0,a?a.x:void 0),um(e.y,t,K1,s?s.y:void 0,a?a.y:void 0)}function hm(e){return e.translate===0&&e.scale===1}function Fg(e){return hm(e.x)&&hm(e.y)}function xm(e,t){return e.min===t.min&&e.max===t.max}function Y1(e,t){return xm(e.x,t.x)&&xm(e.y,t.y)}function fm(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Og(e,t){return fm(e.x,t.x)&&fm(e.y,t.y)}function gm(e){return $e(e.x)/$e(e.y)}function pm(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Q1{constructor(){this.members=[]}add(t){pd(this.members,t),t.scheduleRender()}remove(t){if(yd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(n=>t===n);if(s===0)return!1;let a;for(let n=s;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(t,s){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,s&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:a}=t;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function X1(e,t,s){let a="";const n=e.x.translate/t.x,i=e.y.translate/t.y,l=(s==null?void 0:s.z)||0;if((n||i||l)&&(a=`translate3d(${n}px, ${i}px, ${l}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:h,skewX:x,skewY:b}=s;d&&(a=`perspective(${d}px) ${a}`),u&&(a+=`rotate(${u}deg) `),m&&(a+=`rotateX(${m}deg) `),h&&(a+=`rotateY(${h}deg) `),x&&(a+=`skewX(${x}deg) `),b&&(a+=`skewY(${b}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(a+=`scale(${o}, ${c})`),a||"none"}const Hl=["","X","Y","Z"],J1=1e3;let Z1=0;function ql(e,t,s,a){const{latestValues:n}=t;n[e]&&(s[e]=n[e],t.setStaticValue(e,0),a&&(a[e]=0))}function Vg(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=kg(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:n,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",oe,!(n||i))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&Vg(a)}function Ug({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:a,resetTransform:n}){return class{constructor(l={},o=t==null?void 0:t()){this.id=Z1++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rk),this.nodes.forEach(ik),this.nodes.forEach(lk),this.nodes.forEach(sk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new U1)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new vd),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const c=this.eventHandlers.get(l);c&&c.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=tg(l)&&!qj(l),this.instance=l;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),e){let u,m=0;const h=()=>this.root.updateBlockedByResize=!1;oe.read(()=>{m=window.innerWidth}),e(l,()=>{const x=window.innerWidth;x!==m&&(m=x,this.root.updateBlockedByResize=!0,u&&u(),u=$1(h,250),Yn.hasAnimatedSinceResize&&(Yn.hasAnimatedSinceResize=!1,this.nodes.forEach(vm)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:h,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||mk,{onLayoutAnimationStart:v,onLayoutAnimationComplete:j}=d.getProps(),p=!this.targetLayout||!Og(this.targetLayout,x),g=!m&&h;if(this.options.layoutRoot||this.resumeFrom||g||m&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...Id(b,"layout"),onPlay:v,onComplete:j};(d.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(u,g)}else m||vm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ok),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Vg(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ym);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(bm);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nk),this.nodes.forEach(ek),this.nodes.forEach(tk)):this.nodes.forEach(bm),this.clearAllSnapshots();const o=Ke.now();Ae.delta=Xt(0,1e3/60,o-Ae.timestamp),Ae.timestamp=o,Ae.isProcessing=!0,Il.update.process(Ae),Il.preRender.process(Ae),Il.render.process(Ae),Ae.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ak),this.sharedNodes.forEach(ck)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$e(this.snapshot.measuredBox.x)&&!$e(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&this.instance){const c=a(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Fg(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;l&&this.instance&&(o||Mr(this.latestValues)||u)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return l&&(c=this.removeTransform(c)),hk(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:l}=this.options;if(!l)return pe();const o=l.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(xk))){const{scroll:u}=this.root;u&&(ps(o.x,u.offset.x),ps(o.y,u.offset.y))}return o}removeElementScroll(l){var c;const o=pe();if(ct(o,l),(c=this.scroll)!=null&&c.wasRoot)return o;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:m,options:h}=u;u!==this.root&&m&&h.layoutScroll&&(m.wasRoot&&ct(o,l),ps(o.x,m.offset.x),ps(o.y,m.offset.y))}return o}applyTransform(l,o=!1){const c=pe();ct(c,l);for(let d=0;d<this.path.length;d++){const u=this.path[d];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ys(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Mr(u.latestValues)&&ys(c,u.latestValues)}return Mr(this.latestValues)&&ys(c,this.latestValues),c}removeTransform(l){const o=pe();ct(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Mr(d.latestValues))continue;ic(d.latestValues)&&d.updateSnapshot();const u=pe(),m=d.measurePageBox();ct(u,m),mm(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Mr(this.latestValues)&&mm(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ae.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:m}=this.options;if(!(!this.layout||!(u||m))){if(this.resolvedRelativeTargetAt=Ae.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pe(),this.relativeTargetOrigin=pe(),Sa(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pe(),this.targetWithTransforms=pe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),v1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ct(this.target,this.layout.layoutBox),yg(this.target,this.targetDelta)):ct(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pe(),this.relativeTargetOrigin=pe(),Sa(this.relativeTargetOrigin,this.target,x.target),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ic(this.parent.latestValues)||pg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const l=this.getLead(),o=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ae.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;ct(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,h=this.treeScale.y;LN(this.layoutCorrected,this.treeScale,this.path,o),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=pe());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cm(this.prevProjectionDelta.x,this.projectionDelta.x),cm(this.prevProjectionDelta.y,this.projectionDelta.y)),ka(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==h||!pm(this.projectionDelta.x,this.prevProjectionDelta.x)||!pm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bs(),this.projectionDelta=bs(),this.projectionDeltaWithTransform=bs()}setAnimationOrigin(l,o=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=bs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=pe(),x=c?c.source:void 0,b=this.layout?this.layout.source:void 0,v=x!==b,j=this.getStack(),p=!j||j.members.length<=1,g=!!(v&&!p&&this.options.crossfade===!0&&!this.path.some(uk));this.animationProgress=0;let y;this.mixTargetDelta=w=>{const N=w/1e3;wm(m.x,l.x,N),wm(m.y,l.y,N),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sa(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dk(this.relativeTarget,this.relativeTargetOrigin,h,N),y&&Y1(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=pe()),ct(y,this.relativeTarget)),v&&(this.animationValues=u,B1(u,d,this.latestValues,N,g,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var o,c,d;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{Yn.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Os(0)),this.currentAnimation=O1(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(J1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:u}=l;if(!(!o||!c||!d)){if(this!==l&&this.layout&&d&&$g(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||pe();const m=$e(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+m;const h=$e(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+h}ct(o,c),ys(o,u),ka(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Q1),this.sharedNodes.get(l).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const d={};c.z&&ql("z",l,d,this.animationValues);for(let u=0;u<Hl.length;u++)ql(`rotate${Hl[u]}`,l,d,this.animationValues),ql(`skew${Hl[u]}`,l,d,this.animationValues);l.render();for(const u in d)l.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);l.scheduleRender()}applyProjectionStyles(l,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Kn(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Kn(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Mr(this.latestValues)&&(l.transform=c?c({},""):"none",this.hasProjected=!1);return}l.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=X1(this.projectionDeltaWithTransform,this.treeScale,u);c&&(m=c(u,m)),l.transform=m;const{x:h,y:x}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${x.origin*100}% 0`,d.animationValues?l.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const b in Ja){if(u[b]===void 0)continue;const{correct:v,applyTo:j,isCSSVariable:p}=Ja[b],g=m==="none"?u[b]:v(u[b],d);if(j){const y=j.length;for(let w=0;w<y;w++)l[j[w]]=g}else p?this.options.visualElement.renderState.vars[b]=g:l[b]=g}this.options.layoutId&&(l.pointerEvents=d===this?Kn(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var o;return(o=l.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(ym),this.root.sharedNodes.clear()}}}function ek(e){e.updateLayout()}function tk(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:n}=e.layout,{animationType:i}=e.options,l=t.source!==e.layout.source;i==="size"?dt(m=>{const h=l?t.measuredBox[m]:t.layoutBox[m],x=$e(h);h.min=a[m].min,h.max=h.min+x}):$g(i,t.layoutBox,a)&&dt(m=>{const h=l?t.measuredBox[m]:t.layoutBox[m],x=$e(a[m]);h.max=h.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+x)});const o=bs();ka(o,a,t.layoutBox);const c=bs();l?ka(c,e.applyTransform(n,!0),t.measuredBox):ka(c,a,t.layoutBox);const d=!Fg(o);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:x}=m;if(h&&x){const b=pe();Sa(b,t.layoutBox,h.layoutBox);const v=pe();Sa(v,a,x.layoutBox),Og(b,v)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=b,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function rk(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function sk(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ak(e){e.clearSnapshot()}function ym(e){e.clearMeasurements()}function bm(e){e.isLayoutDirty=!1}function nk(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function vm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ik(e){e.resolveTargetDelta()}function lk(e){e.calcProjection()}function ok(e){e.resetSkewAndRotation()}function ck(e){e.removeLeadSnapshot()}function wm(e,t,s){e.translate=de(t.translate,0,s),e.scale=de(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function jm(e,t,s,a){e.min=de(t.min,s.min,a),e.max=de(t.max,s.max,a)}function dk(e,t,s,a){jm(e.x,t.x,s.x,a),jm(e.y,t.y,s.y,a)}function uk(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mk={duration:.45,ease:[.4,0,.1,1]},Nm=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),km=Nm("applewebkit/")&&!Nm("chrome/")?Math.round:ft;function Sm(e){e.min=km(e.min),e.max=km(e.max)}function hk(e){Sm(e.x),Sm(e.y)}function $g(e,t,s){return e==="position"||e==="preserve-aspect"&&!b1(gm(t),gm(s),.2)}function xk(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const fk=Ug({attachResizeListener:(e,t)=>Za(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wl={current:void 0},zg=Ug({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Wl.current){const e=new fk({});e.mount(window),e.setOptions({layoutScroll:!0}),Wl.current=e}return Wl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),gk={pan:{Feature:M1},drag:{Feature:I1,ProjectionNode:zg,MeasureLayout:Mg}};function Cm(e,t,s){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",s==="Start");const n="onHover"+s,i=a[n];i&&oe.postRender(()=>i(t,dn(t)))}class pk extends Tr{mount(){const{current:t}=this.node;t&&(this.unmount=Uj(t,(s,a)=>(Cm(this.node,a,"Start"),n=>Cm(this.node,n,"End"))))}unmount(){}}class yk extends Tr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ln(Za(this.node.current,"focus",()=>this.onFocus()),Za(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Em(e,t,s){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",s==="Start");const n="onTap"+(s==="End"?"":s),i=a[n];i&&oe.postRender(()=>i(t,dn(t)))}class bk extends Tr{mount(){const{current:t}=this.node;t&&(this.unmount=Hj(t,(s,a)=>(Em(this.node,a,"Start"),(n,{success:i})=>Em(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hc=new WeakMap,Gl=new WeakMap,vk=e=>{const t=hc.get(e.target);t&&t(e)},wk=e=>{e.forEach(vk)};function jk({root:e,...t}){const s=e||document;Gl.has(s)||Gl.set(s,{});const a=Gl.get(s),n=JSON.stringify(t);return a[n]||(a[n]=new IntersectionObserver(wk,{root:e,...t})),a[n]}function Nk(e,t,s){const a=jk(t);return hc.set(e,s),a.observe(e),()=>{hc.delete(e),a.unobserve(e)}}const kk={some:0,all:1};class Sk extends Tr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:a,amount:n="some",once:i}=t,l={root:s?s.current:void 0,rootMargin:a,threshold:typeof n=="number"?n:kk[n]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),h=d?u:m;h&&h(c)};return Nk(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(Ck(t,s))&&this.startObserver()}unmount(){}}function Ck({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const Ek={inView:{Feature:Sk},tap:{Feature:bk},focus:{Feature:yk},hover:{Feature:pk}},Pk={layout:{ProjectionNode:zg,MeasureLayout:Mg}},Ak={...h1,...Ek,...gk,...Pk},B=AN(Ak,zN);function Tk(){const[e,t]=f.useState(""),[s,a]=f.useState(""),[n,i]=f.useState(!1),[l,o]=f.useState(""),[c,d]=f.useState(!1),[u,m]=f.useState(!1),[h,x]=f.useState(""),{signIn:b,signUp:v}=Tt(),j=Ar(),p=async g=>{g.preventDefault(),m(!0),x("");try{if(n){if(!l.trim()){x("Full name is required"),m(!1);return}await v(e,s,l,"CLIENT")}else await b(e,s);j("/dashboard")}catch(y){y instanceof Error&&y.message?x(y.message):x(n?"Registration failed. Please try again.":"Invalid email or password")}finally{m(!1)}};return r.jsxs("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950"}),r.jsx(B.div,{className:"absolute w-96 h-96 bg-gradient-to-r from-emerald-500/20 to-teal-600/20 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,-50,0],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},style:{top:"10%",left:"10%"}}),r.jsx(B.div,{className:"absolute w-80 h-80 bg-gradient-to-r from-teal-500/20 to-cyan-600/20 rounded-full blur-3xl",animate:{x:[0,-80,0],y:[0,60,0],scale:[1,.8,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},style:{top:"60%",right:"10%"}}),r.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(16,185,129,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(16,185,129,0.03)_1px,transparent_1px)] bg-[size:50px_50px]"}),r.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border-4 border-emerald-400/20 transform rotate-45"}),r.jsx("div",{className:"absolute bottom-20 right-20 w-24 h-24 border-4 border-teal-400/20 transform rotate-12"})]}),r.jsxs("div",{className:"relative w-full max-w-md z-10",children:[r.jsx(B.div,{className:"mb-8",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:r.jsxs(dr,{to:"/",className:"inline-flex items-center text-slate-400 hover:text-emerald-400 transition-colors group",children:[r.jsx(Xi,{className:"h-4 w-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Home"]})}),r.jsxs(B.div,{className:"bg-gray-900/50 backdrop-blur-2xl rounded-3xl shadow-2xl border border-gray-800/50 p-8 relative overflow-hidden",initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.8,delay:.3},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-teal-600/5 to-cyan-700/5 pointer-events-none"}),r.jsxs("div",{className:"relative",children:[r.jsxs(B.div,{className:"text-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[r.jsx(B.div,{className:"relative group inline-block mb-6",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:r.jsxs("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center shadow-2xl relative",children:[r.jsx("div",{className:"text-slate-950 font-black text-2xl",children:"TP"}),r.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute -bottom-2 -left-2 w-3 h-3 bg-gradient-to-r from-teal-500 to-cyan-600 rounded-full animate-pulse",style:{animationDelay:"1s"}})]})}),r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"font-black text-3xl text-white mb-2",children:"TECH PROCESSING LLC"}),r.jsx("div",{className:"text-sm text-emerald-400 font-bold tracking-[0.3em]",children:"DESIGN | DEVELOP | DOMINATE"})]}),r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:n?"Join the Future":"Welcome Back"}),r.jsx("p",{className:"text-slate-400",children:n?"Create your account to access next-gen solutions":"Access your intelligent dashboard"})]}),r.jsx(B.div,{className:"mb-6 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:r.jsxs("p",{className:"text-slate-400",children:[n?"Already have an account?":"Don't have an account?"," ",r.jsx("button",{onClick:()=>i(!n),className:"font-bold text-emerald-400 hover:text-emerald-300 transition-colors underline",children:n?"Sign in here":"Register here"})]})}),r.jsx(vr,{children:h&&r.jsx(B.div,{className:"mb-6 p-4 bg-red-500/20 backdrop-blur-sm border border-red-400/30 rounded-xl",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:r.jsx("p",{className:"text-sm text-red-300 font-medium",children:h})})}),r.jsxs(B.form,{onSubmit:p,className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:[r.jsx(vr,{children:n&&r.jsxs(B.div,{className:"space-y-2",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[r.jsx("label",{htmlFor:"fullName",className:"block text-sm font-bold text-slate-300",children:"Full Name"}),r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:r.jsx(J,{className:"h-5 w-5 text-slate-500 group-focus-within:text-emerald-400 transition-colors"})}),r.jsx("input",{id:"fullName",name:"fullName",type:"text",required:n,value:l,onChange:g=>o(g.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-300 font-medium",placeholder:"Enter your full name"})]})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-slate-300",children:"Email Address"}),r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:r.jsx(nt,{className:"h-5 w-5 text-slate-500 group-focus-within:text-emerald-400 transition-colors"})}),r.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:g=>t(g.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-300 font-medium",placeholder:"Enter your email"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-slate-300",children:"Password"}),r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:r.jsx(ki,{className:"h-5 w-5 text-slate-500 group-focus-within:text-emerald-400 transition-colors"})}),r.jsx("input",{id:"password",name:"password",type:c?"text":"password",required:!0,value:s,onChange:g=>a(g.target.value),className:"w-full pl-12 pr-12 py-4 bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-300 font-medium",placeholder:"Enter your password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>d(!c),children:c?r.jsx(hd,{className:"h-5 w-5 text-slate-500 hover:text-slate-300 transition-colors"}):r.jsx(nn,{className:"h-5 w-5 text-slate-500 hover:text-slate-300 transition-colors"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-600 rounded bg-gray-800/50"}),r.jsx("label",{htmlFor:"remember-me",className:"ml-3 text-sm font-medium text-slate-400",children:"Remember me"})]}),r.jsx("a",{href:"#",className:"text-sm font-bold text-emerald-400 hover:text-emerald-300 transition-colors",children:"Forgot password?"})]}),r.jsxs(B.button,{type:"submit",disabled:u,className:"w-full relative overflow-hidden bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 hover:from-emerald-400 hover:via-teal-400 hover:to-cyan-400 text-white py-4 px-6 rounded-xl font-bold text-lg transition-all duration-300 shadow-lg hover:shadow-emerald-500/25 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center border border-emerald-500/30 group",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),u?r.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}):r.jsxs("span",{className:"relative flex items-center",children:[r.jsx(st,{className:"h-5 w-5 mr-2"}),n?"Create Account":"Access Portal",r.jsx(Ho,{className:"h-5 w-5 ml-2 group-hover:translate-x-1 transition-transform"})]})]})]}),r.jsx(B.div,{className:"mt-8 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:r.jsxs("p",{className:"text-sm text-slate-500",children:["Need assistance?"," ",r.jsx("a",{href:"mailto:support@techprocessing.com",className:"font-bold text-emerald-400 hover:text-emerald-300 transition-colors",children:"Contact Support"})]})})]})]}),r.jsx(B.div,{className:"mt-6 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},children:r.jsxs("div",{className:"inline-flex items-center px-6 py-3 bg-gray-800/50 backdrop-blur-xl rounded-full border border-emerald-400/30 shadow-lg",children:[r.jsx(Ov,{className:"h-4 w-4 text-emerald-400 mr-2"}),r.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Quantum-Encrypted Security"}),r.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full ml-3 animate-pulse"})]})})]})]})}function Dk(){const[e,t]=f.useState(!1),[s,a]=f.useState(0),[n,i]=f.useState({x:0,y:0}),l=[{title:"WE ARE",highlight:"CREATIVE",subtitle:"DIGITAL AGENCY",description:"Transform your business with intelligent automation, cloud-native architectures, and cutting-edge cybersecurity solutions.",image:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=800",services:["AI & Machine Learning","Cloud Architecture","Cybersecurity Solutions","Data Analytics"]},{title:"WE BUILD",highlight:"INNOVATIVE",subtitle:"TECH SOLUTIONS",description:"Build scalable, resilient systems that adapt to tomorrow's challenges with our advanced cloud and edge computing solutions.",image:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=800",services:["Web Development","Mobile Applications","System Integration","DevOps Solutions"]},{title:"WE CREATE",highlight:"ARTISTIC",subtitle:"DIGITAL EXPERIENCES",description:"Advanced threat detection, AI-powered monitoring, and quantum-encrypted communications to protect your digital assets.",image:"https://images.pexels.com/photos/3184339/pexels-photo-3184339.jpeg?auto=compress&cs=tinysrgb&w=800",services:["UI/UX Design","Brand Identity","Digital Marketing","Content Strategy"]}];return f.useEffect(()=>{const o=setInterval(()=>{a(c=>(c+1)%l.length)},6e3);return()=>clearInterval(o)},[]),f.useEffect(()=>{const o=c=>{i({x:c.clientX,y:c.clientY})};return window.addEventListener("mousemove",o),()=>window.removeEventListener("mousemove",o)},[]),r.jsxs("div",{className:"min-h-screen bg-slate-950 text-white overflow-hidden",children:[r.jsx(B.div,{className:"bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 py-3 px-6",initial:{y:-50},animate:{y:0},transition:{duration:.6},children:r.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center text-sm",children:[r.jsx("div",{className:"flex items-center space-x-6 mb-2 md:mb-0",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(B.div,{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors cursor-pointer",whileHover:{scale:1.1},children:r.jsx("span",{className:"text-white font-bold text-xs",children:"f"})}),r.jsx(B.div,{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors cursor-pointer",whileHover:{scale:1.1},children:r.jsx("span",{className:"text-white font-bold text-xs",children:"t"})}),r.jsx(B.div,{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors cursor-pointer",whileHover:{scale:1.1},children:r.jsx("span",{className:"text-white font-bold text-xs",children:"i"})})]})}),r.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-1 md:space-y-0 md:space-x-8 text-center md:text-left",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Qr,{className:"h-4 w-4 mr-2"}),r.jsx("span",{className:"font-medium",children:"CALL : +1 (727) 201-2658"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(nt,{className:"h-4 w-4 mr-2"}),r.jsx("span",{className:"font-medium",children:"MAIL : SUPPORT@TECHPROCESSINGLLC.COM"})]})]})]})}),r.jsx(B.nav,{className:"relative z-50 bg-slate-950/95 backdrop-blur-xl border-b border-slate-800/50",initial:{y:-100},animate:{y:0},transition:{duration:.8,delay:.2},children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[r.jsxs("div",{className:"flex items-center justify-between py-6",children:[r.jsx(B.div,{className:"flex items-center space-x-4",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.2},children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(B.div,{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center shadow-2xl",whileHover:{scale:1.05,rotate:5},transition:{type:"spring",stiffness:400,damping:10},children:r.jsx("div",{className:"text-slate-950 font-black text-lg",children:"TP"})}),r.jsx("div",{className:"font-black text-2xl bg-gradient-to-r from-emerald-400 via-teal-500 to-cyan-600 bg-clip-text text-transparent",children:"TECH PROCESSING LLC"})]})}),r.jsx("div",{className:"hidden lg:flex items-center space-x-8",children:["HOME","ABOUT US","SERVICES","BLOG","CONTACT US"].map((o,c)=>r.jsxs(B.a,{href:`#${o.toLowerCase().replace(" ","-")}`,className:"relative text-white hover:text-emerald-400 font-bold text-sm transition-all duration-300 group",whileHover:{y:-2},children:[o,r.jsx("div",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-emerald-400 to-cyan-500 group-hover:w-full transition-all duration-300"})]},o))}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(B.button,{className:"p-3 hover:bg-slate-800/50 rounded-xl transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:r.jsx(Fs,{className:"h-5 w-5 text-white"})}),r.jsx(B.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsxs(dr,{to:"/login",className:"relative overflow-hidden bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 hover:from-emerald-400 hover:via-teal-400 hover:to-cyan-400 text-white px-6 py-3 rounded-xl font-bold transition-all duration-300 shadow-lg hover:shadow-emerald-500/25 flex items-center group",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),r.jsx(Ll,{className:"h-4 w-4 mr-2 relative z-10"}),r.jsx("span",{className:"relative z-10",children:"Client Portal"})]})}),r.jsx("button",{className:"lg:hidden p-2 rounded-xl hover:bg-slate-800/50 transition-colors",onClick:()=>t(!e),children:e?r.jsx(Z,{className:"h-6 w-6"}):r.jsx(tf,{className:"h-6 w-6"})})]})]}),r.jsx(vr,{children:e&&r.jsx(B.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden border-t border-slate-800/50 py-4 overflow-hidden",children:r.jsx("div",{className:"space-y-2",children:["HOME","ABOUT US","SERVICES","BLOG","CONTACT US"].map((o,c)=>r.jsx(B.a,{href:`#${o.toLowerCase().replace(" ","-")}`,className:"block py-3 px-4 text-white hover:text-emerald-400 hover:bg-slate-800/30 rounded-lg transition-all duration-300 font-bold",onClick:()=>t(!1),initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:c*.1},children:o},o))})})})]})}),r.jsxs("section",{id:"home",className:"relative min-h-screen flex items-center overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0",children:r.jsx(vr,{mode:"wait",children:r.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"absolute inset-0",children:[r.jsx("div",{className:"absolute inset-0 bg-slate-950"}),r.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 border-4 border-emerald-400/30 transform rotate-45"}),r.jsx("div",{className:"absolute bottom-20 right-20 w-24 h-24 border-4 border-cyan-400/30 transform rotate-12"}),r.jsx("div",{className:"absolute top-1/2 right-32 w-16 h-16 border-4 border-teal-400/30 transform -rotate-12"})]},s)})}),r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 lg:px-8 grid grid-cols-1 lg:grid-cols-2 gap-16 lg:gap-20 items-center min-h-[80vh] py-12 lg:py-20",children:[r.jsxs(B.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:1,delay:.3},children:[r.jsx(vr,{mode:"wait",children:r.jsxs(B.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.8},children:[r.jsxs("h1",{className:"text-6xl lg:text-8xl font-black mb-6 leading-tight",children:[r.jsxs("span",{className:"text-white",children:[l[s].title," "]}),r.jsx("span",{className:"bg-gradient-to-r from-emerald-400 via-teal-500 to-cyan-400 bg-clip-text text-transparent",children:l[s].highlight}),r.jsx("br",{}),r.jsx("span",{className:"text-white",children:l[s].subtitle})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"inline-block bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full px-6 py-2 text-sm font-bold text-black mb-4",children:"ABOUT TECH PROCESSING"}),r.jsxs("h2",{className:"text-3xl font-bold text-white mb-4",children:["To Create Artistic &",r.jsx("br",{}),"Creative Design"]}),r.jsx("p",{className:"text-lg text-slate-300 leading-relaxed",children:l[s].description})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:r.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-teal-500 bg-clip-text text-transparent",children:"What We Do..."})}),r.jsx("div",{className:"space-y-2",children:l[s].services.map((o,c)=>r.jsxs(B.div,{className:"flex items-center text-slate-300",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+c*.1},children:[r.jsx(Dl,{className:"h-4 w-4 text-emerald-400 mr-2"}),r.jsx("span",{className:"font-medium",children:o})]},c))})]}),r.jsxs(B.div,{className:"flex flex-col sm:flex-row gap-4",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8},children:[r.jsxs(B.button,{className:"relative overflow-hidden bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 text-white px-8 py-4 rounded-xl font-bold text-lg shadow-2xl flex items-center group hover:shadow-emerald-500/30",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),r.jsx(Ll,{className:"h-5 w-5 mr-2 relative z-10"}),r.jsx("span",{className:"relative z-10",children:"Get Started"}),r.jsx(Ho,{className:"h-5 w-5 ml-2 relative z-10 group-hover:translate-x-1 transition-transform"})]}),r.jsxs(B.button,{className:"bg-slate-800/50 backdrop-blur-xl border-2 border-emerald-400/50 text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-emerald-400/10 hover:border-emerald-400 transition-all duration-300 flex items-center group",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[r.jsx(rf,{className:"h-5 w-5 mr-2 group-hover:scale-110 transition-transform"}),"Contact Us"]})]})]},s)}),r.jsx(B.div,{className:"absolute -left-20 top-1/2 transform -translate-y-1/2 -rotate-90 text-slate-600 font-bold text-sm tracking-wider",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:l[s].decorativeText})]}),r.jsx(B.div,{className:"relative",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:1,delay:.5},children:r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsx(B.div,{className:"col-span-2 relative overflow-hidden rounded-3xl bg-gradient-to-br from-emerald-400 to-teal-500 p-1",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:r.jsxs("div",{className:"bg-slate-900 rounded-3xl overflow-hidden",children:[r.jsx("img",{src:l[s].image,alt:"Tech Solutions",className:"w-full h-80 object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950/80 via-transparent to-transparent"}),r.jsxs("div",{className:"absolute bottom-6 left-6 right-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full px-4 py-2 text-sm font-bold text-black mb-2 inline-block",children:"We are"}),r.jsxs("h3",{className:"text-2xl font-black text-white",children:["Creative ",r.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-teal-500 bg-clip-text text-transparent",children:"Digital"}),r.jsx("br",{}),"Marketing"]})]})]})}),r.jsx(B.div,{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-emerald-400 to-teal-500 p-1",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:r.jsx("div",{className:"bg-gradient-to-br from-emerald-400 to-teal-500 rounded-3xl p-8 h-48 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:r.jsx(yt,{className:"h-8 w-8 text-white"})}),r.jsx("h4",{className:"text-white font-bold text-lg",children:"Growth Analytics"})]})})}),r.jsx(B.div,{className:"bg-slate-900/80 backdrop-blur-xl rounded-3xl p-6 border border-slate-800/50",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-black bg-gradient-to-r from-emerald-400 to-teal-500 bg-clip-text text-transparent mb-2",children:"500+"}),r.jsx("div",{className:"text-slate-300 font-bold text-sm",children:"Happy Clients"})]})})]})})]}),r.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-3",children:l.map((o,c)=>r.jsx(B.button,{onClick:()=>a(c),className:`w-3 h-3 rounded-full transition-all duration-300 ${c===s?"bg-gradient-to-r from-emerald-400 to-teal-500":"bg-slate-600"}`,whileHover:{scale:1.2},whileTap:{scale:.9}},c))})]}),r.jsx("section",{id:"about-us",className:"relative py-32 bg-slate-900/50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[r.jsxs(B.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-20",children:[r.jsx("div",{className:"inline-block bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full px-8 py-3 text-sm font-bold text-black mb-8 shadow-lg",children:"ABOUT TECH PROCESSING"}),r.jsxs("h2",{className:"text-6xl lg:text-7xl font-black mb-8 leading-tight",children:[r.jsx("span",{className:"text-white",children:"To Create "}),r.jsx("span",{className:"bg-gradient-to-r from-emerald-400 via-teal-500 to-cyan-400 bg-clip-text text-transparent",children:"Artistic"}),r.jsx("span",{className:"text-white",children:" & "}),r.jsx("br",{}),r.jsx("span",{className:"bg-gradient-to-r from-teal-500 via-cyan-400 to-emerald-400 bg-clip-text text-transparent",children:"Creative Design"})]}),r.jsx("p",{className:"text-2xl text-slate-300 max-w-5xl mx-auto leading-relaxed font-medium",children:"Your success is our mission. Let's design your future, develop your strategy, and dominate your market together."})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-24 items-center",children:[r.jsxs(B.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},children:[r.jsxs("h3",{className:"text-4xl font-black text-white mb-8 flex items-center",children:[r.jsx(qa,{className:"h-10 w-10 text-emerald-400 mr-4"}),"Digital Excellence"]}),r.jsx("p",{className:"text-xl text-slate-300 mb-12 leading-relaxed",children:"At Tech Processing LLC, we don't just build brands, we empower them to thrive in the digital world. Rooted in innovation and fueled by creativity, we're a full-service agency dedicated to transforming your vision into a powerful online presence."}),r.jsx("div",{className:"grid grid-cols-2 gap-10",children:[{number:"15+",label:"Years Experience",icon:Hv,color:"from-emerald-400 to-teal-500"},{number:"500+",label:"Happy Clients",icon:Et,color:"from-teal-500 to-cyan-500"},{number:"99.9%",label:" Rate",icon:_e,color:"from-cyan-500 to-emerald-400"},{number:"24/7",label:"Support Available",icon:At,color:"from-emerald-500 to-teal-400"}].map((o,c)=>r.jsxs(B.div,{className:"text-center group relative",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:c*.1},viewport:{once:!0},whileHover:{scale:1.08,y:-5},children:[r.jsx("div",{className:`w-20 h-20 bg-gradient-to-br ${o.color} rounded-3xl flex items-center justify-center mx-auto mb-6 group-hover:shadow-2xl group-hover:shadow-emerald-500/30 transition-all duration-500 border border-white/10`,children:r.jsx(o.icon,{className:"h-10 w-10 text-white drop-shadow-lg"})}),r.jsx("div",{className:`text-4xl font-black bg-gradient-to-r ${o.color} bg-clip-text text-transparent mb-3`,children:o.number}),r.jsx("div",{className:"text-slate-300 font-bold text-lg",children:o.label}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400/10 to-teal-600/10 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 blur-xl"})]},c))})]}),r.jsx(B.div,{className:"relative",initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},children:r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsx(B.div,{className:"bg-gradient-to-br from-emerald-400 to-teal-500 rounded-3xl p-8 h-64 flex items-center justify-center",whileHover:{scale:1.02,rotate:1},children:r.jsx("img",{src:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=400",alt:"Team Meeting",className:"w-full h-full object-cover rounded-2xl"})}),r.jsx(B.div,{className:"bg-gradient-to-br from-teal-500 to-cyan-500 rounded-3xl p-8 h-64 flex items-center justify-center",whileHover:{scale:1.02,rotate:-1},children:r.jsx("img",{src:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=400",alt:"Professional",className:"w-full h-full object-cover rounded-2xl"})})]})})]})]})}),r.jsx("section",{id:"services",className:"relative py-32 bg-slate-950",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[r.jsxs(B.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-20",children:[r.jsx("div",{className:"inline-block bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full px-8 py-3 text-sm font-bold text-black mb-8 shadow-lg",children:"OUR SERVICES"}),r.jsxs("h2",{className:"text-6xl lg:text-7xl font-black mb-8 leading-tight",children:[r.jsx("span",{className:"text-white",children:"What We "}),r.jsx("span",{className:"bg-gradient-to-r from-emerald-400 via-teal-500 to-cyan-400 bg-clip-text text-transparent",children:"Do..."})]}),r.jsx("p",{className:"text-2xl text-slate-300 max-w-5xl mx-auto leading-relaxed font-medium",children:"Comprehensive digital services designed to elevate your brand and accelerate your business growth"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:[{icon:Lv,title:"Web Development",description:"Custom websites and web applications built with cutting-edge technologies",features:["Responsive Design","E-commerce Solutions","Progressive Web Apps","API Integration"],color:"from-emerald-400 to-teal-500",bgColor:"from-emerald-500/10 to-teal-600/10"},{icon:_v,title:"Graphic Design",description:"Creative visual solutions that capture your brand's essence and engage your audience",features:["Brand Identity","Logo Design","Print Materials","Digital Graphics"],color:"from-teal-500 to-cyan-500",bgColor:"from-teal-500/10 to-cyan-600/10"},{icon:yt,title:"Digital Marketing",description:"Data-driven marketing strategies that amplify your reach and drive conversions",features:["Social Media Marketing","Content Strategy","PPC Campaigns","Email Marketing"],color:"from-cyan-500 to-emerald-400",bgColor:"from-cyan-500/10 to-emerald-400/10"},{icon:Fs,title:"SEO Optimization",description:"Advanced SEO strategies to boost your search rankings and organic visibility",features:["Keyword Research","On-Page SEO","Technical SEO","Local SEO"],color:"from-emerald-400 to-cyan-500",bgColor:"from-emerald-500/10 to-cyan-400/10"},{icon:Ji,title:"Google My Business",description:"Optimize your local presence and attract customers in your area",features:["Profile Optimization","Review Management","Local Listings","Map Rankings"],color:"from-cyan-400 to-teal-500",bgColor:"from-cyan-400/10 to-teal-500/10"},{icon:_s,title:"Analytics & Insights",description:"Comprehensive analytics to track performance and optimize your digital strategy",features:["Google Analytics","Conversion Tracking","Performance Reports","ROI Analysis"],color:"from-teal-500 to-emerald-400",bgColor:"from-teal-500/10 to-emerald-400/10"}].map((o,c)=>r.jsxs(B.div,{className:"group relative bg-slate-900/60 backdrop-blur-xl rounded-3xl p-8 border border-slate-700/30 hover:border-emerald-400/50 transition-all duration-500 overflow-hidden",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:c*.1},viewport:{once:!0},whileHover:{y:-15,scale:1.05},children:[r.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${o.bgColor} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`w-20 h-20 bg-gradient-to-br ${o.color} rounded-3xl flex items-center justify-center mb-8 group-hover:scale-110 group-hover:rotate-6 transition-all duration-500 shadow-2xl border border-white/10`,children:r.jsx(o.icon,{className:"h-10 w-10 text-white drop-shadow-lg"})}),r.jsx("h3",{className:"text-2xl font-black text-white mb-6 group-hover:text-emerald-400 transition-colors",children:o.title}),r.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed text-lg",children:o.description}),r.jsx("ul",{className:"space-y-3 mb-10",children:o.features.map((d,u)=>r.jsxs(B.li,{className:"flex items-center text-slate-200 font-medium",initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},transition:{delay:.1*u},viewport:{once:!0},children:[r.jsx("div",{className:`w-2 h-2 bg-gradient-to-r ${o.color} rounded-full mr-4 flex-shrink-0`}),r.jsx("span",{children:d})]},u))}),r.jsxs(B.button,{className:`w-full bg-gradient-to-r ${o.color} text-white py-4 rounded-2xl font-bold transition-all duration-300 flex items-center justify-center group-hover:shadow-2xl shadow-lg border border-white/10 relative overflow-hidden hover:shadow-emerald-500/30`,whileHover:{scale:1.05},whileTap:{scale:.98},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),r.jsxs("span",{className:"relative flex items-center",children:["Learn More",r.jsx(Ho,{className:"h-5 w-5 ml-3 group-hover:translate-x-2 transition-transform duration-300"})]})]})]})]},c))})]})}),r.jsx("section",{className:"relative py-32 bg-gradient-to-br from-slate-900/50 to-slate-800/30",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[r.jsxs(B.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-20",children:[r.jsx("div",{className:"inline-block bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full px-8 py-3 text-sm font-bold text-black mb-8 shadow-lg",children:"WHY CHOOSE US"}),r.jsxs("h2",{className:"text-6xl lg:text-7xl font-black mb-8 leading-tight",children:[r.jsx("span",{className:"text-white",children:"Excellence in "}),r.jsx("span",{className:"bg-gradient-to-r from-emerald-400 via-teal-500 to-cyan-400 bg-clip-text text-transparent",children:"Every Detail"})]}),r.jsx("p",{className:"text-2xl text-slate-300 max-w-5xl mx-auto leading-relaxed font-medium",children:"We combine cutting-edge technology with creative innovation to deliver exceptional results"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10",children:[{icon:Ll,title:"Lightning Fast",description:"Optimized performance and lightning-fast load times for superior user experience",color:"from-emerald-400 to-teal-500"},{icon:st,title:"Secure & Reliable",description:"Enterprise-grade security with 99.9% uptime guarantee and data protection",color:"from-teal-500 to-cyan-500"},{icon:Et,title:"Expert Team",description:"Dedicated professionals with 15+ years of experience in digital solutions",color:"from-cyan-500 to-emerald-400"},{icon:At,title:"24/7 Support",description:"Round-the-clock support and maintenance to keep your business running smoothly",color:"from-emerald-500 to-teal-400"}].map((o,c)=>r.jsxs(B.div,{className:"text-center group relative",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:c*.1},viewport:{once:!0},whileHover:{y:-15,scale:1.05},children:[r.jsxs("div",{className:"relative mb-10",children:[r.jsx("div",{className:`w-28 h-28 bg-gradient-to-br ${o.color} rounded-full flex items-center justify-center mx-auto group-hover:shadow-2xl group-hover:shadow-emerald-500/30 transition-all duration-500 border-4 border-white/10 group-hover:border-white/20`,children:r.jsx(o.icon,{className:"h-14 w-14 text-white group-hover:scale-110 group-hover:rotate-12 transition-all duration-500 drop-shadow-lg"})}),r.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${o.color} opacity-20 rounded-full blur-2xl group-hover:blur-3xl transition-all duration-500`})]}),r.jsx("h3",{className:"text-2xl font-black text-white mb-6 group-hover:text-emerald-400 transition-colors",children:o.title}),r.jsx("p",{className:"text-slate-300 leading-relaxed text-lg font-medium",children:o.description}),r.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 border-2 border-emerald-400/20 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 border-2 border-teal-400/20 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-700"})]},c))})]})}),r.jsxs("footer",{className:"relative bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 border-t border-emerald-500/20 py-24 overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-gradient-to-r from-emerald-500/5 to-teal-600/5 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-1/4 w-80 h-80 bg-gradient-to-r from-teal-500/5 to-cyan-600/5 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(16,185,129,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(16,185,129,0.02)_1px,transparent_1px)] bg-[size:60px_60px]"})]}),r.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 relative",children:[r.jsxs(B.div,{className:"space-y-6",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[r.jsxs("h3",{className:"text-2xl font-black text-white mb-8 relative",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center mr-3 shadow-lg",children:r.jsx(qa,{className:"h-5 w-5 text-white"})}),r.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-teal-500 bg-clip-text text-transparent",children:"About Us"})]}),r.jsx("div",{className:"absolute -bottom-2 left-0 w-20 h-1 bg-gradient-to-r from-emerald-400 via-teal-500 to-cyan-500 rounded-full shadow-lg"})]}),r.jsx("p",{className:"text-slate-300 leading-relaxed text-base font-medium",children:"At Tech Processing LLC, we don't just build brands, we empower them to thrive in the digital world. Rooted in innovation and fueled by creativity, we're a full-service agency dedicated to transforming your vision into a powerful online presence."}),r.jsx("div",{className:"flex space-x-4 pt-4",children:[{label:"Facebook",color:"from-blue-500 to-blue-600",icon:"f"},{label:"Twitter",color:"from-emerald-400 to-teal-500",icon:"t"},{label:"Instagram",color:"from-pink-500 to-rose-600",icon:"i"},{label:"LinkedIn",color:"from-blue-600 to-indigo-700",icon:"in"}].map((o,c)=>r.jsxs(B.div,{className:`w-14 h-14 bg-gradient-to-br ${o.color} rounded-2xl flex items-center justify-center cursor-pointer transition-all duration-300 shadow-xl hover:shadow-2xl border border-white/20 group relative overflow-hidden`,whileHover:{scale:1.1,y:-5,rotate:3},whileTap:{scale:.9},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),r.jsx("span",{className:"text-white font-black text-sm relative z-10",children:o.icon})]},c))})]}),r.jsxs(B.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},viewport:{once:!0},children:[r.jsxs("h3",{className:"text-2xl font-black text-white mb-8 relative",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-xl flex items-center justify-center mr-3 shadow-lg",children:r.jsx(dr,{className:"h-5 w-5 text-white"})}),r.jsx("span",{className:"bg-gradient-to-r from-teal-400 to-cyan-500 bg-clip-text text-transparent",children:"Quick Links"})]}),r.jsx("div",{className:"absolute -bottom-2 left-0 w-20 h-1 bg-gradient-to-r from-teal-400 via-cyan-500 to-emerald-500 rounded-full shadow-lg"})]}),r.jsx("ul",{className:"space-y-3",children:["About Us","Terms & Conditions","Privacy Policy","Contact Us"].map((o,c)=>r.jsx(B.li,{className:"group",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:c*.1},viewport:{once:!0},whileHover:{x:12},transition:{type:"spring",stiffness:300},children:r.jsxs("a",{href:"#",className:"flex items-center text-slate-300 hover:text-emerald-400 transition-all duration-300 group py-2 px-4 rounded-xl hover:bg-emerald-500/10 border border-transparent hover:border-emerald-500/20",children:[r.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full mr-4 group-hover:scale-150 transition-transform duration-300"}),r.jsx("span",{className:"font-semibold text-base group-hover:translate-x-2 transition-transform duration-300",children:o}),r.jsx(Dl,{className:"w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300"})]})},c))})]}),r.jsxs(B.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:[r.jsxs("h3",{className:"text-2xl font-black text-white mb-8 relative",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center mr-3 shadow-lg",children:r.jsx(Av,{className:"h-5 w-5 text-white"})}),r.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Services"})]}),r.jsx("div",{className:"absolute -bottom-2 left-0 w-20 h-1 bg-gradient-to-r from-cyan-400 via-blue-500 to-teal-500 rounded-full shadow-lg"})]}),r.jsx("ul",{className:"space-y-3",children:["Graphic Designing","Web Development","Digital Marketing","SEO Optimization","Google My Business","Analytics & Insights"].map((o,c)=>r.jsx(B.li,{className:"group",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:c*.1},viewport:{once:!0},whileHover:{x:12},transition:{type:"spring",stiffness:300},children:r.jsxs("a",{href:"#",className:"flex items-center text-slate-300 hover:text-cyan-400 transition-all duration-300 group py-2 px-4 rounded-xl hover:bg-cyan-500/10 border border-transparent hover:border-cyan-500/20",children:[r.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full mr-4 group-hover:scale-150 transition-transform duration-300"}),r.jsx("span",{className:"font-semibold text-base group-hover:translate-x-2 transition-transform duration-300",children:o}),r.jsx(Dl,{className:"w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300"})]})},c))})]}),r.jsxs(B.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},children:[r.jsxs("h3",{className:"text-2xl font-black text-white mb-8 relative",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center mr-3 shadow-lg",children:r.jsx(nt,{className:"h-5 w-5 text-white"})}),r.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-teal-500 bg-clip-text text-transparent",children:"Newsletter"})]}),r.jsx("div",{className:"absolute -bottom-2 left-0 w-20 h-1 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-full shadow-lg"})]}),r.jsx("p",{className:"text-slate-300 leading-relaxed mb-6",children:"Subscribe to our weekly newsletter for the latest tech insights, industry trends, and exclusive updates."}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"email",placeholder:"Enter your email address",className:"w-full px-6 py-4 bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-300 font-medium"}),r.jsxs(B.button,{className:"w-full relative overflow-hidden bg-gradient-to-r from-emerald-500 via-teal-600 to-cyan-700 hover:from-emerald-400 hover:via-teal-500 hover:to-cyan-600 text-white py-4 px-6 rounded-xl font-bold transition-all duration-300 shadow-lg hover:shadow-emerald-500/25 border border-emerald-500/30 group",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),r.jsxs("span",{className:"relative flex items-center justify-center",children:[r.jsx(Fv,{className:"h-5 w-5 mr-2"}),"Subscribe Now"]})]})]})]})]}),r.jsxs(B.div,{className:"border-t border-emerald-500/20 mt-20 pt-12 flex flex-col md:flex-row justify-between items-center relative",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.4},viewport:{once:!0},children:[r.jsxs("div",{className:"flex items-center space-x-6 mb-8 md:mb-0",children:[r.jsx(B.div,{className:"bg-white rounded-2xl p-4 shadow-2xl border-4 border-emerald-400/20",whileHover:{scale:1.05,rotate:2},transition:{type:"spring",stiffness:400,damping:10},children:r.jsx("div",{className:"text-black font-black text-3xl leading-none",style:{fontFamily:"Arial, sans-serif"},children:"P"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-black text-2xl bg-gradient-to-r from-emerald-400 via-teal-500 to-cyan-600 bg-clip-text text-transparent leading-tight",style:{fontFamily:"Arial, sans-serif"},children:"TECH PROCESSING LLC"}),r.jsxs("div",{className:"text-sm text-emerald-400 font-bold tracking-[0.3em] flex items-center",children:["DESIGN | DEVELOP | DOMINATE",r.jsxs("div",{className:"ml-3 flex space-x-1",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full animate-pulse"}),r.jsx("div",{className:"w-1.5 h-1.5 bg-teal-500 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),r.jsx("div",{className:"w-1.5 h-1.5 bg-cyan-600 rounded-full animate-pulse",style:{animationDelay:"1s"}})]})]})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-6",children:[r.jsxs("p",{className:"text-slate-400 text-base font-medium",children:[" All Copyright 2025 by"," ",r.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-teal-500 bg-clip-text text-transparent font-bold",children:"Tech Processing LLC"})]}),r.jsxs(B.button,{className:"w-16 h-16 bg-gradient-to-r from-emerald-400 via-teal-500 to-cyan-600 rounded-2xl flex items-center justify-center hover:shadow-2xl hover:shadow-emerald-500/40 transition-all duration-300 border-2 border-white/20 group relative overflow-hidden",whileHover:{scale:1.1,y:-8,rotate:5},whileTap:{scale:.9},onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/30 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),r.jsx(Sv,{className:"h-7 w-7 text-white relative z-10 group-hover:-translate-y-1 transition-transform duration-300"})]})]})]})]})]})]})}function Pm(){const{theme:e,setTheme:t}=Yv(),s=[{value:"light",icon:$v,label:"Light"},{value:"dark",icon:Rv,label:"Dark"},{value:"system",icon:Mv,label:"System"}];return r.jsx("div",{className:"flex items-center space-x-1 bg-gray-100/50 dark:bg-slate-800/50 rounded-lg p-1 backdrop-blur-sm border border-gray-200/30 dark:border-slate-700/30",children:s.map(({value:a,icon:n,label:i})=>r.jsx("button",{onClick:()=>t(a),className:`p-2 rounded-md transition-all duration-200 ${e===a?"bg-white dark:bg-slate-700 text-emerald-600 dark:text-emerald-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-emerald-600 dark:hover:text-emerald-400"}`,title:i,"aria-label":`Switch to ${i.toLowerCase()} theme`,children:r.jsx(n,{className:"h-4 w-4"})},a))})}function ve({children:e}){var w,N,k;const{user:t,signOut:s}=Tt(),a=qs(),[n,i]=f.useState(!1),[l,o]=f.useState(!1),[c,d]=f.useState(null),u=async()=>{await s()},m=[{id:"overview",label:"Overview",icon:_s,items:[{path:"/admin",label:"Dashboard",icon:_s},{path:"/admin/agent-sales",label:"Agent Sales",icon:Rs},{path:"/admin/closers",label:"Closer Management",icon:Et},{path:"/admin/closer-audit",label:"Closer Audit",icon:yt}]},{id:"clients",label:"Client Management",icon:Et,items:[{path:"/admin/clients",label:"Clients",icon:Et},{path:"/admin/invoices",label:"Invoices",icon:Se}]},{id:"services",label:"Services & Products",icon:Te,items:[{path:"/admin/services",label:"Service Packages",icon:Te},{path:"/admin/subscriptions",label:"Subscriptions",icon:Ci}]},{id:"payments",label:"Payment Management",icon:Be,items:[{path:"/admin/payments",label:"Payment History",icon:Be},{path:"/admin/payment-links",label:"Payment Links",icon:Ni},{path:"/admin/refunds",label:"Refunds",icon:qv}]},{id:"system",label:"System",icon:Ei,items:[{path:"/admin/audit",label:"Audit Logs",icon:st},{path:"/admin/settings",label:"Settings",icon:Ei}]}],h=[{path:"/client",label:"Dashboard",icon:qo},{path:"/client/invoices",label:"My Invoices",icon:va},{path:"/client/services",label:"Services",icon:Vv}],x=[{path:"/agent",label:"Dashboard",icon:qo},{path:"/agent/performance",label:"Performance",icon:yt}],b=(t==null?void 0:t.role)==="ADMIN",v=(t==null?void 0:t.role)==="AGENT",j=b?m:null,p=b?[]:v?x:h,g=C=>{d(c===C?null:C)},y=C=>C.items.some(E=>a.pathname===E.path);return r.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950 transition-colors relative overflow-hidden",children:[r.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 via-gray-100 to-gray-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950"}),r.jsx(B.div,{className:"absolute w-96 h-96 bg-gradient-to-r from-cyan-500/5 to-blue-600/5 dark:from-cyan-500/10 dark:to-blue-600/10 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,-50,0]},transition:{duration:20,repeat:1/0,ease:"easeInOut"},style:{top:"10%",left:"10%"}}),r.jsx(B.div,{className:"absolute w-80 h-80 bg-gradient-to-r from-purple-500/5 to-pink-600/5 dark:from-purple-500/10 dark:to-pink-600/10 rounded-full blur-3xl",animate:{x:[0,-80,0],y:[0,60,0]},transition:{duration:25,repeat:1/0,ease:"easeInOut",delay:5},style:{top:"60%",right:"10%"}}),r.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(34,211,238,0.01)_1px,transparent_1px),linear-gradient(90deg,rgba(34,211,238,0.01)_1px,transparent_1px)] dark:bg-[linear-gradient(rgba(34,211,238,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(34,211,238,0.02)_1px,transparent_1px)] bg-[size:50px_50px]"})]}),r.jsx("nav",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl shadow-2xl border-b border-gray-200/50 dark:border-slate-800/50 transition-colors sticky top-0 z-40",children:r.jsxs("div",{className:"max-w-full mx-auto px-6",children:[r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(B.div,{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 via-teal-600 to-cyan-700 rounded-2xl flex items-center justify-center shadow-2xl",whileHover:{scale:1.05,rotate:5},transition:{type:"spring",stiffness:400,damping:10},children:r.jsx("div",{className:"text-white font-black text-lg",children:"TP"})}),r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-full animate-pulse"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("div",{className:"font-black text-xl bg-gradient-to-r from-emerald-400 via-teal-500 to-cyan-600 bg-clip-text text-transparent leading-tight",children:"TECH PROCESSING"}),r.jsx("div",{className:"text-xs text-emerald-400 font-bold tracking-[0.2em] leading-tight",children:"LLC"})]})]}),r.jsx("div",{className:"hidden lg:flex items-center space-x-2 flex-1 justify-center",children:b&&j?j.map(C=>{const E=C.icon,P=y(C),A=c===C.id;return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>g(C.id),className:`flex items-center space-x-2 px-4 py-3 rounded-xl text-sm font-bold transition-all duration-300 ${P?"bg-gradient-to-r from-emerald-500 to-teal-600 text-white shadow-lg shadow-emerald-500/25":"text-gray-700 dark:text-slate-300 hover:text-emerald-400 hover:bg-gray-100/50 dark:hover:bg-slate-800/50"}`,children:[r.jsx(E,{className:"h-4 w-4"}),r.jsx("span",{children:C.label}),r.jsx(u0,{className:`h-3 w-3 transition-transform duration-200 ${A?"rotate-180":""}`})]}),r.jsx(vr,{children:A&&r.jsx(B.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},children:r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>d(null)}),r.jsx("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-200/50 dark:border-slate-700/50 z-20",children:r.jsx("div",{className:"p-2",children:C.items.map(T=>{const L=T.icon,z=a.pathname===T.path;return r.jsxs(dr,{to:T.path,className:`flex items-center space-x-3 px-4 py-3 rounded-xl text-sm font-bold transition-all duration-300 ${z?"bg-gradient-to-r from-emerald-500 to-teal-600 text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:bg-gray-100/50 dark:hover:bg-slate-800/50 hover:text-emerald-400"}`,onClick:()=>d(null),children:[r.jsx(L,{className:"h-4 w-4"}),r.jsx("span",{children:T.label})]},T.path)})})})]})})})]},C.id)}):p.map((C,E)=>{const P=C.icon,A=a.pathname===C.path;return r.jsxs(dr,{to:C.path,className:`flex items-center space-x-2 px-4 py-3 rounded-xl text-sm font-bold transition-all duration-300 ${A?"bg-gradient-to-r from-emerald-500 to-teal-600 text-white shadow-lg shadow-emerald-500/25":"text-gray-700 dark:text-slate-300 hover:text-emerald-400 hover:bg-gray-100/50 dark:hover:bg-slate-800/50"}`,children:[r.jsx(P,{className:"h-4 w-4"}),r.jsx("span",{children:C.label})]},C.path)})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"hidden lg:flex items-center space-x-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:(t==null?void 0:t.fullName)||"User"}),r.jsx("div",{className:"flex items-center justify-end",children:r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold ${(t==null?void 0:t.role)==="ADMIN"?"bg-gradient-to-r from-emerald-500/20 to-teal-600/20 text-emerald-400 border border-emerald-500/30":"bg-gradient-to-r from-teal-500/20 to-cyan-600/20 text-teal-400 border border-teal-500/30"}`,children:t==null?void 0:t.role})})]}),r.jsxs(B.div,{className:"relative",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 via-teal-600 to-cyan-500 rounded-2xl flex items-center justify-center text-white text-sm font-bold shadow-lg",children:((w=t==null?void 0:t.email)==null?void 0:w.charAt(0).toUpperCase())||"U"}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-emerald-400 rounded-full border-2 border-slate-950 animate-pulse"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>o(!l),className:"flex items-center space-x-2 px-4 py-3 bg-gray-100/50 dark:bg-slate-800/50 backdrop-blur-sm text-gray-700 dark:text-slate-300 rounded-xl hover:bg-gray-200/50 dark:hover:bg-slate-700/50 hover:text-emerald-400 transition-all duration-300 text-sm font-bold border border-emerald-400/30",children:[r.jsx(J,{className:"w-4 h-4"}),r.jsx(u0,{className:"w-3 h-3"})]}),r.jsx(vr,{children:l&&r.jsx(B.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},children:r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),r.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-200/50 dark:border-slate-700/50 z-20",children:[r.jsx("div",{className:"p-6 border-b border-gray-200/50 dark:border-slate-700/50",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-500 via-teal-600 to-cyan-500 rounded-2xl flex items-center justify-center text-white text-lg font-bold shadow-lg",children:((N=t==null?void 0:t.email)==null?void 0:N.charAt(0).toUpperCase())||"U"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white truncate",children:(t==null?void 0:t.fullName)||"User"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 truncate",children:t==null?void 0:t.email}),r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold mt-2 ${(t==null?void 0:t.role)==="ADMIN"?"bg-gradient-to-r from-emerald-500/20 to-teal-600/20 text-emerald-400 border border-emerald-500/30":"bg-gradient-to-r from-teal-500/20 to-cyan-600/20 text-teal-400 border border-teal-500/30"}`,children:(t==null?void 0:t.role)||"USER"})]})]})}),r.jsxs("div",{className:"p-2",children:[r.jsx("div",{className:"px-4 py-3 border-b border-gray-200/50 dark:border-slate-700/50",children:r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-slate-300",children:"Theme"}),r.jsx(Pm,{})]})}),r.jsxs("button",{onClick:u,className:"w-full flex items-center space-x-3 px-4 py-3 text-left text-red-400 hover:bg-red-500/20 hover:text-red-300 rounded-xl transition-all duration-300 mt-2 font-bold",children:[r.jsx(h0,{className:"w-4 h-4"}),r.jsx("span",{children:"Sign Out"})]})]})]})]})})})]}),r.jsx("button",{onClick:()=>i(!n),className:"lg:hidden relative w-12 h-12 bg-gray-100/50 dark:bg-slate-800/50 backdrop-blur-sm rounded-xl flex items-center justify-center hover:bg-gray-200/50 dark:hover:bg-slate-700/50 transition-all duration-300 shadow-lg border border-emerald-400/30",children:n?r.jsx(Z,{className:"h-5 w-5 text-gray-700 dark:text-slate-300"}):r.jsx(tf,{className:"h-5 w-5 text-gray-700 dark:text-slate-300"})})]})]}),r.jsx(vr,{children:n&&r.jsx(B.div,{className:"lg:hidden border-t border-gray-200/50 dark:border-slate-800/50 bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:r.jsxs("div",{className:"px-4 py-3 space-y-1",children:[b&&j?j.map(C=>r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"px-4 py-2 text-xs font-bold text-gray-500 dark:text-slate-500 uppercase tracking-wider",children:C.label}),C.items.map(E=>{const P=E.icon,A=a.pathname===E.path;return r.jsxs(dr,{to:E.path,className:`flex items-center space-x-3 px-6 py-3 rounded-xl text-base font-bold transition-all duration-300 ${A?"bg-gradient-to-r from-emerald-500 to-teal-600 text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:text-emerald-400 hover:bg-gray-100/50 dark:hover:bg-slate-800/50"}`,onClick:()=>i(!1),children:[r.jsx(P,{className:"h-5 w-5"}),r.jsx("span",{children:E.label})]},E.path)})]},C.id)):p.map(C=>{const E=C.icon,P=a.pathname===C.path;return r.jsxs(dr,{to:C.path,className:`flex items-center space-x-3 px-4 py-3 rounded-xl text-base font-bold transition-all duration-300 ${P?"bg-gradient-to-r from-emerald-500 to-teal-600 text-white shadow-lg":"text-gray-700 dark:text-slate-300 hover:text-emerald-400 hover:bg-gray-100/50 dark:hover:bg-slate-800/50"}`,onClick:()=>i(!1),children:[r.jsx(E,{className:"h-5 w-5"}),r.jsx("span",{children:C.label})]},C.path)}),r.jsxs("div",{className:"pt-4 mt-4 border-t border-gray-200/50 dark:border-slate-700/50",children:[r.jsxs("div",{className:"flex items-center space-x-3 px-4 py-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 via-teal-600 to-cyan-500 rounded-2xl flex items-center justify-center text-white text-sm font-bold shadow-lg",children:((k=t==null?void 0:t.email)==null?void 0:k.charAt(0).toUpperCase())||"U"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:(t==null?void 0:t.fullName)||"User"}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:t==null?void 0:t.email})]})]}),r.jsxs("div",{className:"px-4 py-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-slate-300",children:"Theme"}),r.jsx(Pm,{})]}),r.jsxs("button",{onClick:u,className:"w-full flex items-center space-x-3 px-4 py-3 text-left text-red-400 hover:bg-red-500/20 hover:text-red-300 rounded-xl transition-all duration-300 font-bold",children:[r.jsx(h0,{className:"w-4 h-4"}),r.jsx("span",{children:"Sign Out"})]})]})]})]})})})]})}),r.jsx("main",{className:"flex-1 p-6 relative",children:r.jsxs("div",{className:"max-w-full mx-auto relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gray-100/20 dark:bg-slate-900/20 backdrop-blur-3xl rounded-3xl border border-gray-200/30 dark:border-slate-800/30 -z-10"}),e]})})]})}function he({children:e,requiredRole:t}){const{user:s,loading:a}=Tt();return a?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s?t&&s.role!==t?r.jsx(xs,{to:s.role==="ADMIN"?"/admin":"/client",replace:!0}):r.jsx(r.Fragment,{children:e}):r.jsx(xs,{to:"/login",replace:!0})}function Lk(){const[e,t]=f.useState({totalClients:0,totalInvoices:0,totalRevenue:0,unpaidInvoices:0,paidInvoices:0,activeSubscriptions:0,monthlyRecurringRevenue:0}),[s,a]=f.useState([]),[n,i]=f.useState(!0),[l,o]=f.useState("");f.useEffect(()=>{c();const m=()=>{console.log("Invoice change detected, refreshing dashboard..."),c()};return window.addEventListener("invoiceDeleted",m),window.addEventListener("invoiceCreated",m),window.addEventListener("invoiceUpdated",m),()=>{window.removeEventListener("invoiceDeleted",m),window.removeEventListener("invoiceCreated",m),window.removeEventListener("invoiceUpdated",m)}},[]);const c=async()=>{try{console.log("Fetching dashboard data...");const[m,h,x]=await Promise.all([O.getUsers({role:"CLIENT"}).catch(E=>(console.error("Error fetching clients:",E),{users:[]})),O.getInvoices().catch(E=>(console.error("Error fetching invoices:",E),{invoices:[]})),O.getSubscriptions().catch(E=>(console.error("Error fetching subscriptions:",E),{subscriptions:[],error:"Subscriptions unavailable"}))]),b=m.users.filter(E=>E.role==="CLIENT"),v=h.invoices||[],j=x.subscriptions||[];console.log("Dashboard data:",{clients:b,invoices:v,subscriptions:j});const p=v.length,g=v.filter(E=>E.status==="PAID"||E.status==="paid"),y=v.filter(E=>E.status==="UNPAID"||E.status==="OVERDUE"||E.status==="DRAFT"||E.status==="unpaid"||E.status==="overdue"||E.status==="draft"),w=g.reduce((E,P)=>{const A=parseFloat(P.total||P.amount||"0");return E+A},0),N=j.filter(E=>E.status==="ACTIVE").length,k=j.filter(E=>E.status==="ACTIVE").reduce((E,P)=>{const A=parseFloat(P.amount||"0");switch(P.frequency){case"YEARLY":return E+A/12;case"QUARTERLY":return E+A/3;default:return E+A}},0);console.log("Calculated stats:",{totalClients:b.length,totalInvoices:p,paidInvoices:g.length,unpaidInvoices:y.length,totalRevenue:w,activeSubscriptions:N,monthlyRecurringRevenue:k}),t({totalClients:b.length,totalInvoices:p,totalRevenue:w,unpaidInvoices:y.length,paidInvoices:g.length,activeSubscriptions:N,monthlyRecurringRevenue:k});const C=v.sort((E,P)=>{const A=new Date(E.created_at||E.createdAt||0);return new Date(P.created_at||P.createdAt||0).getTime()-A.getTime()}).slice(0,5).map(E=>{const P=b.find(A=>{var T;return A.id===E.client_id||A.id===E.clientId||A.id===((T=E.client)==null?void 0:T.id)});return{...E,client_name:(P==null?void 0:P.full_name)||(P==null?void 0:P.fullName)||E.client_name||"Unknown Client",client_email:(P==null?void 0:P.email)||E.client_email||"",client_company:(P==null?void 0:P.company_name)||(P==null?void 0:P.companyName)||""}});a(C),o("")}catch(m){console.error("Error fetching dashboard data:",m),o("Failed to load dashboard data")}finally{i(!1)}},d=m=>{if(!m)return"No date";try{const h=new Date(m);return isNaN(h.getTime())?"Invalid date":h.toLocaleDateString()}catch{return"Invalid date"}},u=m=>{switch(m){case"PAID":case"paid":return"bg-green-100 text-green-800";case"UNPAID":case"unpaid":return"bg-yellow-100 text-yellow-800";case"OVERDUE":case"overdue":return"bg-red-100 text-red-800";case"DRAFT":case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Welcome back to Tech Processing LLC"})]})}),r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ut,{className:"h-6 w-6 text-red-600 mr-3"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Dashboard Error"}),r.jsx("p",{className:"text-red-700 mt-1",children:l}),r.jsx("button",{onClick:c,className:"mt-3 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Retry"})]})]})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Welcome back to Tech Processing LLC"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Te,{className:"h-8 w-8 text-blue-600"}),r.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Tech Processing LLC"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Et,{className:"h-8 w-8 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Clients"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.totalClients})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Se,{className:"h-8 w-8 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Invoices"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.totalInvoices}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.paidInvoices," paid, ",e.unpaidInvoices," unpaid"]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(ee,{className:"h-8 w-8 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Revenue"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",e.totalRevenue.toFixed(2)]}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"From paid invoices"})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Oe,{className:"h-8 w-8 text-purple-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Active Subscriptions"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.activeSubscriptions}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["$",e.monthlyRecurringRevenue,"/month MRR"]})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-600",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Invoices"}),r.jsx("button",{onClick:c,className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"Refresh"})]})}),s.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mb-4",children:r.jsx(Se,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Recent Invoices"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center",children:"Recent invoices will appear here once they are created."})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Client"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice #"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-600",children:s.map(m=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:m.client_name}),m.client_company&&r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:m.client_company})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-xs font-mono bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300 px-2 py-1 rounded border border-blue-200 dark:border-blue-700",children:["#",m.invoice_number||m.invoiceNumber||`INV-${m.id.slice(-8)}`]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:m.description}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["$",parseFloat(m.total||m.amount||"0").toFixed(2)]}),m.tax&&parseFloat(m.tax)>0&&r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Tax: $",parseFloat(m.tax).toFixed(2)]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u(m.status)}`,children:m.status.toUpperCase()})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:d(m.due_date||m.dueDate)}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Created: ",d(m.created_at||m.createdAt)]})]})]},m.id))})]})})]})]})}function Ik(){const{user:e}=Tt(),[t,s]=f.useState({totalInvoices:0,totalAmount:0,paidAmount:0,unpaidCount:0}),[a,n]=f.useState([]),[i,l]=f.useState([]),[o,c]=f.useState(!0),[d,u]=f.useState(!1);f.useEffect(()=>{if(e){m();const x=b=>{const{clientId:v}=b.detail||{};(!v||v===(e==null?void 0:e.id))&&(console.log("Invoice change detected for this client, refreshing dashboard..."),m())};return window.addEventListener("invoiceDeleted",x),window.addEventListener("invoiceCreated",x),window.addEventListener("invoiceUpdated",x),()=>{window.removeEventListener("invoiceDeleted",x),window.removeEventListener("invoiceCreated",x),window.removeEventListener("invoiceUpdated",x)}}},[e]);const m=async()=>{try{const b=(await O.getClientTransactionHistory((e==null?void 0:e.id)||"")).invoices||[];let v=[];if(e!=null&&e.id)try{v=(await O.getClientSubscriptions(e.id)).subscriptions||[]}catch(w){console.error("Error fetching client subscriptions:",w),v=[]}const j=b.reduce((w,N)=>w+parseFloat(N.amount),0),p=b.filter(w=>w.status==="PAID").reduce((w,N)=>w+parseFloat(N.amount),0),g=b.filter(w=>w.status==="UNPAID").length,y=v.filter(w=>w.status==="ACTIVE").reduce((w,N)=>w+parseFloat(N.totalBilled||"0"),0);s({totalInvoices:b.length,totalAmount:j,paidAmount:p+y,unpaidCount:g}),n(b.slice(0,5)),l(v.filter(w=>w.status==="ACTIVE"||w.status==="PAUSED"))}catch(x){console.error("Error fetching client data:",x),s({totalInvoices:0,totalAmount:0,paidAmount:0,unpaidCount:0}),n([]),l([])}finally{c(!1)}},h=x=>{switch(x){case"PAID":return"bg-green-100 text-green-800";case"UNPAID":return"bg-yellow-100 text-yellow-800";case"OVERDUE":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome, ",e==null?void 0:e.full_name]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage your projects and invoices"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Te,{className:"h-8 w-8 text-blue-600"}),r.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Tech Processing LLC"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Se,{className:"h-8 w-8 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Invoices"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalInvoices})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(ee,{className:"h-8 w-8 text-gray-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",t.totalAmount.toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(_e,{className:"h-8 w-8 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid Amount"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",t.paidAmount.toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(At,{className:"h-8 w-8 text-yellow-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Unpaid Invoices"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.unpaidCount})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Invoices"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Method"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(x=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.description}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",parseFloat(x.amount).toLocaleString()]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h(x.status)}`,children:x.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(x.due_date).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.payment_method||"Not specified"})]},x.id))})]})})]}),i.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Active Subscriptions"}),r.jsxs("button",{onClick:()=>u(!0),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:["View All (",i.length,")"]})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.slice(0,2).map(x=>{var b;return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(Te,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:((b=x.servicePackage)==null?void 0:b.name)||x.description||"Custom Service"}),r.jsxs("p",{className:"text-xs text-gray-500",children:[x.frequency," Billing"]})]})]}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:x.status})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Amount:"}),r.jsxs("span",{className:"font-semibold text-gray-900",children:["$",parseFloat(x.amount||"0").toLocaleString(),"/",x.frequency.toLowerCase()]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Next Billing:"}),r.jsx("span",{className:"text-gray-900",children:x.nextBillingDate||x.next_billing_date?new Date(x.nextBillingDate||x.next_billing_date).toLocaleDateString():"Not set"})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Total Billed:"}),r.jsxs("span",{className:"text-gray-900",children:["$",parseFloat(x.totalBilled||x.total_billed||"0").toLocaleString()]})]}),x.description&&r.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100",children:r.jsx("p",{className:"text-xs text-gray-600",children:x.description})})]})]},x.id)})})})]}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(Te,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Your Active Subscriptions"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage your recurring services"})]})]}),r.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-lg",children:""})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Te,{className:"h-8 w-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Subscriptions"}),r.jsx("p",{className:"text-gray-500",children:"You don't have any active subscriptions at the moment."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(x=>{var b,v;return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(Te,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:((b=x.servicePackage)==null?void 0:b.name)||x.description||"Custom Service"}),r.jsxs("p",{className:"text-sm text-gray-500",children:[x.frequency," Billing"]})]})]}),r.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${x.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:x.status})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Amount:"}),r.jsxs("span",{className:"font-semibold text-gray-900",children:["$",parseFloat(x.amount||"0").toLocaleString(),"/",x.frequency.toLowerCase()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Next Billing:"}),r.jsx("span",{className:"text-gray-900",children:x.nextBillingDate||x.next_billing_date?new Date(x.nextBillingDate||x.next_billing_date).toLocaleDateString():"Not set"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Start Date:"}),r.jsx("span",{className:"text-gray-900",children:x.startDate||x.start_date?new Date(x.startDate||x.start_date).toLocaleDateString():"Not set"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Billed:"}),r.jsxs("span",{className:"text-gray-900",children:["$",parseFloat(x.totalBilled||x.total_billed||"0").toLocaleString()]})]}),((v=x.servicePackage)==null?void 0:v.features)&&x.servicePackage.features.length>0&&r.jsxs("div",{className:"pt-3 border-t border-gray-100",children:[r.jsx("span",{className:"text-sm text-gray-600 block mb-2",children:"Features:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:x.servicePackage.features.map((j,p)=>r.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:j},p))})]}),x.description&&r.jsx("div",{className:"pt-3 border-t border-gray-100",children:r.jsx("p",{className:"text-sm text-gray-600",children:x.description})})]})]},x.id)})})}),r.jsx("div",{className:"border-t border-gray-200 px-6 py-4",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:[i.length," active subscription",i.length!==1?"s":""]}),r.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})]})})]})})]})}function Gd({isOpen:e,onClose:t,onInvoiceAdded:s,preSelectedClientId:a,preSelectedService:n}){const[i,l]=f.useState([]),[o,c]=f.useState([]),[d,u]=f.useState(!1),[m,h]=f.useState({fullName:"",email:"",company:""}),[x,b]=f.useState(!1),[v,j]=f.useState({clientId:"",servicePackageId:"",description:"",amount:"",tax:"",dueDate:"",notes:""}),[p,g]=f.useState(!1),[y,w]=f.useState("");f.useEffect(()=>{e&&(N(),k(),a&&j(L=>({...L,clientId:a})),n&&j(L=>({...L,servicePackageId:n.id,amount:n.price.toString(),description:n.name})))},[e,a,n]);const N=async()=>{try{const z=(await O.getUsers({role:"CLIENT"})).users.filter(G=>G.role==="CLIENT");l(z)}catch(L){console.error("Error fetching clients:",L),l([])}},k=async()=>{try{const L=await O.getServices();c(L.services||[])}catch(L){console.error("Error fetching services:",L),c([])}},C=async L=>{L.preventDefault(),b(!0),w("");try{const G={id:(await O.createUser({email:m.email,password:"temp123",fullName:m.fullName,role:"CLIENT"})).user.id,full_name:m.fullName,fullName:m.fullName,email:m.email,company:m.company,role:"CLIENT"};l(M=>[G,...M]),j(M=>({...M,clientId:G.id})),h({fullName:"",email:"",company:""}),u(!1)}catch(z){w(z.message||"Failed to create client")}finally{b(!1)}},E=async L=>{L.preventDefault(),g(!0),w("");try{const z={clientId:v.clientId,servicePackageId:v.servicePackageId||void 0,description:v.description,amount:parseFloat(v.amount),tax:v.tax?parseFloat(v.tax):0,dueDate:v.dueDate,notes:v.notes||void 0};console.log("Creating invoice with data:",z);const G=await O.createInvoice(z);console.log("Invoice created:",G),s(),t(),j({clientId:"",servicePackageId:"",description:"",amount:"",tax:"",dueDate:"",notes:""}),u(!1),h({fullName:"",email:"",company:""})}catch(z){console.error("Error creating invoice:",z),w(z.message||"Failed to create invoice")}finally{g(!1)}},P=L=>{const{name:z,value:G}=L.target;if(j(M=>({...M,[z]:G})),z==="servicePackageId"&&G){const M=o.find(q=>q.id===G);M&&j(q=>({...q,amount:M.price.toString(),description:M.name}))}},A=L=>{h(z=>({...z,[L.target.name]:L.target.value}))},T=()=>{const L=parseFloat(v.amount)||0,z=parseFloat(v.tax)||0;return L+z};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(Se,{className:"h-5 w-5 text-blue-600"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Invoice"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:E,className:"p-6 space-y-6",children:[y&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-600",children:y})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client *"}),r.jsxs("div",{className:"relative",children:[r.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsxs("select",{name:"clientId",value:v.clientId,onChange:P,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select a client"}),i.map(L=>r.jsxs("option",{value:L.id,children:[L.full_name||L.fullName," (",L.email,")"]},L.id)),r.jsx("option",{value:"__create_new__",className:"font-semibold text-blue-600",children:"+ Create New Client"})]})]}),(v.clientId==="__create_new__"||d)&&r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx(Wo,{className:"h-5 w-5 text-blue-600 mr-2"}),r.jsx("h3",{className:"text-sm font-semibold text-blue-900",children:"Create New Client"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{children:r.jsx("input",{type:"text",name:"fullName",value:m.fullName,onChange:A,placeholder:"Full Name *",required:!0,className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})}),r.jsx("div",{children:r.jsx("input",{type:"email",name:"email",value:m.email,onChange:A,placeholder:"Email Address *",required:!0,className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})}),r.jsx("div",{children:r.jsx("input",{type:"text",name:"company",value:m.company,onChange:A,placeholder:"Company (Optional)",className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{type:"button",onClick:C,disabled:x||!m.fullName||!m.email,className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:x?r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(Je,{className:"h-4 w-4 mr-1"}),"Create"]})}),r.jsx("button",{type:"button",onClick:()=>{u(!1),j(L=>({...L,clientId:""})),h({fullName:"",email:"",company:""})},className:"px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:"Cancel"})]})]})]}),i.length===0&&!d&&v.clientId!=="__create_new__"&&r.jsx("div",{className:"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:["No clients found.",r.jsx("button",{type:"button",onClick:()=>u(!0),className:"ml-1 font-semibold text-yellow-900 hover:text-yellow-700 underline",children:"Create your first client"})]})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Package (Optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx(Te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsxs("select",{name:"servicePackageId",value:v.servicePackageId,onChange:P,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select a service (optional)"}),o.map(L=>r.jsxs("option",{value:L.id,children:[L.name," - $",L.price]},L.id))]})]}),o.length===0&&r.jsx("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-gray-600",children:"No service packages available. You can still create a custom invoice."})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),r.jsx("textarea",{name:"description",value:v.description,onChange:P,required:!0,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter invoice description"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount *"}),r.jsxs("div",{className:"relative",children:[r.jsx(ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"number",name:"amount",value:v.amount,onChange:P,required:!0,min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax (Optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx(ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"number",name:"tax",value:v.tax,onChange:P,min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total"}),r.jsxs("div",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg text-gray-900 font-semibold",children:["$",T().toFixed(2)]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date *"}),r.jsxs("div",{className:"relative",children:[r.jsx(bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"date",name:"dueDate",value:v.dueDate,onChange:P,required:!0,min:new Date().toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Due date must be today or later"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),r.jsx("textarea",{name:"notes",value:v.notes,onChange:P,rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes or payment instructions"})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:p||v.clientId==="__create_new__",className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:p?r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Create Invoice"})]})]})]})}):null}function sl({searchTerm:e,onSearchChange:t,filters:s,onFilterChange:a,onClearFilters:n,filterOptions:i,placeholder:l="Search..."}){const o=Object.values(s).some(c=>c&&c!=="");return r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-4 mb-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 dark:text-gray-500"}),r.jsx("input",{type:"text",value:e,onChange:c=>t(c.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:l})]})}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.statuses&&r.jsxs("select",{value:s.status||"",onChange:c=>a("status",c.target.value),className:"px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"All Statuses"}),i.statuses.map(c=>r.jsx("option",{value:c,children:c},c))]}),i.clients&&r.jsxs("select",{value:s.client||"",onChange:c=>a("client",c.target.value),className:"px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"All Clients"}),i.clients.map(c=>r.jsx("option",{value:c.id,children:c.name},c.id))]}),i.dateRanges&&r.jsxs("select",{value:s.dateRange||"",onChange:c=>a("dateRange",c.target.value),className:"px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"All Time"}),i.dateRanges.map(c=>r.jsx("option",{value:c.value,children:c.label},c.value))]}),r.jsxs("select",{value:s.amount||"",onChange:c=>a("amount",c.target.value),className:"px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"All Amounts"}),r.jsx("option",{value:"0-100",children:"$0 - $100"}),r.jsx("option",{value:"100-500",children:"$100 - $500"}),r.jsx("option",{value:"500-1000",children:"$500 - $1,000"}),r.jsx("option",{value:"1000-5000",children:"$1,000 - $5,000"}),r.jsx("option",{value:"5000+",children:"$5,000+"})]}),o&&r.jsxs("button",{onClick:n,className:"px-4 py-3 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors flex items-center",children:[r.jsx(Z,{className:"h-4 w-4 mr-2"}),"Clear"]})]})]}),o&&r.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:Object.entries(s).map(([c,d])=>d?r.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[c,": ",d,r.jsx("button",{onClick:()=>a(c,""),className:"ml-2 text-blue-600 hover:text-blue-800",children:r.jsx(Z,{className:"h-3 w-3"})})]},c):null)})]})}function Bg({isOpen:e,onClose:t,onPaymentProcessed:s,preSelectedInvoice:a}){const[n,i]=f.useState([]),[l,o]=f.useState([]),[c,d]=f.useState({clientId:"",invoiceId:"",amount:"",description:"",cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),[u,m]=f.useState(!1),[h,x]=f.useState(""),[b,v]=f.useState("");f.useEffect(()=>{e&&(j(),p())},[e]);const j=async()=>{try{const P=await O.getUsers({role:"CLIENT"});i(P.users.filter(A=>A.role==="CLIENT"))}catch(P){console.error("Error fetching clients:",P)}},p=async()=>{try{const P=await O.getInvoices();o(P.invoices.filter(A=>A.status==="UNPAID"))}catch(P){console.error("Error fetching invoices:",P)}},g=async P=>{P.preventDefault(),m(!0),x(""),v("");try{const A={invoiceId:c.invoiceId,amount:parseFloat(c.amount),method:"CARD",cardDetails:{cardNumber:c.cardNumber,expiryDate:c.expiryDate,cvv:c.cvv,cardholderName:c.cardholderName},notes:c.description},T=await O.processPayment(A);T.success?(v("Payment processed successfully!"),s(),setTimeout(()=>{t(),y()},2e3)):x(T.error||"Payment failed")}catch(A){x(A.message||"Failed to process payment")}finally{m(!1)}},y=()=>{d({clientId:"",invoiceId:"",amount:"",description:"",cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),x(""),v("")},w=P=>{const{name:A,value:T}=P.target;if(d(L=>({...L,[A]:T})),A==="invoiceId"&&T){const L=l.find(z=>z.id===T);L&&d(z=>({...z,amount:L.amount,description:`Payment for: ${L.description}`,clientId:L.client_id||""}))}},N=P=>{const A=P.replace(/\s+/g,"").replace(/[^0-9]/gi,""),T=A.match(/\d{4,16}/g),L=T&&T[0]||"",z=[];for(let G=0,M=L.length;G<M;G+=4)z.push(L.substring(G,G+4));return z.length?z.join(" "):A},k=P=>{const A=N(P.target.value);d(T=>({...T,cardNumber:A}))},C=P=>{const A=P.replace(/\D/g,"");return A.length>=2?A.substring(0,2)+"/"+A.substring(2,4):A},E=P=>{const A=C(P.target.value);d(T=>({...T,expiryDate:A}))};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(Be,{className:"h-5 w-5 text-green-600"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Charge Client Card"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[h&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-600",children:h})}),b&&r.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-green-600",children:b})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client *"}),r.jsxs("div",{className:"relative",children:[r.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsxs("select",{name:"clientId",value:c.clientId,onChange:w,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select a client"}),n.map(P=>r.jsxs("option",{value:P.id,children:[P.full_name," (",P.email,")"]},P.id))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice (Optional)"}),r.jsxs("select",{name:"invoiceId",value:c.invoiceId,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select an unpaid invoice (optional)"}),l.map(P=>r.jsxs("option",{value:P.id,children:[P.description," - $",P.amount]},P.id))]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount *"}),r.jsxs("div",{className:"relative",children:[r.jsx(ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"number",name:"amount",value:c.amount,onChange:w,required:!0,min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("input",{type:"text",name:"description",value:c.description,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Payment description"})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Card Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cardholder Name *"}),r.jsx("input",{type:"text",name:"cardholderName",value:c.cardholderName,onChange:w,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Name on card"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",name:"cardNumber",value:c.cardNumber,onChange:k,required:!0,maxLength:19,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1234 5678 9012 3456"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date *"}),r.jsxs("div",{className:"relative",children:[r.jsx(bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",name:"expiryDate",value:c.expiryDate,onChange:E,required:!0,maxLength:5,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"MM/YY"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV *"}),r.jsxs("div",{className:"relative",children:[r.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",name:"cvv",value:c.cvv,onChange:w,required:!0,maxLength:4,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"123"})]})]})]})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(ki,{className:"h-5 w-5 text-yellow-400"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Secure Payment Processing"}),r.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:r.jsx("p",{children:"This payment will be processed securely through Authorize.Net. All card information is encrypted and secure."})})]})]})}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:u?r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Process Payment"})]})]})]})}):null}function Mk(){const[e,t]=f.useState([]),[s,a]=f.useState([]),[n,i]=f.useState(!0),[l,o]=f.useState("ALL"),[c,d]=f.useState(!1),[u,m]=f.useState(null),[h,x]=f.useState(!1),[b,v]=f.useState(""),[j,p]=f.useState({status:"",dateRange:"",client:"",amount:""}),[g,y]=f.useState({});f.useEffect(()=>{w()},[l]),f.useEffect(()=>{N()},[e,b,j]);const w=async()=>{try{const M=await O.getInvoices({status:l==="ALL"?void 0:l});t(M.invoices||[])}catch(M){console.error("Error fetching invoices:",M),t([])}finally{i(!1)}},N=()=>{let M=[...e];b&&(M=M.filter(q=>{var R,S,D;return((R=q.client_name)==null?void 0:R.toLowerCase().includes(b.toLowerCase()))||((S=q.description)==null?void 0:S.toLowerCase().includes(b.toLowerCase()))||((D=q.id)==null?void 0:D.toLowerCase().includes(b.toLowerCase()))})),j.status&&(M=M.filter(q=>q.status===j.status)),j.amount&&(M=M.filter(q=>{const R=parseFloat(q.amount);switch(j.amount){case"0-100":return R>=0&&R<=100;case"100-500":return R>100&&R<=500;case"500-1000":return R>500&&R<=1e3;case"1000-5000":return R>1e3&&R<=5e3;case"5000+":return R>5e3;default:return!0}})),a(M)},k=(M,q)=>{p(R=>({...R,[M]:q}))},C=()=>{p({status:"",dateRange:"",client:"",amount:""}),v("")},E=async M=>{try{const q=await O.generateInvoicePDF(M);if(q.success){const R=document.createElement("a");R.href=q.pdfUrl,R.download=q.filename,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(q.pdfUrl)}}catch(q){console.error("Error downloading PDF:",q)}},P=M=>{const q=g[M.id]||M.status;alert(`Invoice Details:
ID: ${M.id}
Client: ${M.client_name}
Amount: $${M.amount}
Status: ${q}
Due Date: ${new Date(M.due_date).toLocaleDateString()}`)},A=M=>{m(M)},T=async M=>{if(window.confirm(`Are you sure you want to delete invoice for ${M.client_name}?`))try{await O.deleteInvoice(M.id),t(q=>q.filter(R=>R.id!==M.id)),a(q=>q.filter(R=>R.id!==M.id)),y(q=>{const R={...q};return delete R[M.id],R}),window.dispatchEvent(new Event("invoices-updated")),alert("Invoice deleted successfully!"),w()}catch(q){console.error("Error deleting invoice:",q),t(R=>R.filter(S=>S.id!==M.id)),a(R=>R.filter(S=>S.id!==M.id)),window.dispatchEvent(new Event("invoices-updated")),alert("Invoice deleted successfully!")}},L=M=>{m(M),x(!0)},z=async M=>{const q=g[M.id]||M.status,R=["PAID","UNPAID","OVERDUE","CANCELLED"],S=prompt(`Current status: ${q}
Enter new status (${R.join(", ")}):`,q);if(S&&R.includes(S.toUpperCase()))try{await O.updateInvoiceStatus(M.id,S.toUpperCase()),y(D=>({...D,[M.id]:S.toUpperCase()})),alert("Invoice status updated successfully!"),w()}catch(D){console.error("Error updating invoice status:",D),y(V=>({...V,[M.id]:S.toUpperCase()})),alert("Invoice status updated successfully!")}},G=M=>{switch(M){case"PAID":return"bg-green-100 text-green-800";case"UNPAID":return"bg-yellow-100 text-yellow-800";case"OVERDUE":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Invoice Management"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Manage client invoices and payments"})]}),r.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Je,{className:"h-4 w-4 mr-2"}),"Create Invoice"]})]}),r.jsx("div",{className:"border-b border-gray-200 dark:border-slate-600",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:["ALL","PAID","UNPAID","OVERDUE"].map(M=>r.jsx("button",{onClick:()=>o(M),className:`py-2 px-1 border-b-2 font-medium text-sm ${l===M?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-slate-500"}`,children:M},M))})}),r.jsx(sl,{searchTerm:b,onSearchChange:v,filters:j,onFilterChange:k,onClearFilters:C,filterOptions:{statuses:["PAID","UNPAID","OVERDUE"]},placeholder:"Search invoices by client, description, or ID..."}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Client"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Due Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-600",children:s.map(M=>{var q,R,S;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:M.client_name||((q=M.client)==null?void 0:q.full_name)||((R=M.client)==null?void 0:R.fullName)||"Unknown Client"}),((S=M.client)==null?void 0:S.company)&&r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:M.client.company})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:M.description}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",M.id]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:r.jsxs("div",{children:[r.jsxs("div",{className:"font-semibold",children:["$",parseFloat(M.amount).toLocaleString()]}),M.tax&&parseFloat(M.tax)>0&&r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Tax: $",parseFloat(M.tax).toFixed(2)]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("button",{onClick:()=>z(M),className:`px-2 py-1 text-xs font-medium rounded-full hover:opacity-80 transition-opacity ${G(g[M.id]||M.status)}`,title:"Click to change status",children:g[M.id]||M.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:r.jsxs("div",{children:[r.jsx("div",{children:M.due_date&&!isNaN(new Date(M.due_date).getTime())?new Date(M.due_date).toLocaleDateString():"No due date"}),M.created_at&&r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Created: ",new Date(M.created_at).toLocaleDateString()]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>E(M.id),className:"text-blue-600 hover:text-blue-900",title:"Download PDF",children:r.jsx(Ws,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>P(M),className:"text-green-600 hover:text-green-900",title:"View Invoice",children:r.jsx(nn,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>A(M),className:"text-yellow-600 hover:text-yellow-900",title:"Edit Invoice",children:r.jsx(Ga,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>T(M),className:"text-red-600 hover:text-red-900",title:"Delete Invoice",children:r.jsx(Gs,{className:"h-4 w-4"})}),(g[M.id]||M.status)==="UNPAID"&&r.jsx("button",{onClick:()=>L(M),className:"text-purple-600 hover:text-purple-900",title:"Charge/Pay Invoice",children:r.jsx(Be,{className:"h-4 w-4"})})]})})]},M.id)})})]})})}),r.jsx(Gd,{isOpen:c,onClose:()=>d(!1),onInvoiceAdded:w}),h&&r.jsx(Bg,{isOpen:h,onClose:()=>{x(!1),m(null)},onPaymentProcessed:()=>{u&&y(M=>({...M,[u.id]:"PAID"})),w(),x(!1),m(null)},preSelectedInvoice:u})]})}function Rk({isOpen:e,onClose:t,onServiceAdded:s}){const[a,n]=f.useState({name:"",description:"",price:"",features:[""]}),[i,l]=f.useState(!1),[o,c]=f.useState(""),d=async b=>{b.preventDefault(),l(!0),c("");try{const v={name:a.name,description:a.description,price:parseFloat(a.price),features:a.features.filter(j=>j.trim()!=="")};await O.createService(v),s(),t(),n({name:"",description:"",price:"",features:[""]})}catch(v){c(v.message||"Failed to create service")}finally{l(!1)}},u=b=>{n(v=>({...v,[b.target.name]:b.target.value}))},m=(b,v)=>{const j=[...a.features];j[b]=v,n(p=>({...p,features:j}))},h=()=>{n(b=>({...b,features:[...b.features,""]}))},x=b=>{if(a.features.length>1){const v=a.features.filter((j,p)=>p!==b);n(j=>({...j,features:v}))}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(Te,{className:"h-5 w-5 text-blue-600"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add New Service"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[o&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-600",children:o})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Name *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",name:"name",value:a.name,onChange:u,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Starter Website Package"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Se,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("textarea",{name:"description",value:a.description,onChange:u,required:!0,rows:3,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe what this service includes..."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price *"}),r.jsxs("div",{className:"relative",children:[r.jsx(ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"number",name:"price",value:a.price,onChange:u,required:!0,min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features *"}),r.jsxs("div",{className:"space-y-2",children:[a.features.map((b,v)=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:b,onChange:j=>m(v,j.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter a feature..."}),a.features.length>1&&r.jsx("button",{type:"button",onClick:()=>x(v),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg",children:r.jsx(sf,{className:"h-4 w-4"})})]},v)),r.jsxs("button",{type:"button",onClick:h,className:"flex items-center text-blue-600 hover:text-blue-800 font-medium",children:[r.jsx(Je,{className:"h-4 w-4 mr-1"}),"Add Feature"]})]})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:i?r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Create Service"})]})]})]})}):null}function _k({isOpen:e,onClose:t,onServiceUpdated:s,service:a}){const[n,i]=f.useState({name:"",description:"",price:"",features:[""]}),[l,o]=f.useState(!1),[c,d]=f.useState("");f.useEffect(()=>{var v,j;a&&e&&i({name:a.name||"",description:a.description||"",price:((v=a.price)==null?void 0:v.toString())||"",features:((j=a.features)==null?void 0:j.length)>0?a.features:[""]})},[a,e]);const u=async v=>{v.preventDefault(),o(!0),d("");try{const j={name:n.name,description:n.description,price:parseFloat(n.price),features:n.features.filter(p=>p.trim()!=="")};await O.updateService(a.id,j),s(),t()}catch(j){d(j.message||"Failed to update service")}finally{o(!1)}},m=v=>{i(j=>({...j,[v.target.name]:v.target.value}))},h=(v,j)=>{const p=[...n.features];p[v]=j,i(g=>({...g,features:p}))},x=()=>{i(v=>({...v,features:[...v.features,""]}))},b=v=>{if(n.features.length>1){const j=n.features.filter((p,g)=>g!==v);i(p=>({...p,features:j}))}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(Te,{className:"h-5 w-5 text-blue-600"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Service"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[c&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-600",children:c})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Name *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",name:"name",value:n.name,onChange:m,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Starter Website Package"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Se,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("textarea",{name:"description",value:n.description,onChange:m,required:!0,rows:3,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe what this service includes..."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price *"}),r.jsxs("div",{className:"relative",children:[r.jsx(ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"number",name:"price",value:n.price,onChange:m,required:!0,min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features *"}),r.jsxs("div",{className:"space-y-2",children:[n.features.map((v,j)=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:v,onChange:p=>h(j,p.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter a feature..."}),n.features.length>1&&r.jsx("button",{type:"button",onClick:()=>b(j),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg",children:r.jsx(sf,{className:"h-4 w-4"})})]},j)),r.jsxs("button",{type:"button",onClick:x,className:"flex items-center text-blue-600 hover:text-blue-800 font-medium",children:[r.jsx(Je,{className:"h-4 w-4 mr-1"}),"Add Feature"]})]})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l?r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Update Service"]})})]})]})]})}):null}function Fk(){const[e,t]=f.useState([]),[s,a]=f.useState([]),[n,i]=f.useState(!0),[l,o]=f.useState(!1),[c,d]=f.useState(!1),[u,m]=f.useState(!1),[h,x]=f.useState(null),[b,v]=f.useState(""),[j,p]=f.useState({status:"",dateRange:"",client:"",amount:""});f.useEffect(()=>{g()},[]),f.useEffect(()=>{y()},[e,b,j]);const g=async()=>{try{const P=await O.getServices();t(P.services)}catch(P){console.error("Error fetching services:",P)}finally{i(!1)}},y=()=>{let P=[...e];b&&(P=P.filter(A=>{var T,L,z;return((T=A.name)==null?void 0:T.toLowerCase().includes(b.toLowerCase()))||((L=A.description)==null?void 0:L.toLowerCase().includes(b.toLowerCase()))||((z=A.features)==null?void 0:z.some(G=>G.toLowerCase().includes(b.toLowerCase())))})),j.amount&&(P=P.filter(A=>{const T=A.price;switch(j.amount){case"0-100":return T>=0&&T<=100;case"100-500":return T>100&&T<=500;case"500-1000":return T>500&&T<=1e3;case"1000-5000":return T>1e3&&T<=5e3;case"5000+":return T>5e3;default:return!0}})),a(P)},w=(P,A)=>{p(T=>({...T,[P]:A}))},N=()=>{p({status:"",dateRange:"",client:"",amount:""}),v("")},k=P=>{x(P),d(!0)},C=async P=>{if(window.confirm(`Are you sure you want to delete "${P.name}"?`))try{await O.deleteService(P.id),g()}catch(A){console.error("Error deleting service:",A),alert("Failed to delete service")}},E=P=>{x(P),m(!0)};return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Service Packages"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Manage your service offerings and pricing"})]}),r.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Je,{className:"h-4 w-4 mr-2"}),"Add Service"]})]}),r.jsx(sl,{searchTerm:b,onSearchChange:v,filters:j,onFilterChange:w,onClearFilters:N,filterOptions:{},placeholder:"Search services by name, description, or features..."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(P=>r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Te,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:P.name}),r.jsxs("div",{className:"flex items-center text-green-600",children:[r.jsx(ee,{className:"h-4 w-4"}),r.jsx("span",{className:"font-bold",children:P.price.toLocaleString()})]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>k(P),className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded",title:"Edit Service",children:r.jsx(Ga,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>C(P),className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded",title:"Delete Service",children:r.jsx(Gs,{className:"h-4 w-4"})})]})]}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:P.description}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Features:"}),r.jsx("ul",{className:"space-y-1",children:P.features.map((A,T)=>r.jsxs("li",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[r.jsx(_e,{className:"h-4 w-4 text-green-500 mr-2 flex-shrink-0"}),A]},T))})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-slate-600",children:r.jsx("button",{onClick:()=>E(P),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Invoice"})})]},P.id))}),r.jsx(Rk,{isOpen:l,onClose:()=>o(!1),onServiceAdded:g}),h&&r.jsx(_k,{isOpen:c,onClose:()=>{d(!1),x(null)},onServiceUpdated:g,service:h}),r.jsx(Gd,{isOpen:u,onClose:()=>{m(!1),x(null)},onInvoiceAdded:()=>{m(!1),x(null)},preSelectedService:h})]})}function Ok({onClose:e,onSuccess:t}){const{user:s}=Tt(),[a,n]=f.useState(""),[i,l]=f.useState(""),[o,c]=f.useState(""),[d,u]=f.useState(""),[m,h]=f.useState(""),[x,b]=f.useState([]),[v,j]=f.useState(!1),[p,g]=f.useState("");f.useEffect(()=>{s&&y();const N=new Date;N.setDate(N.getDate()+30),h(N.toISOString().split("T")[0])},[s]);const y=async()=>{try{console.log("Fetching clients...");const N=await O.getClients();console.log("Clients response:",N);const k=N.users||N||[];console.log("Client list:",k),b(Array.isArray(k)?k:[])}catch(N){console.error("Error fetching clients:",N),b([])}},w=async N=>{if(N.preventDefault(),!a.trim()||!o.trim()||!d||!m){g("Please fill in all required fields");return}if(parseFloat(o)<=0){g("Amount must be greater than 0");return}j(!0),g("");try{const k={title:a.trim(),description:i.trim(),amount:parseFloat(o),clientId:d,expiresAt:new Date(m).toISOString(),allowPartialPayment:!1,metadata:{sendEmail:!0,createdBy:s==null?void 0:s.id}};console.log("Sending payment link data:",k);const C=await O.createPaymentLink(k);t(C)}catch(k){console.error("Error creating payment link:",k),g(k.message||"Failed to create payment link")}finally{j(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-600",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg mr-3",children:r.jsx(Se,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Create Payment Link"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Generate a new payment link for a client"})]})]}),r.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(Z,{className:"h-5 w-5"})})]}),r.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[p&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:p})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 dark:text-gray-500"}),r.jsx("input",{type:"text",id:"title",value:a,onChange:N=>n(N.target.value),placeholder:"Enter payment link title",className:"pl-10 w-full border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),r.jsx("textarea",{id:"description",value:i,onChange:N=>l(N.target.value),placeholder:"Enter payment link description (optional)",rows:3,className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount *"}),r.jsxs("div",{className:"relative",children:[r.jsx(ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 dark:text-gray-500"}),r.jsx("input",{type:"number",id:"amount",value:o,onChange:N=>c(N.target.value),placeholder:"0.00",step:"0.01",min:"0.01",className:"pl-10 w-full border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"client",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Client *"}),r.jsxs("div",{className:"relative",children:[r.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 dark:text-gray-500"}),r.jsxs("select",{id:"client",value:d,onChange:N=>u(N.target.value),className:"pl-10 w-full border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:"Select a client"}),(x||[]).map(N=>r.jsxs("option",{value:N.id,children:[N.fullName," (",N.email,")"]},N.id))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"expiresAt",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Expires At *"}),r.jsxs("div",{className:"relative",children:[r.jsx(bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 dark:text-gray-500"}),r.jsx("input",{type:"date",id:"expiresAt",value:m,onChange:N=>h(N.target.value),min:new Date().toISOString().split("T")[0],className:"pl-10 w-full border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-sm font-medium rounded-lg text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:v,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v?"Creating...":"Create Payment Link"})]})]})]})})}function Vk(){const[e,t]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(""),[l,o]=f.useState(""),[c,d]=f.useState("ALL"),[u,m]=f.useState(!1),[h,x]=f.useState(null);f.useEffect(()=>{b()},[]);const b=async()=>{try{a(!0);const k=await O.getPaymentLinks(),C=k.links||k;t(C),i("")}catch(k){console.error("Error fetching payment links:",k),i("Failed to load payment links"),t([])}finally{a(!1)}},v=async k=>{if(confirm("Are you sure you want to delete this payment link?"))try{await O.deletePaymentLink(k),t(C=>C.filter(E=>E.id!==k))}catch(C){console.error("Error deleting payment link:",C),alert("Failed to delete payment link")}},j=async k=>{try{await O.resendPaymentLinkEmail(k),alert("Email sent successfully")}catch(C){console.error("Error resending email:",C),alert("Failed to resend email")}},p=async(k,C)=>{try{await navigator.clipboard.writeText(k),x(C),setTimeout(()=>x(null),2e3)}catch(E){console.error("Failed to copy to clipboard:",E)}},g=k=>{switch(k){case"ACTIVE":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"USED":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"EXPIRED":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"CANCELLED":return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},y=k=>{switch(k){case"ACTIVE":return r.jsx(_e,{className:"h-4 w-4"});case"USED":return r.jsx(_e,{className:"h-4 w-4"});case"EXPIRED":return r.jsx(Cs,{className:"h-4 w-4"});case"CANCELLED":return r.jsx(Cs,{className:"h-4 w-4"});default:return r.jsx(At,{className:"h-4 w-4"})}},w=e.filter(k=>{var P;const C=k.title.toLowerCase().includes(l.toLowerCase())||((P=k.client)==null?void 0:P.fullName.toLowerCase().includes(l.toLowerCase()))||k.amount.includes(l),E=c==="ALL"||k.status===c;return C&&E}),N={total:e.length,active:e.filter(k=>k.status==="ACTIVE").length,used:e.filter(k=>k.status==="USED").length,expired:e.filter(k=>k.status==="EXPIRED").length};return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Payment Links"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Create and manage payment links for clients"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:b,className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-slate-600 text-sm font-medium rounded-lg text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",children:[r.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Refresh"]}),r.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Je,{className:"h-4 w-4 mr-2"}),"Create Payment Link"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:r.jsx(Ni,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Links"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:N.total})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:r.jsx(_e,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Active"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:N.active})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:r.jsx(_e,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Used"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:N.used})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/20 rounded-lg",children:r.jsx(Cs,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Expired"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:N.expired})]})]})})]}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 dark:text-gray-500"}),r.jsx("input",{type:"text",id:"search",value:l,onChange:k=>o(k.target.value),placeholder:"Search by title, client, or amount...",className:"pl-10 w-full border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"sm:w-48",children:[r.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),r.jsxs("select",{id:"status-filter",value:c,onChange:k=>d(k.target.value),className:"w-full border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"ALL",children:"All Status"}),r.jsx("option",{value:"ACTIVE",children:"Active"}),r.jsx("option",{value:"USED",children:"Used"}),r.jsx("option",{value:"EXPIRED",children:"Expired"}),r.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]})]})}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Showing ",w.length," of ",e.length," payment links"]}),w.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(k=>{var C;return r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:k.title}),k.description&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:k.description}),r.jsxs("div",{className:"flex items-center",children:[y(k.status),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${g(k.status)}`,children:k.status})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>p(`${window.location.origin}/payment-link/${k.secureToken||k.token}`,k.id),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:"Copy link",children:h===k.id?r.jsx(_e,{className:"h-4 w-4 text-green-500"}):r.jsx(Wa,{className:"h-4 w-4"})}),r.jsx("a",{href:`/payment-link/${k.secureToken||k.token}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:"View payment link",children:r.jsx(Zx,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>j(k.id),className:"p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Resend email",children:r.jsx(nt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>v(k.id),className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Delete payment link",children:r.jsx(Gs,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[r.jsx(J,{className:"h-4 w-4 mr-2"}),"Client"]}),r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:((C=k.client)==null?void 0:C.fullName)||"Unknown"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[r.jsx(ee,{className:"h-4 w-4 mr-2"}),"Amount"]}),r.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["$",parseFloat(k.amount).toLocaleString()]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[r.jsx(bt,{className:"h-4 w-4 mr-2"}),"Expires"]}),r.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:new Date(k.expires_at).toLocaleDateString()})]})]})]},k.id)})}):r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-12 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ni,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No payment links found"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:l||c!=="ALL"?"Try adjusting your search or filter criteria.":"Get started by creating your first payment link."}),!l&&c==="ALL"&&r.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Je,{className:"h-4 w-4 mr-2"}),"Create Payment Link"]})]}),u&&r.jsx(Ok,{onClose:()=>m(!1),onSuccess:k=>{t(C=>[k,...C]),m(!1)}})]})}function Uk({isOpen:e,onClose:t,onSubscriptionCreated:s}){const[a,n]=f.useState([]),[i,l]=f.useState([]),[o,c]=f.useState({clientId:"",serviceId:"",amount:"",frequency:"MONTHLY",startDate:"",description:""}),[d,u]=f.useState(!1),[m,h]=f.useState("");f.useEffect(()=>{if(e){x(),b();const p=new Date().toISOString().split("T")[0];c(g=>({...g,startDate:p}))}},[e]);const x=async()=>{try{const p=await O.getUsers({role:"CLIENT"}),g=p.users||p||[];n(Array.isArray(g)?g:[])}catch(p){console.error("Error fetching clients:",p),n([])}},b=async()=>{try{const p=await O.getServices(),g=p.services||p||[];l(Array.isArray(g)?g:[]),l(Array.isArray(g)?g:[])}catch(p){console.error("Error fetching services:",p),l([]),l([])}},v=async p=>{p.preventDefault(),u(!0),h("");try{const g={clientId:o.clientId,servicePackageId:o.serviceId,amount:parseFloat(o.amount),frequency:o.frequency,startDate:o.startDate,description:o.description};await O.createSubscription(g),s(),window.dispatchEvent(new CustomEvent("subscriptionCreated",{detail:{subscription:g}})),t(),c({clientId:"",serviceId:"",amount:"",frequency:"MONTHLY",startDate:"",description:""})}catch(g){h(g.message||"Failed to create subscription")}finally{u(!1)}},j=p=>{const{name:g,value:y}=p.target;if(c(w=>({...w,[g]:y})),g==="serviceId"&&y){const w=i.find(N=>N.id===y);w&&c(N=>({...N,amount:w.price.toString(),description:`${w.name} - Recurring Service`}))}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(Oe,{className:"h-5 w-5 text-blue-600"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create Subscription"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",children:[m&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-600",children:m})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client *"}),r.jsxs("div",{className:"relative",children:[r.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsxs("select",{name:"clientId",value:o.clientId,onChange:j,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select a client"}),a.map(p=>r.jsxs("option",{value:p.id,children:[p.full_name," (",p.email,")"]},p.id))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Package"}),r.jsxs("div",{className:"relative",children:[r.jsx(Te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsxs("select",{name:"serviceId",value:o.serviceId,onChange:j,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select a service (optional)"}),i.map(p=>r.jsxs("option",{value:p.id,children:[p.name," - $",p.price]},p.id))]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount *"}),r.jsxs("div",{className:"relative",children:[r.jsx(ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"number",name:"amount",value:o.amount,onChange:j,required:!0,min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency *"}),r.jsxs("select",{name:"frequency",value:o.frequency,onChange:j,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"MONTHLY",children:"Monthly"}),r.jsx("option",{value:"QUARTERLY",children:"Quarterly"}),r.jsx("option",{value:"YEARLY",children:"Yearly"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date *"}),r.jsxs("div",{className:"relative",children:[r.jsx(bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"date",name:"startDate",value:o.startDate,onChange:j,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{name:"description",value:o.description,onChange:j,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Subscription description"})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Oe,{className:"h-5 w-5 text-blue-400"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Recurring Billing"}),r.jsx("div",{className:"mt-2 text-sm text-blue-700",children:r.jsx("p",{children:"This subscription will automatically generate invoices and charge the client based on the selected frequency."})})]})]})}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:d,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:d?r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Create Subscription"})]})]})]})}):null}function $k(){const[e,t]=f.useState([]),[s,a]=f.useState([]),[n,i]=f.useState(!0),[l,o]=f.useState(!1),[c,d]=f.useState(""),[u,m]=f.useState("ACTIVE"),[h,x]=f.useState("ALL"),[b,v]=f.useState(!1),[j,p]=f.useState(null),[g,y]=f.useState({amount:"",frequency:"",description:"",notes:""}),[w,N]=f.useState(!1),[k,C]=f.useState("");f.useEffect(()=>{E();const S=()=>{E()};return window.addEventListener("subscriptionCreated",S),window.addEventListener("subscriptionUpdated",S),()=>{window.removeEventListener("subscriptionCreated",S),window.removeEventListener("subscriptionUpdated",S)}},[]),f.useEffect(()=>{let S=e;c&&(S=S.filter(D=>{var V,I,U,Q,se,Dt,ot,$t,un;return((I=(V=D.client)==null?void 0:V.fullName)==null?void 0:I.toLowerCase().includes(c.toLowerCase()))||((Q=(U=D.client)==null?void 0:U.full_name)==null?void 0:Q.toLowerCase().includes(c.toLowerCase()))||((Dt=(se=D.client)==null?void 0:se.email)==null?void 0:Dt.toLowerCase().includes(c.toLowerCase()))||((ot=D.description)==null?void 0:ot.toLowerCase().includes(c.toLowerCase()))||((un=($t=D.servicePackage)==null?void 0:$t.name)==null?void 0:un.toLowerCase().includes(c.toLowerCase()))})),u!=="ALL"&&(S=S.filter(D=>D.status===u)),h!=="ALL"&&(S=S.filter(D=>D.frequency===h)),S.sort((D,V)=>{const I={ACTIVE:0,PAUSED:1,CANCELLED:2},U=I[D.status]??3,Q=I[V.status]??3;return U!==Q?U-Q:new Date(V.createdAt||V.created_at).getTime()-new Date(D.createdAt||D.created_at).getTime()}),a(S)},[e,c,u,h]);const E=async()=>{try{const S=await O.getSubscriptions();console.log("Subscriptions response:",S),t(S.subscriptions||[])}catch(S){console.error("Error fetching subscriptions:",S),t([])}finally{i(!1)}},P=async(S,D)=>{try{const V=D==="ACTIVE"?"PAUSED":"ACTIVE";await O.updateSubscriptionStatus(S,V),await E()}catch(V){console.error("Error updating subscription:",V),alert("Failed to update subscription status. Please try again.")}},A=async(S,D)=>{const V=D==="ACTIVE"?"cancel":"permanently delete",I=D==="ACTIVE"?"Are you sure you want to cancel this subscription? It will be moved to cancelled status but kept for records.":"Are you sure you want to permanently delete this subscription? This action cannot be undone.";if(window.confirm(I))try{D==="ACTIVE"||D==="PAUSED"?await O.updateSubscriptionStatus(S,"CANCELLED"):await O.deleteSubscription(S),await E()}catch(U){console.error(`Error ${V}ing subscription:`,U),alert(`Failed to ${V} subscription. Please try again.`)}},T=S=>{var D,V;p(S),y({amount:((D=S.amount)==null?void 0:D.toString())||"0",frequency:S.frequency||"MONTHLY",description:S.description||"",notes:S.notes||((V=S.metadata)==null?void 0:V.notes)||""}),C(""),v(!0)},L=async S=>{S.preventDefault(),N(!0),C("");try{const D={amount:parseFloat(g.amount),frequency:g.frequency,description:g.description,metadata:{notes:g.notes}};await O.updateSubscription(j.id,D),await E(),v(!1),p(null)}catch(D){console.error("Error updating subscription:",D),C(D.message||"Failed to update subscription. Please try again.")}finally{N(!1)}},z=S=>{switch(S){case"ACTIVE":return"bg-green-100 text-green-800";case"PAUSED":return"bg-yellow-100 text-yellow-800";case"CANCELLED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},G=S=>{switch(S){case"MONTHLY":return"Monthly";case"QUARTERLY":return"Quarterly";case"YEARLY":return"Yearly";default:return S||"Monthly"}},M=S=>{if(!S)return"No date";try{const D=new Date(S);return isNaN(D.getTime())?"Invalid date":D.toLocaleDateString()}catch{return"Invalid date"}},q=S=>{var D,V;return((D=S.client)==null?void 0:D.fullName)||((V=S.client)==null?void 0:V.full_name)||S.client_name||S.clientName||"Unknown Client"},R=S=>{var D,V;return((D=S.servicePackage)==null?void 0:D.name)||((V=S.service_package)==null?void 0:V.name)||S.service_name||S.serviceName||S.description||"Custom Service"};return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Subscription Billing"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Manage recurring monthly services"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:E,className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 hover:bg-gray-50 dark:hover:bg-slate-600",children:[r.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Refresh"]}),r.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Je,{className:"h-4 w-4 mr-2"}),"Create Subscription"]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search"}),r.jsx("input",{type:"text",placeholder:"Search by client name, email, or service...",value:c,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:u,onChange:S=>m(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"ALL",children:"All Status"}),r.jsx("option",{value:"ACTIVE",children:"Active"}),r.jsx("option",{value:"PAUSED",children:"Paused"}),r.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequency"}),r.jsxs("select",{value:h,onChange:S=>x(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"ALL",children:"All Frequencies"}),r.jsx("option",{value:"MONTHLY",children:"Monthly"}),r.jsx("option",{value:"QUARTERLY",children:"Quarterly"}),r.jsx("option",{value:"YEARLY",children:"Yearly"})]})]})]}),r.jsxs("div",{className:"mt-3 text-sm text-gray-600 dark:text-gray-300",children:["Showing ",s.length," of ",e.length," subscriptions"]})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.length===0?r.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:e.length===0?"No subscriptions found":"No subscriptions match your search criteria"}):s.map(S=>r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Oe,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:R(S)}),r.jsxs("div",{className:"flex items-center text-green-600",children:[r.jsx(ee,{className:"h-4 w-4"}),r.jsx("span",{className:"font-bold",children:parseFloat(S.amount||"0").toLocaleString()}),r.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-1",children:["/",G(S.frequency).toLowerCase()]})]})]})]}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${z(S.status)}`,children:S.status})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[r.jsx(J,{className:"h-4 w-4 mr-2 text-gray-400 dark:text-gray-500"}),q(S)]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Next Billing:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:M(S.nextBillingDate||S.next_billing_date)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Started:"}),r.jsx("span",{className:"text-gray-900 dark:text-white",children:M(S.startDate||S.start_date||S.createdAt||S.created_at)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total Billed:"}),r.jsxs("span",{className:"text-gray-900 dark:text-white",children:["$",parseFloat(S.totalBilled||S.total_billed||"0").toLocaleString()]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>P(S.id,S.status),className:`flex-1 py-2 px-3 rounded-lg transition-colors flex items-center justify-center text-sm ${S.status==="ACTIVE"?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-green-100 text-green-800 hover:bg-green-200"}`,children:S.status==="ACTIVE"?r.jsxs(r.Fragment,{children:[r.jsx(af,{className:"h-4 w-4 mr-1"}),"Pause"]}):r.jsxs(r.Fragment,{children:[r.jsx(nf,{className:"h-4 w-4 mr-1"}),"Resume"]})}),r.jsx("button",{onClick:()=>T(S),className:"px-3 py-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Subscription",children:r.jsx(Ga,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>A(S.id,S.status),className:`px-3 py-2 rounded-lg transition-colors ${S.status==="CANCELLED"?"text-red-600 hover:text-red-800 hover:bg-red-50":"text-orange-600 hover:text-orange-800 hover:bg-orange-50"}`,title:S.status==="CANCELLED"?"Permanently Delete":"Cancel Subscription",children:r.jsx(Gs,{className:"h-4 w-4"})})]})]},S.id))}),e.length===0&&r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-12 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Oe,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Subscriptions"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Create your first subscription to get started with recurring billing."}),r.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Je,{className:"h-4 w-4 mr-2"}),"Create Subscription"]})]}),r.jsx(Uk,{isOpen:l,onClose:()=>o(!1),onSubscriptionCreated:E}),b&&j&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-600",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center mr-3",children:r.jsx(Ga,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Subscription"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:q(j)})]})]}),r.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:L,className:"p-6 space-y-6",children:[k&&r.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:k})}),r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(J,{className:"h-5 w-5 text-blue-600 mr-2"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Client Information"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:q(j)})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount *"}),r.jsxs("div",{className:"relative",children:[r.jsx(ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 dark:text-gray-500"}),r.jsx("input",{type:"number",value:g.amount,onChange:S=>y(D=>({...D,amount:S.target.value})),required:!0,min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"0.00"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency *"}),r.jsxs("div",{className:"relative",children:[r.jsx(bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsxs("select",{value:g.frequency,onChange:S=>y(D=>({...D,frequency:S.target.value})),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[r.jsx("option",{value:"MONTHLY",children:"Monthly"}),r.jsx("option",{value:"QUARTERLY",children:"Quarterly"}),r.jsx("option",{value:"YEARLY",children:"Yearly"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Te,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("textarea",{value:g.description,onChange:S=>y(D=>({...D,description:S.target.value})),required:!0,rows:3,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Subscription description"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),r.jsxs("div",{className:"relative",children:[r.jsx(Se,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("textarea",{value:g.notes,onChange:S=>y(D=>({...D,notes:S.target.value})),rows:2,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Additional notes about this subscription..."})]})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Subscription Details"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Status:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:j.status})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Started:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:M(j.startDate||j.start_date||j.createdAt)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Next Billing:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:M(j.nextBillingDate||j.next_billing_date)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Total Billed:"}),r.jsxs("span",{className:"ml-2 text-gray-900",children:["$",parseFloat(j.totalBilled||j.total_billed||"0").toLocaleString()]})]})]})]}),r.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:w,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:w?r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Update Subscription"]})})]})]})]})})]})}function zk({isOpen:e,onClose:t,onRefundProcessed:s}){const[a,n]=f.useState([]),[i,l]=f.useState({paymentId:"",refundAmount:"",reason:"",notes:""}),[o,c]=f.useState(null),[d,u]=f.useState(!1),[m,h]=f.useState("");f.useEffect(()=>{e&&x()},[e]);const x=async()=>{try{const j=await O.getCompletedPayments();n(j.payments)}catch(j){console.error("Error fetching payments:",j)}},b=async j=>{j.preventDefault(),u(!0),h("");try{const p={paymentId:i.paymentId,refundAmount:parseFloat(i.refundAmount),reason:i.reason,notes:i.notes};await O.processRefund(p),s(),t(),l({paymentId:"",refundAmount:"",reason:"",notes:""}),c(null)}catch(p){h(p.message||"Failed to process refund")}finally{u(!1)}},v=j=>{const{name:p,value:g}=j.target;if(l(y=>({...y,[p]:g})),p==="paymentId"&&g){const y=a.find(w=>w.id===g);y&&(c(y),l(w=>({...w,refundAmount:y.amount.toString()})))}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(Ci,{className:"h-5 w-5 text-red-600"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Process Refund"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[m&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-600",children:m})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Payment to Refund *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsxs("select",{name:"paymentId",value:i.paymentId,onChange:v,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select a completed payment"}),a.map(j=>r.jsxs("option",{value:j.id,children:[j.client_name," - $",j.amount," (",new Date(j.created_at).toLocaleDateString(),")"]},j.id))]})]})]}),o&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Payment Details"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Client:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:o.client_name})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Amount:"}),r.jsxs("span",{className:"ml-2 text-gray-900",children:["$",o.amount]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Method:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:o.method})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Date:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:new Date(o.created_at).toLocaleDateString()})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refund Amount *"}),r.jsxs("div",{className:"relative",children:[r.jsx(ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"number",name:"refundAmount",value:i.refundAmount,onChange:v,required:!0,min:"0",max:(o==null?void 0:o.amount)||void 0,step:"0.01",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),o&&r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Maximum: $",o.amount]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason *"}),r.jsxs("select",{name:"reason",value:i.reason,onChange:v,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select a reason"}),r.jsx("option",{value:"Customer Request",children:"Customer Request"}),r.jsx("option",{value:"Service Not Delivered",children:"Service Not Delivered"}),r.jsx("option",{value:"Billing Error",children:"Billing Error"}),r.jsx("option",{value:"Duplicate Payment",children:"Duplicate Payment"}),r.jsx("option",{value:"Quality Issues",children:"Quality Issues"}),r.jsx("option",{value:"Other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx(Se,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("textarea",{name:"notes",value:i.notes,onChange:v,rows:3,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes about this refund..."})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Ci,{className:"h-5 w-5 text-yellow-400"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Refund Processing"}),r.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:r.jsx("p",{children:"Refunds will be processed back to the original payment method. Processing time may vary depending on the payment provider."})})]})]})}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:d,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:d?r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Process Refund"})]})]})]})}):null}function Bk(){const[e,t]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(!1);f.useEffect(()=>{l()},[]);const l=async()=>{try{const d=await O.getRefunds();t(d.refunds)}catch(d){console.error("Error fetching refunds:",d)}finally{a(!1)}},o=d=>{switch(d){case"COMPLETED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"FAILED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},c=d=>{switch(d){case"COMPLETED":return r.jsx(_e,{className:"h-4 w-4"});case"PENDING":return r.jsx(At,{className:"h-4 w-4"});case"FAILED":return r.jsx(Ut,{className:"h-4 w-4"});default:return r.jsx(At,{className:"h-4 w-4"})}};return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Refund Management"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Process refunds through the portal"})]}),r.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Je,{className:"h-4 w-4 mr-2"}),"Process Refund"]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original Payment"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Refund Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(d=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(J,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.client_name}),r.jsx("div",{className:"text-sm text-gray-500",children:d.client_email})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm text-gray-900",children:["$",d.original_amount.toLocaleString()]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",d.payment_id]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center text-red-600",children:[r.jsx(Ci,{className:"h-4 w-4 mr-1"}),r.jsxs("span",{className:"font-semibold",children:["$",d.refund_amount.toLocaleString()]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.reason}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[c(d.status),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${o(d.status)}`,children:d.status})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(d.created_at).toLocaleDateString()})]},d.id))})]})})}),r.jsx(zk,{isOpen:n,onClose:()=>i(!1),onRefundProcessed:l})]})}function Hk({isOpen:e,onClose:t,clientId:s,clientName:a}){const[n,i]=f.useState([]),[l,o]=f.useState(!0),[c,d]=f.useState({totalInvoices:0,totalPaid:0,totalOutstanding:0,lastPayment:null});f.useEffect(()=>{if(e&&s){u();const x=b=>{const{clientId:v}=b.detail||{};(!v||v===s)&&(console.log("Invoice change detected for this client, refreshing history..."),u())};return window.addEventListener("invoiceDeleted",x),window.addEventListener("invoiceCreated",x),window.addEventListener("invoiceUpdated",x),()=>{window.removeEventListener("invoiceDeleted",x),window.removeEventListener("invoiceCreated",x),window.removeEventListener("invoiceUpdated",x)}}},[e,s]);const u=async()=>{try{console.log("Fetching history for client:",s,a);const x=await O.getClientTransactionHistory(s),b=await O.getSubscriptions();console.log("History response:",x),x.error&&console.error("Error in history response:",x.error),i(x.transactions||[]);const j=(b.subscriptions||[]).filter(A=>A.client_id===s),p=x.invoices||[],g=x.payments||[];console.log("Processing stats:",{clientInvoices:p,clientPayments:g});const y=p.length,w=g.filter(A=>A.status==="COMPLETED"||A.status==="completed"),N=w.reduce((A,T)=>A+parseFloat(T.amount||"0"),0),k=p.filter(A=>A.status==="UNPAID"||A.status==="OVERDUE"||A.status==="DRAFT"||A.status==="unpaid"||A.status==="overdue"||A.status==="draft"),C=k.reduce((A,T)=>A+parseFloat(T.amount||T.total||"0"),0),E=j.reduce((A,T)=>A+parseFloat(T.total_billed||"0"),0),P=w.length>0?w.sort((A,T)=>new Date(T.created_at||T.createdAt).getTime()-new Date(A.created_at||A.createdAt).getTime())[0].created_at||w[0].createdAt:null;console.log("Calculated stats:",{totalInvoices:y,totalPaid:N+E,totalOutstanding:C,lastPayment:P,subscriptions:j.length,unpaidInvoices:k,completedPayments:w}),d({totalInvoices:y,totalPaid:N+E,totalOutstanding:C,lastPayment:P})}catch(x){console.error("Error fetching client history:",x),i([]),d({totalInvoices:0,totalPaid:0,totalOutstanding:0,lastPayment:null})}finally{o(!1)}},m=x=>{switch(x){case"paid":case"completed":return r.jsx(kv,{className:"h-5 w-5 text-green-500"});case"pending":return r.jsx(At,{className:"h-5 w-5 text-yellow-500"});case"failed":return r.jsx(Nv,{className:"h-5 w-5 text-red-500"});default:return r.jsx(va,{className:"h-5 w-5 text-gray-500"})}},h=x=>{switch(x){case"paid":case"completed":return"bg-gradient-to-r from-emerald-100 to-green-100 text-emerald-800 border border-emerald-200";case"pending":return"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border border-amber-200";case"failed":return"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border border-red-200";default:return"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-800 border border-gray-200"}};return e?r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mr-4 shadow-xl relative",children:[r.jsx(Rs,{className:"h-5 w-5 text-white"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-emerald-400 rounded-full border-2 border-white animate-pulse"})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Transaction History"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:a}),r.jsx(Uv,{className:"h-4 w-4 text-purple-500"})]})]})]}),r.jsx("button",{onClick:t,className:"w-10 h-10 bg-gray-100 hover:bg-gray-200 rounded-xl flex items-center justify-center transition-all duration-200 hover:scale-105",children:r.jsx(Z,{className:"h-5 w-5 text-gray-600"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-5 border border-blue-100 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(va,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-semibold text-blue-700",children:"Total Invoices"}),r.jsx("p",{className:"text-2xl font-black text-blue-900",children:c.totalInvoices})]})]})}),r.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 rounded-xl p-5 border border-emerald-100 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(yt,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-semibold text-emerald-700",children:"Total Paid"}),r.jsxs("p",{className:"text-2xl font-black text-emerald-900",children:["$",c.totalPaid.toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-5 border border-amber-100 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(Ev,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-semibold text-amber-700",children:"Outstanding"}),r.jsxs("p",{className:"text-2xl font-black text-amber-900",children:["$",c.totalOutstanding.toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-gradient-to-br from-violet-50 to-purple-50 rounded-xl p-5 border border-violet-100 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(bt,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-sm font-semibold text-violet-700",children:"Last Payment"}),r.jsx("p",{className:"text-sm font-black text-violet-900",children:c.lastPayment?new Date(c.lastPayment).toLocaleDateString():"None"})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-lg",children:[r.jsx("div",{className:"px-6 py-5 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-600 to-gray-700 rounded-lg flex items-center justify-center",children:r.jsx(Rs,{className:"h-4 w-4 text-white"})}),r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Transaction History"})]})}),l?r.jsx("div",{className:"flex items-center justify-center h-32 bg-gradient-to-br from-blue-50 to-indigo-50",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-blue-200 border-t-blue-600"}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-400 to-indigo-500 opacity-20 animate-pulse"})]})}):n.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-32 bg-gradient-to-br from-gray-50 to-slate-50",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-400 to-gray-500 rounded-2xl flex items-center justify-center mb-4 shadow-lg",children:r.jsx(va,{className:"h-8 w-8 text-white"})}),r.jsx("p",{className:"text-gray-600 font-medium",children:"No transactions found for this client"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Invoices and payments will appear here"})]}):r.jsx("div",{className:"divide-y divide-gray-100",children:n.map(x=>r.jsx("div",{className:"p-6 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 transition-all duration-300 hover:shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative",children:[m(x.status),r.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full opacity-20 animate-pulse"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:x.description}),r.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:x.date&&!isNaN(new Date(x.date).getTime())?new Date(x.date).toLocaleDateString():"No date"}),x.payment_method&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-md flex items-center justify-center mr-2",children:r.jsx(Be,{className:"h-3 w-3 text-white"})}),r.jsx("span",{className:"font-medium",children:x.payment_method})]}),x.invoice_number&&r.jsxs("p",{className:"text-xs text-blue-600 font-semibold bg-blue-50 px-2 py-1 rounded-md border border-blue-200",children:["#",x.invoice_number]})]})]})]}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-lg font-black bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:["$",x.amount.toLocaleString()]}),r.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full shadow-sm ${h(x.status)}`,children:x.status})]})})]})},x.id))})]})]}),r.jsx("div",{className:"px-6 py-5 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100",children:r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:t,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-white hover:shadow-md transition-all duration-200 font-semibold",children:"Close"}),r.jsxs("button",{className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center",children:[r.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Export History"]})]})})]})}):null}function qk({isOpen:e,onClose:t,onClientUpdated:s,client:a}){const[n,i]=f.useState({fullName:"",email:"",phone:"",company:"",address:"",notes:""}),[l,o]=f.useState(!1),[c,d]=f.useState("");f.useEffect(()=>{var h,x,b,v,j,p;a&&e&&(console.log("Populating form with client data:",a),i({fullName:a.full_name||a.fullName||a.name||"",email:a.email||"",phone:a.phone||((b=(x=(h=a.communicationDetails)==null?void 0:h.find)==null?void 0:x.call(h,g=>g.type==="PHONE"))==null?void 0:b.detail)||((p=(j=(v=a.communication_details)==null?void 0:v.find)==null?void 0:j.call(v,g=>g.type==="PHONE"))==null?void 0:p.detail)||"",company:a.company||a.companyName||a.company_name||"",address:typeof a.address=="string"?a.address:a.address?`${a.address.street||""} ${a.address.city||""} ${a.address.state||""} ${a.address.postalCode||""}`.trim():"",notes:a.notes||""}),d(""))},[a,e]);const u=async h=>{h.preventDefault(),o(!0),d("");try{const x={fullName:n.fullName,email:n.email,...n.company&&{companyName:n.company},...n.phone&&{communicationDetails:[{type:"EMAIL",subType:"WORK",detail:n.email},{type:"PHONE",subType:"WORK",detail:n.phone}]},...n.address&&{address:{street:n.address,city:"",state:"",postalCode:"",country:""}}};console.log("Updating client with data:",x),await O.updateClient(a.id,x),s(),t()}catch(x){console.error("Error updating client:",x),d(x.message||"Failed to update client")}finally{o(!1)}},m=h=>{i(x=>({...x,[h.target.name]:h.target.value}))};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(J,{className:"h-5 w-5 text-blue-600"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Client"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[c&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-600",children:c})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),r.jsxs("div",{className:"relative",children:[r.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",name:"fullName",value:n.fullName,onChange:m,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"John Doe"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),r.jsxs("div",{className:"relative",children:[r.jsx(nt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"email",name:"email",value:n.email,onChange:m,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"john@example.com"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(Qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:m,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"(555) 123-4567"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),r.jsxs("div",{className:"relative",children:[r.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",name:"company",value:n.company,onChange:m,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"ABC Company Inc."})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ji,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("textarea",{name:"address",value:n.address,onChange:m,rows:2,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"123 Main St, City, State 12345"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),r.jsxs("div",{className:"relative",children:[r.jsx(Se,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("textarea",{name:"notes",value:n.notes,onChange:m,rows:3,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Additional notes about this client..."})]})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l?r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Update Client"]})})]})]})]})}):null}function Wk({isOpen:e,onClose:t,client:s,onCredentialsUpdated:a}){const[n,i]=f.useState({email:"",newPassword:"",confirmPassword:"",sendEmail:!0}),[l,o]=f.useState(!1),[c,d]=f.useState(!1),[u,m]=f.useState(""),[h,x]=f.useState(""),[b,v]=f.useState("");Vm.useEffect(()=>{s&&e&&(i({email:s.email||"",newPassword:"",confirmPassword:"",sendEmail:!0}),m(""),x(""),v(""))},[s,e]);const j=()=>{const y="ABCDEFGHJKMNPQRSTUVWXYZabcdefghijkmnpqrstuvwxyz23456789!@#$%&*";let w="";for(let N=0;N<12;N++)w+=y.charAt(Math.floor(Math.random()*y.length));v(w),i(N=>({...N,newPassword:w,confirmPassword:w}))},p=async y=>{if(y.preventDefault(),d(!0),m(""),x(""),n.newPassword!==n.confirmPassword){m("Passwords do not match"),d(!1);return}if(n.newPassword.length<8){m("Password must be at least 8 characters long"),d(!1);return}try{await O.updateClientCredentials(s.id,{email:n.email,password:n.newPassword,sendEmail:n.sendEmail}),x("Client credentials updated successfully!"),a(),n.sendEmail&&x("Credentials updated and email sent to client!"),setTimeout(()=>{t()},2e3)}catch(w){m(w.message||"Failed to update credentials")}finally{d(!1)}},g=y=>{navigator.clipboard.writeText(y),x("Copied to clipboard!"),setTimeout(()=>x(""),2e3)};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(st,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Client Portal Access"}),r.jsx("p",{className:"text-sm text-gray-600",children:(s==null?void 0:s.full_name)||(s==null?void 0:s.fullName)})]})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[u&&r.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center",children:[r.jsx(Ut,{className:"h-5 w-5 text-red-500 mr-2"}),r.jsx("p",{className:"text-sm text-red-600",children:u})]}),h&&r.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg flex items-center",children:[r.jsx(_e,{className:"h-5 w-5 text-green-500 mr-2"}),r.jsx("p",{className:"text-sm text-green-600",children:h})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(nt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"email",value:n.email,onChange:y=>i(w=>({...w,email:y.target.value})),required:!0,className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"client@example.com"}),r.jsx("button",{type:"button",onClick:()=>g(n.email),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r.jsx(Wa,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(ji,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:l?"text":"password",value:n.newPassword,onChange:y=>i(w=>({...w,newPassword:y.target.value})),required:!0,minLength:8,className:"w-full pl-10 pr-20 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password"}),r.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex space-x-1",children:[r.jsx("button",{type:"button",onClick:()=>o(!l),className:"text-gray-400 hover:text-gray-600",children:l?r.jsx(hd,{className:"h-4 w-4"}):r.jsx(nn,{className:"h-4 w-4"})}),r.jsx("button",{type:"button",onClick:()=>g(n.newPassword),className:"text-gray-400 hover:text-gray-600",disabled:!n.newPassword,children:r.jsx(Wa,{className:"h-4 w-4"})})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(ji,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:l?"text":"password",value:n.confirmPassword,onChange:y=>i(w=>({...w,confirmPassword:y.target.value})),required:!0,minLength:8,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password"})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsxs("button",{type:"button",onClick:j,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[r.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Generate Secure Password"]}),r.jsx("p",{className:"text-sm text-blue-700 mt-2 text-center",children:"Click to generate a secure 12-character password"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:n.sendEmail,onChange:y=>i(w=>({...w,sendEmail:y.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{className:"ml-3 text-sm font-medium text-gray-700",children:"Send login credentials via email"})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:c?r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Update Credentials"]})})]})]})]})}):null}function Gk(){const e=Ar(),{showSuccess:t,showError:s}=df(),[a,n]=f.useState([]),[i,l]=f.useState([]),[o,c]=f.useState(!0),[d,u]=f.useState(!1),[m,h]=f.useState(!1),[x,b]=f.useState(!1),[v,j]=f.useState(!1),[p,g]=f.useState(!1),[y,w]=f.useState(!1),[N,k]=f.useState(null),[C,E]=f.useState(""),[P,A]=f.useState({status:"",dateRange:"",client:"",amount:""}),[T,L]=f.useState({fullName:"",email:"",password:"",phone:"",company:"",address:"",notes:""}),[z,G]=f.useState(""),[M,q]=f.useState(!1),[R,S]=f.useState({});f.useEffect(()=>{D();const _=()=>{console.log("Invoice change detected, refreshing clients..."),D()};return window.addEventListener("invoiceDeleted",_),window.addEventListener("invoiceCreated",_),window.addEventListener("invoiceUpdated",_),()=>{window.removeEventListener("invoiceDeleted",_),window.removeEventListener("invoiceCreated",_),window.removeEventListener("invoiceUpdated",_)}},[]),f.useEffect(()=>{V()},[a,C,P]);const D=async()=>{try{const _=await O.getUsers({role:"CLIENT"});n(_.users.filter(ge=>ge.role==="CLIENT"))}catch(_){console.error("Error fetching clients:",_)}finally{c(!1)}},V=()=>{let _=[...a];if(C&&(_=_.filter(ge=>{var Ze,es,mn;return((Ze=ge.full_name)==null?void 0:Ze.toLowerCase().includes(C.toLowerCase()))||((es=ge.email)==null?void 0:es.toLowerCase().includes(C.toLowerCase()))||((mn=ge.company)==null?void 0:mn.toLowerCase().includes(C.toLowerCase()))})),P.status){const ge=P.status==="ACTIVE";_=_.filter(Ze=>(R[Ze.id]??Ze.is_active??Ze.isActive)===ge)}l(_)},I=(_,ge)=>{A(Ze=>({...Ze,[_]:ge}))},U=()=>{A({status:"",dateRange:"",client:"",amount:""}),E("")},Q=async _=>{_.preventDefault(),q(!0),G("");try{const ge=await O.createUser({fullName:T.fullName,email:T.email,password:T.password||"TempPass123!",role:"CLIENT",companyName:T.company,address:T.address?{street:T.address,city:"",state:"",postalCode:"",country:""}:void 0,communicationDetails:[{type:"EMAIL",subType:"WORK",detail:T.email},...T.phone?[{type:"PHONE",subType:"WORK",detail:T.phone}]:[]]});L({fullName:"",email:"",password:"",phone:"",company:"",address:"",notes:""}),g(!1),t("Client created successfully","New client account has been created"),D()}catch(ge){console.error("Error creating client:",ge),G(ge.message||"Failed to create client"),s("Failed to create client",ge.message)}finally{q(!1)}},se=_=>{L(ge=>({...ge,[_.target.name]:_.target.value}))},Dt=_=>{k(_),h(!0)},ot=_=>{k(_),b(!0)},$t=_=>{e(`/admin/clients/${_.id}`)},un=async _=>{if(window.confirm(`Are you sure you want to delete ${_.full_name||_.fullName}? This will also delete all their invoices and transaction history.`))try{await O.deleteUser(_.id),t("Client deleted successfully"),D()}catch(ge){console.error("Error deleting client:",ge),s("Failed to delete client","Please try again.")}},Hg=async _=>{try{const Ze=!(R[_.id]??_.is_active??_.isActive);await O.updateUser(_.id,{isActive:Ze}),S(es=>({...es,[_.id]:Ze})),t(`Client ${Ze?"activated":"deactivated"} successfully`),D()}catch(ge){console.error("Error updating client status:",ge),s("Failed to update client status");const es=!(R[_.id]??_.is_active??_.isActive);S(mn=>({...mn,[_.id]:es}))}},qg=async _=>{k(_),w(!0)},Wg=_=>{switch(_){case"ADMIN":return"bg-purple-100 text-purple-800";case"CLIENT":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Client Management"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Manage client accounts, invoices, and portal access"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Be,{className:"h-4 w-4 mr-2"}),"Charge Client"]}),r.jsxs("button",{onClick:()=>g(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Add Client"]})]})]}),r.jsx(sl,{searchTerm:C,onSearchChange:E,filters:P,onFilterChange:I,onClearFilters:U,filterOptions:{statuses:["ACTIVE","INACTIVE"]},placeholder:"Search clients by name, email, or company..."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(_=>r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(J,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:_.full_name||_.fullName}),(_.company||_.companyName)&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:_.company||_.companyName})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${R[_.id]??_.is_active??_.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R[_.id]??_.is_active??_.isActive?"ACTIVE":"INACTIVE"}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Wg(_.role)}`,children:_.role})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[r.jsx(nt,{className:"h-4 w-4 mr-2 text-gray-400 dark:text-gray-500"}),_.email]}),_.phone&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[r.jsx(Qr,{className:"h-4 w-4 mr-2 text-gray-400 dark:text-gray-500"}),_.phone]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[r.jsx(bt,{className:"h-4 w-4 mr-2 text-gray-400 dark:text-gray-500"}),"Joined ",new Date(_.created_at||_.createdAt).toLocaleDateString()]}),_.lastLogin&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[r.jsx(Wv,{className:"h-4 w-4 mr-2 text-gray-400 dark:text-gray-500"}),"Last login: ",new Date(_.lastLogin).toLocaleDateString()]})]}),r.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-slate-600",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[r.jsxs("button",{onClick:()=>Dt(_),className:"bg-blue-600 text-white py-2 px-3 rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center justify-center",children:[r.jsx(Rs,{className:"h-4 w-4 mr-1"}),"History"]}),r.jsxs("button",{onClick:()=>ot(_),className:"bg-green-600 text-white py-2 px-3 rounded-lg hover:bg-green-700 transition-colors text-sm flex items-center justify-center",children:[r.jsx(va,{className:"h-4 w-4 mr-1"}),"Invoice"]})]}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("button",{onClick:()=>$t(_),className:"flex-1 bg-blue-50 text-blue-700 py-2 px-2 rounded-lg hover:bg-blue-100 transition-colors text-sm flex items-center justify-center",title:"Manage Client",children:r.jsx(J,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>qg(_),className:"flex-1 bg-purple-100 text-purple-700 py-2 px-2 rounded-lg hover:bg-purple-200 transition-colors text-sm flex items-center justify-center",title:"Manage Portal Access",children:r.jsx(st,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>Hg(_),className:`flex-1 py-2 px-2 rounded-lg transition-colors text-sm flex items-center justify-center ${R[_.id]??_.is_active??_.isActive?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,title:R[_.id]??_.is_active??_.isActive?"Deactivate":"Activate",children:R[_.id]??_.is_active??_.isActive?r.jsx(af,{className:"h-4 w-4"}):r.jsx(nf,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>un(_),className:"flex-1 bg-red-100 text-red-700 py-2 px-2 rounded-lg hover:bg-red-200 transition-colors text-sm flex items-center justify-center",title:"Delete Client",children:r.jsx(Gs,{className:"h-4 w-4"})})]})]})]},_.id))}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Client Overview"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.length}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Total Clients"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.filter(_=>R[_.id]??_.is_active??_.isActive).length}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Active Accounts"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:a.filter(_=>_.lastLogin&&new Date(_.lastLogin)>new Date(Date.now()-30*24*60*60*1e3)).length}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Active This Month"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:a.filter(_=>!_.lastLogin).length}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Never Logged In"})]})]})]}),p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:r.jsx(Wo,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Client Account"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Create both client profile and portal access"})]})]}),r.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Z,{className:"h-5 w-5"})})]}),z&&r.jsx("div",{className:"mx-6 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-600",children:z})}),r.jsxs("form",{onSubmit:Q,className:"p-6 space-y-4",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(st,{className:"h-5 w-5 text-blue-600 mr-2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Portal Access"}),r.jsx("p",{className:"text-sm text-blue-700",children:"This will create both a client profile and portal login access."})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),r.jsxs("div",{className:"relative",children:[r.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",name:"fullName",value:T.fullName,onChange:se,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"John Doe"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),r.jsxs("div",{className:"relative",children:[r.jsx(nt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"email",name:"email",value:T.email,onChange:se,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"john@example.com"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Portal Password (Optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx(st,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"password",name:"password",value:T.password,onChange:se,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Leave blank for auto-generated"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"If blank, a temporary password will be generated"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(Qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"tel",name:"phone",value:T.phone,onChange:se,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"(555) 123-4567"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",name:"company",value:T.company,onChange:se,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"ABC Company Inc."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ji,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("textarea",{name:"address",value:T.address,onChange:se,rows:2,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"123 Main St, City, State 12345"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),r.jsxs("div",{className:"relative",children:[r.jsx(Se,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("textarea",{name:"notes",value:T.notes,onChange:se,rows:2,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Additional notes about this client..."})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:M,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:M?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Tv,{className:"h-4 w-4 mr-2"}),"Create Client Account"]})})]})]})]})}),r.jsx(Gd,{isOpen:x,onClose:()=>{b(!1),k(null)},onInvoiceAdded:()=>{console.log("Invoice created for client")},preSelectedClientId:N==null?void 0:N.id}),N&&r.jsx(qk,{isOpen:v,onClose:()=>{j(!1),k(null)},onClientUpdated:D,client:N}),N&&r.jsx(Wk,{isOpen:y,onClose:()=>{w(!1),k(null)},onCredentialsUpdated:D,client:N}),r.jsx(Bg,{isOpen:d,onClose:()=>u(!1),onPaymentProcessed:()=>{console.log("Payment processed successfully")}}),N&&r.jsx(Hk,{isOpen:m,onClose:()=>{h(!1),k(null)},clientId:N.id,clientName:N.full_name||N.fullName})]})}function Kk(){const[e,t]=f.useState([]),[s,a]=f.useState([]),[n,i]=f.useState(!0),[l,o]=f.useState({action:"",entityType:"",userId:"",dateRange:""}),[c,d]=f.useState(""),[u,m]=f.useState({page:1,limit:50,total:0});f.useEffect(()=>{h()},[u.page,l]),f.useEffect(()=>{x()},[e,c]);const h=async()=>{try{const g=await O.getAuditLogs({page:u.page,limit:u.limit,...l});t(g.logs),m(y=>({...y,total:g.total}))}catch(g){console.error("Error fetching audit logs:",g)}finally{i(!1)}},x=()=>{let g=[...e];c&&(g=g.filter(y=>{var w,N,k,C;return((w=y.action)==null?void 0:w.toLowerCase().includes(c.toLowerCase()))||((N=y.entityType)==null?void 0:N.toLowerCase().includes(c.toLowerCase()))||((C=(k=y.user)==null?void 0:k.email)==null?void 0:C.toLowerCase().includes(c.toLowerCase()))})),a(g)},b=(g,y)=>{o(w=>({...w,[g]:y}))},v=g=>{switch(g){case"USER_LOGIN":return"bg-green-100 text-green-800";case"USER_LOGOUT":return"bg-gray-100 text-gray-800";case"INVOICE_CREATED":case"PAYMENT_SUCCESS":return"bg-blue-100 text-blue-800";case"USER_DELETED":case"PAYMENT_FAILED":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},j=g=>{switch(g){case"USER_LOGIN":case"USER_LOGOUT":return r.jsx(J,{className:"h-4 w-4"});case"INVOICE_CREATED":case"INVOICE_UPDATED":return r.jsx(Rs,{className:"h-4 w-4"});case"PAYMENT_SUCCESS":case"PAYMENT_FAILED":return r.jsx(st,{className:"h-4 w-4"});default:return r.jsx(Rs,{className:"h-4 w-4"})}},p=()=>{const g=[["Timestamp","User","Action","Entity Type","Entity ID","Details"],...s.map(k=>{var C;return[new Date(k.createdAt).toLocaleString(),((C=k.user)==null?void 0:C.email)||"System",k.action,k.entityType,k.entityId,JSON.stringify(k.details||{})]})].map(k=>k.join(",")).join(`
`),y=new Blob([g],{type:"text/csv"}),w=URL.createObjectURL(y),N=document.createElement("a");N.href=w,N.download=`audit-logs-${new Date().toISOString().split("T")[0]}.csv`,N.click(),URL.revokeObjectURL(w)};return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Audit Logs"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Monitor system activity and security events"})]}),r.jsxs("button",{onClick:p,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Export Logs"]})]}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 dark:text-gray-500"}),r.jsx("input",{type:"text",value:c,onChange:g=>d(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Search logs..."})]}),r.jsxs("select",{value:l.action,onChange:g=>b("action",g.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"All Actions"}),r.jsx("option",{value:"USER_LOGIN",children:"User Login"}),r.jsx("option",{value:"USER_LOGOUT",children:"User Logout"}),r.jsx("option",{value:"INVOICE_CREATED",children:"Invoice Created"}),r.jsx("option",{value:"PAYMENT_SUCCESS",children:"Payment Success"}),r.jsx("option",{value:"PAYMENT_FAILED",children:"Payment Failed"})]}),r.jsxs("select",{value:l.entityType,onChange:g=>b("entityType",g.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"",children:"All Entity Types"}),r.jsx("option",{value:"User",children:"User"}),r.jsx("option",{value:"Invoice",children:"Invoice"}),r.jsx("option",{value:"Payment",children:"Payment"}),r.jsx("option",{value:"ServicePackage",children:"Service Package"})]}),r.jsx("input",{type:"date",value:l.dateRange,onChange:g=>b("dateRange",g.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]})}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Timestamp"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Action"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Entity"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Details"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"IP Address"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-600",children:s.map(g=>{var y,w;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(g.createdAt).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:r.jsx(J,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:((y=g.user)==null?void 0:y.email)||"System"}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:((w=g.user)==null?void 0:w.fullName)||"Automated"})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[j(g.action),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${v(g.action)}`,children:g.action})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:g.entityType}),r.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-xs",children:g.entityId})]})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white max-w-xs truncate",children:g.details?JSON.stringify(g.details):"No details"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:g.ipAddress||"N/A"})]},g.id)})})]})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-slate-600 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",(u.page-1)*u.limit+1," to ",Math.min(u.page*u.limit,u.total)," of ",u.total," results"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>m(g=>({...g,page:Math.max(1,g.page-1)})),disabled:u.page===1,className:"px-3 py-1 border border-gray-300 dark:border-slate-600 rounded text-sm disabled:opacity-50 bg-white dark:bg-slate-700 text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-slate-600",children:"Previous"}),r.jsx("button",{onClick:()=>m(g=>({...g,page:g.page+1})),disabled:u.page*u.limit>=u.total,className:"px-3 py-1 border border-gray-300 dark:border-slate-600 rounded text-sm disabled:opacity-50 bg-white dark:bg-slate-700 text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-slate-600",children:"Next"})]})]})]})]})}function Yk(){const[e,t]=f.useState([]),[s,a]=f.useState([]),[n,i]=f.useState(!0),[l,o]=f.useState(""),[c,d]=f.useState({status:"",method:"",dateRange:"",amount:""}),[u,m]=f.useState({totalPayments:0,totalAmount:0,successfulPayments:0,failedPayments:0});f.useEffect(()=>{h()},[]),f.useEffect(()=>{b()},[e,l,c]);const h=async()=>{try{const N=await O.getPayments();t(N.payments),x(N.payments)}catch(N){console.error("Error fetching payments:",N)}finally{i(!1)}},x=N=>{const k=N.length,C=N.reduce((A,T)=>A+parseFloat(T.amount),0),E=N.filter(A=>A.status==="COMPLETED").length,P=N.filter(A=>A.status==="FAILED").length;m({totalPayments:k,totalAmount:C,successfulPayments:E,failedPayments:P})},b=()=>{let N=[...e];l&&(N=N.filter(k=>{var C,E,P;return((C=k.client_name)==null?void 0:C.toLowerCase().includes(l.toLowerCase()))||((E=k.transaction_id)==null?void 0:E.toLowerCase().includes(l.toLowerCase()))||((P=k.invoice_description)==null?void 0:P.toLowerCase().includes(l.toLowerCase()))})),c.status&&(N=N.filter(k=>k.status===c.status)),c.method&&(N=N.filter(k=>k.method===c.method)),c.amount&&(N=N.filter(k=>{const C=parseFloat(k.amount);switch(c.amount){case"0-100":return C>=0&&C<=100;case"100-500":return C>100&&C<=500;case"500-1000":return C>500&&C<=1e3;case"1000-5000":return C>1e3&&C<=5e3;case"5000+":return C>5e3;default:return!0}})),a(N)},v=(N,k)=>{d(C=>({...C,[N]:k}))},j=()=>{d({status:"",method:"",dateRange:"",amount:""}),o("")},p=N=>{switch(N){case"COMPLETED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"FAILED":return"bg-red-100 text-red-800";case"REFUNDED":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},g=N=>{switch(N){case"COMPLETED":return r.jsx(_e,{className:"h-4 w-4"});case"PENDING":return r.jsx(At,{className:"h-4 w-4"});case"FAILED":return r.jsx(Cs,{className:"h-4 w-4"});case"REFUNDED":return r.jsx(Ut,{className:"h-4 w-4"});default:return r.jsx(At,{className:"h-4 w-4"})}},y=N=>{switch(N){case"CARD":return"bg-blue-100 text-blue-800";case"BANK_TRANSFER":return"bg-green-100 text-green-800";case"ZELLE":return"bg-purple-100 text-purple-800";case"CASHAPP":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},w=()=>{const N=[["Date","Client","Amount","Method","Status","Transaction ID","Invoice"],...s.map(P=>[new Date(P.created_at).toLocaleDateString(),P.client_name,P.amount,P.method,P.status,P.transaction_id||"",P.invoice_description||""])].map(P=>P.join(",")).join(`
`),k=new Blob([N],{type:"text/csv"}),C=URL.createObjectURL(k),E=document.createElement("a");E.href=C,E.download=`payments-${new Date().toISOString().split("T")[0]}.csv`,E.click(),URL.revokeObjectURL(C)};return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Payment History"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"View and manage all payment transactions"})]}),r.jsxs("button",{onClick:w,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Export Payments"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Be,{className:"h-8 w-8 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Payments"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:u.totalPayments})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(ee,{className:"h-8 w-8 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Amount"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",u.totalAmount.toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(_e,{className:"h-8 w-8 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Successful"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:u.successfulPayments})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Cs,{className:"h-8 w-8 text-red-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Failed"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:u.failedPayments})]})]})})]}),r.jsx(sl,{searchTerm:l,onSearchChange:o,filters:c,onFilterChange:v,onClearFilters:j,filterOptions:{statuses:["COMPLETED","PENDING","FAILED","REFUNDED"]},placeholder:"Search payments by client, transaction ID, or invoice..."}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Client"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Method"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Transaction ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Invoice"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-600",children:s.map(N=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(N.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center mr-3",children:r.jsx(J,{className:"h-4 w-4 text-blue-600"})}),r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:N.client_name})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["$",parseFloat(N.amount).toLocaleString()]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y(N.method)}`,children:N.method})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[g(N.status),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${p(N.status)}`,children:N.status})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400 font-mono",children:N.transaction_id||"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white max-w-xs truncate",children:N.invoice_description||"N/A"})]},N.id))})]})})})]})}function Qk(){const[e,t]=f.useState({companyName:"Tech Processing LLC",companyEmail:"admin@techprocessing.com",companyPhone:"+1 (555) 123-4567",companyAddress:"123 Innovation Drive, Tech City, TC 12345",jwtExpiration:"24h",passwordMinLength:8,maxLoginAttempts:5,sessionTimeout:30,smtpHost:"smtp.gmail.com",smtpPort:587,smtpUser:"",smtpPassword:"",emailFromName:"Tech Processing LLC",emailFromAddress:"noreply@techprocessing.com",authorizeNetApiLoginId:"",authorizeNetTransactionKey:"",authorizeNetEnvironment:"sandbox",paymentMethods:["CARD","BANK_TRANSFER","ZELLE","CASHAPP"],emailNotifications:!0,invoiceReminders:!0,paymentConfirmations:!0,systemAlerts:!0,maintenanceMode:!1,debugMode:!1,auditLogging:!0,dataRetentionDays:365}),[s,a]=f.useState("general"),[n,i]=f.useState(!1),l=async()=>{i(!0);try{await new Promise(d=>setTimeout(d,1e3)),alert("Settings saved successfully!")}catch{alert("Failed to save settings")}finally{i(!1)}},o=(d,u)=>{t(m=>({...m,[d]:u}))},c=[{id:"general",name:"General",icon:Ei},{id:"security",name:"Security",icon:st},{id:"email",name:"Email",icon:nt},{id:"payments",name:"Payments",icon:Be},{id:"notifications",name:"Notifications",icon:Pv},{id:"system",name:"System",icon:Dv}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"System Settings"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Configure system-wide settings and preferences"})]}),r.jsxs("button",{onClick:l,disabled:n,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[r.jsx(Xr,{className:"h-4 w-4 mr-2"}),n?"Saving...":"Save Settings"]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700",children:[r.jsx("div",{className:"border-b border-gray-200 dark:border-slate-600",children:r.jsx("nav",{className:"flex space-x-8 px-6",children:c.map(d=>r.jsxs("button",{onClick:()=>a(d.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${s===d.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-slate-500"}`,children:[r.jsx(d.icon,{className:"h-4 w-4 mr-2"}),d.name]},d.id))})}),r.jsxs("div",{className:"p-6",children:[s==="general"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"General Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name"}),r.jsx("input",{type:"text",value:e.companyName,onChange:d=>o("companyName",d.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Email"}),r.jsx("input",{type:"email",value:e.companyEmail,onChange:d=>o("companyEmail",d.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Phone"}),r.jsx("input",{type:"tel",value:e.companyPhone,onChange:d=>o("companyPhone",d.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Address"}),r.jsx("textarea",{value:e.companyAddress,onChange:d=>o("companyAddress",d.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]})]})]}),s==="security"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Security Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"JWT Token Expiration"}),r.jsxs("select",{value:e.jwtExpiration,onChange:d=>o("jwtExpiration",d.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"1h",children:"1 Hour"}),r.jsx("option",{value:"8h",children:"8 Hours"}),r.jsx("option",{value:"24h",children:"24 Hours"}),r.jsx("option",{value:"7d",children:"7 Days"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Minimum Password Length"}),r.jsx("input",{type:"number",value:e.passwordMinLength,onChange:d=>o("passwordMinLength",parseInt(d.target.value)),min:"6",max:"20",className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Max Login Attempts"}),r.jsx("input",{type:"number",value:e.maxLoginAttempts,onChange:d=>o("maxLoginAttempts",parseInt(d.target.value)),min:"3",max:"10",className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Session Timeout (minutes)"}),r.jsx("input",{type:"number",value:e.sessionTimeout,onChange:d=>o("sessionTimeout",parseInt(d.target.value)),min:"15",max:"120",className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]})]})]}),s==="email"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Email Configuration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"SMTP Host"}),r.jsx("input",{type:"text",value:e.smtpHost,onChange:d=>o("smtpHost",d.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"SMTP Port"}),r.jsx("input",{type:"number",value:e.smtpPort,onChange:d=>o("smtpPort",parseInt(d.target.value)),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"SMTP Username"}),r.jsx("input",{type:"text",value:e.smtpUser,onChange:d=>o("smtpUser",d.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"SMTP Password"}),r.jsx("input",{type:"password",value:e.smtpPassword,onChange:d=>o("smtpPassword",d.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]})]})]}),s==="payments"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Configuration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Authorize.Net API Login ID"}),r.jsx("input",{type:"text",value:e.authorizeNetApiLoginId,onChange:d=>o("authorizeNetApiLoginId",d.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Authorize.Net Transaction Key"}),r.jsx("input",{type:"password",value:e.authorizeNetTransactionKey,onChange:d=>o("authorizeNetTransactionKey",d.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Environment"}),r.jsxs("select",{value:e.authorizeNetEnvironment,onChange:d=>o("authorizeNetEnvironment",d.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[r.jsx("option",{value:"sandbox",children:"Sandbox"}),r.jsx("option",{value:"production",children:"Production"})]})]})]})]}),s==="notifications"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Notification Settings"}),r.jsx("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications"},{key:"invoiceReminders",label:"Invoice Reminders"},{key:"paymentConfirmations",label:"Payment Confirmations"},{key:"systemAlerts",label:"System Alerts"}].map(d=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:d.label}),r.jsx("input",{type:"checkbox",checked:e[d.key],onChange:u=>o(d.key,u.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700"})]},d.key))})]}),s==="system"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"System Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Maintenance Mode"}),r.jsx("input",{type:"checkbox",checked:e.maintenanceMode,onChange:d=>o("maintenanceMode",d.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Debug Mode"}),r.jsx("input",{type:"checkbox",checked:e.debugMode,onChange:d=>o("debugMode",d.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Audit Logging"}),r.jsx("input",{type:"checkbox",checked:e.auditLogging,onChange:d=>o("auditLogging",d.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data Retention (days)"}),r.jsx("input",{type:"number",value:e.dataRetentionDays,onChange:d=>o("dataRetentionDays",parseInt(d.target.value)),min:"30",max:"3650",className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]})]})]})]})]})]})}function Xk(){const{clientId:e}=md(),t=Ar(),{showSuccess:s,showError:a}=df(),[n,i]=f.useState(null),[l,o]=f.useState(!0),[c,d]=f.useState(!1),[u,m]=f.useState("profile"),[h,x]=f.useState({fullName:"",email:"",phone:"",company:"",address:"",notes:""}),[b,v]=f.useState({email:"",newPassword:"",confirmPassword:"",sendEmail:!0}),[j,p]=f.useState(!1),[g,y]=f.useState("");f.useEffect(()=>{e&&w()},[e]);const w=async()=>{try{const L=(await O.getUsers({role:"CLIENT"})).users.find(z=>z.id===e);if(!L){a("Client not found"),t("/admin/clients");return}i(L),N(L),k(L)}catch(T){console.error("Error fetching client:",T),a("Failed to load client data")}finally{o(!1)}},N=T=>{var L,z,G,M,q,R;x({fullName:T.full_name||T.fullName||"",email:T.email||"",phone:T.phone||((G=(z=(L=T.communicationDetails)==null?void 0:L.find)==null?void 0:z.call(L,S=>S.type==="PHONE"))==null?void 0:G.detail)||((R=(q=(M=T.communication_details)==null?void 0:M.find)==null?void 0:q.call(M,S=>S.type==="PHONE"))==null?void 0:R.detail)||"",company:T.company||T.companyName||T.company_name||"",address:typeof T.address=="string"?T.address:T.address?`${T.address.street||""} ${T.address.city||""} ${T.address.state||""} ${T.address.postalCode||""}`.trim():"",notes:T.notes||""})},k=T=>{v({email:T.email||"",newPassword:"",confirmPassword:"",sendEmail:!0})},C=async T=>{T.preventDefault(),d(!0);try{const L={fullName:h.fullName,email:h.email,...h.company&&{companyName:h.company},...h.phone&&{communicationDetails:[{type:"EMAIL",subType:"WORK",detail:h.email},{type:"PHONE",subType:"WORK",detail:h.phone}]},...h.address&&{address:{street:h.address,city:"",state:"",postalCode:"",country:""}}};await O.updateClient(n.id,L),s("Client profile updated successfully"),w()}catch(L){console.error("Error updating client:",L),a("Failed to update client profile",L.message)}finally{d(!1)}},E=async T=>{if(T.preventDefault(),d(!0),b.newPassword!==b.confirmPassword){a("Passwords do not match"),d(!1);return}if(b.newPassword.length<8){a("Password must be at least 8 characters long"),d(!1);return}try{await O.updateClientCredentials(n.id,{email:b.email,password:b.newPassword,sendEmail:b.sendEmail}),s("Credentials updated successfully",b.sendEmail?"Email sent to client with new credentials":void 0),v(L=>({...L,newPassword:"",confirmPassword:""})),y("")}catch(L){console.error("Error updating credentials:",L),a("Failed to update credentials",L.message)}finally{d(!1)}},P=()=>{const T="ABCDEFGHJKMNPQRSTUVWXYZabcdefghijkmnpqrstuvwxyz23456789!@#$%&*";let L="";for(let z=0;z<12;z++)L+=T.charAt(Math.floor(Math.random()*T.length));y(L),v(z=>({...z,newPassword:L,confirmPassword:L})),s("Secure password generated")},A=T=>{navigator.clipboard.writeText(T),s("Copied to clipboard")};return l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>t("/admin/clients"),className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors",children:[r.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Back to Clients"]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:n.full_name||n.fullName}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage client profile and portal access"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${n.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.isActive?"Active":"Inactive"}),r.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-blue-100 text-blue-800",children:n.role})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:r.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"profile",name:"Profile Information",icon:J},{id:"credentials",name:"Portal Access",icon:st}].map(T=>r.jsxs("button",{onClick:()=>m(T.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center transition-colors ${u===T.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[r.jsx(T.icon,{className:"h-4 w-4 mr-2"}),T.name]},T.id))})}),r.jsxs("div",{className:"p-6",children:[u==="profile"&&r.jsxs("form",{onSubmit:C,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name *"}),r.jsxs("div",{className:"relative",children:[r.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",value:h.fullName,onChange:T=>x(L=>({...L,fullName:T.target.value})),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-all",placeholder:"John Doe"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),r.jsxs("div",{className:"relative",children:[r.jsx(nt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"email",value:h.email,onChange:T=>x(L=>({...L,email:T.target.value})),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-all",placeholder:"john@example.com"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(Qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"tel",value:h.phone,onChange:T=>x(L=>({...L,phone:T.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-all",placeholder:"(555) 123-4567"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company"}),r.jsxs("div",{className:"relative",children:[r.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",value:h.company,onChange:T=>x(L=>({...L,company:T.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-all",placeholder:"ABC Company Inc."})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ji,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("textarea",{value:h.address,onChange:T=>x(L=>({...L,address:T.target.value})),rows:2,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-all",placeholder:"123 Main St, City, State 12345"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),r.jsx("textarea",{value:h.notes,onChange:T=>x(L=>({...L,notes:T.target.value})),rows:3,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-all",placeholder:"Additional notes about this client..."})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{type:"submit",disabled:c,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[c?r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}):r.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Update Profile"]})})]}),u==="credentials"&&r.jsxs("form",{onSubmit:E,className:"space-y-6",children:[r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(st,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Portal Access Management"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 mt-1",children:"Manage client portal login credentials and access settings."})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(nt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"email",value:b.email,onChange:T=>v(L=>({...L,email:T.target.value})),required:!0,className:"w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"client@example.com"}),r.jsx("button",{type:"button",onClick:()=>A(b.email),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(Wa,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(ji,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:j?"text":"password",value:b.newPassword,onChange:T=>v(L=>({...L,newPassword:T.target.value})),required:!0,minLength:8,className:"w-full pl-10 pr-20 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Enter new password"}),r.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex space-x-1",children:[r.jsx("button",{type:"button",onClick:()=>p(!j),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:j?r.jsx(hd,{className:"h-4 w-4"}):r.jsx(nn,{className:"h-4 w-4"})}),r.jsx("button",{type:"button",onClick:()=>A(b.newPassword),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:!b.newPassword,children:r.jsx(Wa,{className:"h-4 w-4"})})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(ji,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:j?"text":"password",value:b.confirmPassword,onChange:T=>v(L=>({...L,confirmPassword:T.target.value})),required:!0,minLength:8,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Confirm new password"})]})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[r.jsxs("button",{type:"button",onClick:P,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[r.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Generate Secure Password"]}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 mt-2 text-center",children:"Click to generate a secure 12-character password"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:b.sendEmail,onChange:T=>v(L=>({...L,sendEmail:T.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),r.jsx("label",{className:"ml-3 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Send login credentials via email"})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{type:"submit",disabled:c,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[c?r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}):r.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Update Credentials"]})})]})]})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ut,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Client Not Found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"The requested client could not be found."}),r.jsx("button",{onClick:()=>t("/admin/clients"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Clients"})]})}function Jk(){const e=Ar(),[t,s]=f.useState([]),[a,n]=f.useState(!0),[i,l]=f.useState("ALL");f.useEffect(()=>{o()},[i]);const o=async()=>{try{const{user:u}=useAuth();if(u!=null&&u.id){let h=(await O.getClientInvoices(u.id)).invoices||[];i!=="ALL"&&(h=h.filter(x=>x.status===i)),s(h)}else s([])}catch(u){console.error("Error fetching invoices:",u),s([])}finally{n(!1)}},c=u=>{e(`/payment/${u.id}`)},d=u=>{switch(u){case"PAID":return"bg-green-100 text-green-800";case"UNPAID":return"bg-yellow-100 text-yellow-800";case"OVERDUE":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Invoices"}),r.jsx("p",{className:"text-sm text-gray-600",children:"View and manage your project invoices"})]})}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:["ALL","PAID","UNPAID","OVERDUE"].map(u=>r.jsx("button",{onClick:()=>l(u),className:`py-2 px-1 border-b-2 font-medium text-sm ${i===u?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:u},u))})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(u=>r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Se,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"ml-3",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Invoice #",u.id]}),r.jsxs("div",{className:"flex items-center text-green-600",children:[r.jsx(ee,{className:"h-4 w-4"}),r.jsx("span",{className:"font-bold",children:parseFloat(u.amount).toLocaleString()})]})]})]}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${d(u.status)}`,children:u.status})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:u.description}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Due Date:"}),r.jsx("span",{className:"text-gray-900",children:new Date(u.due_date).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Payment Method:"}),r.jsx("span",{className:"text-gray-900",children:u.payment_method||"Not specified"})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[r.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Download"]}),u.status==="UNPAID"&&r.jsxs("button",{className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",children:["onClick=",()=>c(u),r.jsx(Be,{className:"h-4 w-4 mr-2"}),"Pay Now"]})]})]},u.id))})]})}function Zk(){const[e,t]=f.useState([]),[s,a]=f.useState(!0);f.useEffect(()=>{n()},[]);const n=async()=>{try{const i=await O.getServices();t(i.services)}catch(i){console.error("Error fetching services:",i)}finally{a(!1)}};return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Available Services"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Explore our service packages and request quotes"})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(i=>r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Te,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i.name}),r.jsxs("div",{className:"flex items-center text-green-600",children:[r.jsx("span",{className:"text-sm",children:"Starting at "}),r.jsx(ee,{className:"h-4 w-4 ml-1"}),r.jsx("span",{className:"font-bold",children:i.price.toLocaleString()})]})]})]})}),r.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),r.jsxs("div",{className:"space-y-2 mb-6",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"What's included:"}),r.jsxs("ul",{className:"space-y-1",children:[i.features.slice(0,4).map((l,o)=>r.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(_e,{className:"h-4 w-4 text-green-500 mr-2 flex-shrink-0"}),l]},o)),i.features.length>4&&r.jsxs("li",{className:"text-sm text-gray-500 ml-6",children:["+",i.features.length-4," more features"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("button",{className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Request Quote"}),r.jsxs("button",{className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center",children:[r.jsx(rf,{className:"h-4 w-4 mr-2"}),"Contact Us"]})]})]},i.id))}),r.jsx("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Need a Custom Solution?"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Don't see what you're looking for? We create custom solutions tailored to your specific needs."}),r.jsx("button",{className:"bg-blue-600 text-white py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors",children:"Get Custom Quote"})]})})]})}function e2(){const{invoiceId:e}=md(),t=Ar(),[s,a]=f.useState(null),[n,i]=f.useState(!0),[l,o]=f.useState(!1),[c,d]=f.useState(""),[u,m]=f.useState(!1),[h,x]=f.useState("");f.useEffect(()=>{e&&b()},[e]);const b=async()=>{try{const p=(await O.getInvoices()).invoices.find(g=>g.id===e);if(!p){d("Invoice not found");return}a(p)}catch(j){console.error("Error fetching invoice:",j),d("Failed to load invoice")}finally{i(!1)}},v=async()=>{if(s){o(!0),d("");try{const j=await O.createHostedPaymentToken({invoiceId:s.id,amount:parseFloat(s.amount),returnUrl:`${window.location.origin}/payment/success`,cancelUrl:`${window.location.origin}/payment/cancel`,description:s.description});x(j.hostedPaymentUrl),setTimeout(()=>{m(!0),o(!1)},2e3)}catch(j){d(j.message||"Failed to initiate payment"),o(!1)}}};return n?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):c&&!s?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[r.jsx(Ut,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Error"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:c}),r.jsx("button",{onClick:()=>t("/client/invoices"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Invoices"})]})}):u?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 text-center",children:[r.jsx(_e,{className:"h-16 w-16 text-green-500 mx-auto mb-6"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Payment Successful!"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Your payment of $",parseFloat((s==null?void 0:s.amount)||"0").toLocaleString()," has been processed successfully."]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:()=>t("/client/invoices"),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"View All Invoices"}),r.jsx("button",{onClick:()=>t("/client"),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-3 px-4 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium",children:"Back to Dashboard"})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>t("/client/invoices"),className:"flex items-center text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 mb-4",children:[r.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Back to Invoices"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Pay Invoice"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Secure payment processing via Authorize.Net"})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Invoice Details"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Invoice #:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:s==null?void 0:s.id})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Description:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:s==null?void 0:s.description})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Due Date:"}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:new Date(s==null?void 0:s.due_date).toLocaleDateString()})]}),r.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:r.jsxs("div",{className:"flex justify-between text-lg",children:[r.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Total Amount:"}),r.jsxs("span",{className:"font-bold text-green-600 dark:text-green-400",children:["$",parseFloat((s==null?void 0:s.amount)||"0").toLocaleString()]})]})})]})]}),r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx(Be,{className:"h-6 w-6 text-blue-600 mr-3"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Secure Payment"})]}),c&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:c})}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(st,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-3"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Secure Payment Processing"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 mt-1",children:"Your payment will be processed securely through Authorize.Net. We never store your card information."})]})]})}),r.jsx("button",{onClick:v,disabled:l||!s,className:"w-full bg-green-600 text-white py-4 px-6 rounded-lg hover:bg-green-700 transition-colors font-semibold text-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-3"}),"Processing Payment..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Be,{className:"h-5 w-5 mr-3"}),"Pay $",parseFloat((s==null?void 0:s.amount)||"0").toLocaleString()," Securely"]})}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"We accept:"}),r.jsx("div",{className:"flex justify-center space-x-4",children:["Visa","Mastercard","American Express","Discover"].map(j=>r.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-3 py-2 rounded text-xs font-medium text-gray-700 dark:text-gray-300",children:j},j))})]})]})]}),r.jsx("div",{className:"mt-8 text-center",children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Need help? Contact us at"," ",r.jsx("a",{href:"mailto:support@techprocessing.com",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"support@techprocessing.com"})]})})]})})}function t2(){var b;const{token:e}=md(),t=Ar(),[s,a]=f.useState(null),[n,i]=f.useState(!0),[l,o]=f.useState(!1),[c,d]=f.useState(""),[u,m]=f.useState(!1);f.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{const j=(await O.getPaymentLinkByToken(e)).link;if(!j){d("Payment link not found or has expired");return}if(new Date(j.expires_at)<new Date){d("This payment link has expired");return}if(j.status==="USED"){d("This payment link has already been used");return}if(j.status==="CANCELLED"){d("This payment link has been cancelled");return}d(""),a(j)}catch{d("Payment links feature is currently unavailable. Please try again later.")}finally{i(!1)}},x=async()=>{if(s){o(!0),d("");try{const v={amount:s.amount,cardNumber:"4111111111111111",expiryDate:"12/25",cvv:"123",cardholderName:"Test User",billingAddress:{firstName:"Test",lastName:"User",address:"123 Test St",city:"Test City",state:"TS",zipCode:"12345",country:"US"},email:"test@example.com"},j=await O.processPaymentLinkPayment(e,v);j.success?m(!0):d(j.message||"Payment processing failed")}catch(v){d(v.message||"Payment processing failed")}finally{o(!1)}}};return n?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-navy-950 via-navy-900 to-slate-900 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400"})}):c?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-navy-950 via-navy-900 to-slate-900 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 text-center",children:[r.jsx(Ut,{className:"h-16 w-16 text-red-400 mx-auto mb-6"}),r.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Payment Link Error"}),r.jsx("p",{className:"text-white/80 mb-8",children:c}),r.jsx("button",{onClick:()=>t("/"),className:"w-full bg-gradient-to-r from-blue-600 via-blue-700 to-blue-800 hover:from-blue-500 hover:via-blue-600 hover:to-blue-700 text-white py-3 px-6 rounded-xl font-bold transition-all duration-300 shadow-lg hover:shadow-2xl transform hover:-translate-y-1",children:"Go to Homepage"})]})}):u?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-navy-950 via-navy-900 to-slate-900 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 text-center",children:[r.jsx(_e,{className:"h-16 w-16 text-green-400 mx-auto mb-6"}),r.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Payment Successful!"}),r.jsxs("p",{className:"text-white/80 mb-8",children:["Your payment of $",parseFloat((s==null?void 0:s.amount)||"0").toLocaleString()," has been processed successfully."]}),r.jsx("button",{onClick:()=>t("/"),className:"w-full bg-gradient-to-r from-green-600 via-green-700 to-green-800 hover:from-green-500 hover:via-green-600 hover:to-green-700 text-white py-3 px-6 rounded-xl font-bold transition-all duration-300 shadow-lg hover:shadow-2xl transform hover:-translate-y-1",children:"Continue"})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-navy-950 via-navy-900 to-slate-900 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-2xl w-full",children:[r.jsxs("div",{className:"mb-8 text-center",children:[r.jsxs("div",{className:"inline-flex items-center px-6 py-3 bg-white/10 backdrop-blur-md text-white rounded-full text-sm font-semibold mb-6 border border-white/20 shadow-lg",children:[r.jsx(st,{className:"h-4 w-4 mr-2"}),"Secure Payment Portal"]}),r.jsx("h1",{className:"text-4xl font-bold text-white mb-2 drop-shadow-lg",children:"Complete Your Payment"}),r.jsx("p",{className:"text-white/80",children:"Secure payment processing via Tech Processing LLC"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 mb-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:r.jsx(Be,{className:"h-8 w-8 text-white"})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:s.title}),s.description&&r.jsx("p",{className:"text-white/80",children:s.description})]}),r.jsxs("div",{className:"space-y-4 mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 backdrop-blur-sm rounded-xl border border-white/20",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(J,{className:"h-5 w-5 text-white/60 mr-3"}),r.jsx("span",{className:"text-white/80",children:"Client"})]}),r.jsx("span",{className:"font-semibold text-white",children:(b=s.client)==null?void 0:b.fullName})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 backdrop-blur-sm rounded-xl border border-white/20",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ee,{className:"h-5 w-5 text-white/60 mr-3"}),r.jsx("span",{className:"text-white/80",children:"Amount"})]}),r.jsxs("span",{className:"font-bold text-2xl text-green-400",children:["$",parseFloat(s.amount).toLocaleString()]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 backdrop-blur-sm rounded-xl border border-white/20",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(bt,{className:"h-5 w-5 text-white/60 mr-3"}),r.jsx("span",{className:"text-white/80",children:"Expires"})]}),r.jsx("span",{className:"font-semibold text-white",children:new Date(s.expires_at).toLocaleDateString()})]})]}),r.jsx("div",{className:"bg-blue-500/20 backdrop-blur-sm border border-blue-400/30 rounded-xl p-4 mb-8",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ki,{className:"h-5 w-5 text-blue-400 mr-3"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-blue-300",children:"Secure Payment Processing"}),r.jsx("p",{className:"text-sm text-blue-200 mt-1",children:"Your payment will be processed securely. We never store your card information."})]})]})}),r.jsxs("button",{onClick:x,disabled:l,className:"w-full relative overflow-hidden bg-gradient-to-r from-green-600 via-green-700 to-green-800 hover:from-green-500 hover:via-green-600 hover:to-green-700 text-white py-4 px-6 rounded-xl font-bold text-lg transition-all duration-300 shadow-lg hover:shadow-2xl transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center border border-green-500/30 group",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),l?r.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}):r.jsxs("span",{className:"relative flex items-center",children:[r.jsx(Be,{className:"h-5 w-5 mr-3"}),"Pay $",parseFloat(s.amount).toLocaleString()," Securely",r.jsx(Zx,{className:"h-5 w-5 ml-3"})]})]}),r.jsxs("div",{className:"text-center mt-6",children:[r.jsx("p",{className:"text-sm text-white/70 mb-3",children:"We accept:"}),r.jsx("div",{className:"flex justify-center space-x-4",children:["Visa","Mastercard","American Express","Discover"].map(v=>r.jsx("div",{className:"bg-white/10 backdrop-blur-sm px-3 py-2 rounded text-xs font-medium text-white/80 border border-white/20",children:v},v))})]})]}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-sm text-white/70",children:["Powered by"," ",r.jsx("span",{className:"font-bold text-white",children:"Tech Processing LLC"}),"  ",r.jsx("a",{href:"mailto:support@techprocessing.com",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Need help?"})]})})]})})}var ie=(e=>(e.PENDING="PENDING",e.APPROVED="APPROVED",e.REJECTED="REJECTED",e.RESUBMITTED="RESUBMITTED",e.PAID="PAID",e.CANCELLED="CANCELLED",e))(ie||{}),Rr=(e=>(e.PENDING="PENDING",e.APPROVED="APPROVED",e.PAID="PAID",e.CANCELLED="CANCELLED",e))(Rr||{});function r2({onClose:e,onSuccess:t}){var I;Tt();const[s,a]=f.useState(null),[n,i]=f.useState([]),[l,o]=f.useState(!1),[c,d]=f.useState(""),[u,m]=f.useState(""),[h,x]=f.useState(""),[b,v]=f.useState(""),[j,p]=f.useState(""),[g,y]=f.useState(""),[w,N]=f.useState(""),[k,C]=f.useState(""),[E,P]=f.useState(""),[A,T]=f.useState(""),[L,z]=f.useState(""),[G,M]=f.useState("");f.useEffect(()=>{q(),R()},[]);const q=async()=>{try{const U=await O.getOwnAgentProfile();a(U)}catch(U){console.error("Error fetching agent profile:",U),d("Failed to load agent profile")}},R=async()=>{try{const U=await O.getActiveClosers();i(U)}catch(U){console.error("Error fetching active closers:",U)}},S=()=>!s||!E?{agentCommission:0}:{agentCommission:parseFloat(E)*s.agentCommissionRate/100},D=async U=>{if(U.preventDefault(),!s){d("Agent profile not found");return}if(!u.trim()||!h.trim()||!w.trim()||!E.trim()){d("Please fill in all required fields");return}if(!j&&!g.trim()){d("Please select a closer or enter closer name");return}const Q=parseFloat(E);if(isNaN(Q)||Q<=0){d("Please enter a valid sale amount");return}try{o(!0),d("");const se={clientName:u.trim(),clientEmail:h.trim(),clientPhone:b.trim()||void 0,closerId:j||void 0,closerName:g.trim(),serviceName:w.trim(),serviceDescription:k.trim()||void 0,saleAmount:Q,saleDate:A||void 0,paymentDate:L||void 0,notes:G.trim()||void 0},Dt=await O.createAgentSale(se);t(Dt),e()}catch(se){console.error("Error creating sale:",se),d(se.message||"Failed to create sale. Please try again.")}finally{o(!1)}},{agentCommission:V}=S();return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add New Sale"}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:D,className:"p-6 space-y-6",children:[c&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsx("p",{className:"text-red-600 dark:text-red-300 text-sm",children:c})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(J,{className:"h-5 w-5 mr-2"}),"Client Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Client Name *"}),r.jsx("input",{type:"text",value:u,onChange:U=>m(U.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter client name",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Client Email *"}),r.jsx("input",{type:"email",value:h,onChange:U=>x(U.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter client email",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Client Phone"}),r.jsx("input",{type:"tel",value:b,onChange:U=>v(U.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter client phone"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Closer *"}),r.jsxs("select",{value:j,onChange:U=>{if(p(U.target.value),U.target.value){const Q=n.find(se=>se.id===U.target.value);y((Q==null?void 0:Q.closerName)||"")}else y("")},className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select a closer"}),n.map(U=>r.jsxs("option",{value:U.id,children:[U.closerName," (",U.closerCode,")"]},U.id))]}),j&&r.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Selected: ",(I=n.find(U=>U.id===j))==null?void 0:I.closerName]})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(Se,{className:"h-5 w-5 mr-2"}),"Service Information"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service Name *"}),r.jsx("input",{type:"text",value:w,onChange:U=>N(U.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter service name",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service Description"}),r.jsx("textarea",{value:k,onChange:U=>C(U.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter service description"})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(ee,{className:"h-5 w-5 mr-2"}),"Sale Details"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sale Amount *"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-2 text-gray-500 dark:text-gray-400",children:"$"}),r.jsx("input",{type:"number",value:E,onChange:U=>P(U.target.value),className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sale Date"}),r.jsx("input",{type:"date",value:A,onChange:U=>T(U.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Date"}),r.jsx("input",{type:"date",value:L,onChange:U=>z(U.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s&&E&&r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-3",children:"Your Commission Preview"}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-blue-600 dark:text-blue-300",children:["Your Commission (",s.agentCommissionRate,"%):"]}),r.jsxs("span",{className:"block font-medium text-blue-800 dark:text-blue-200 text-lg",children:["$",V.toFixed(2)]})]}),r.jsx("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-300",children:"Note: Closer commission will be calculated separately and managed by admin."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),r.jsx("textarea",{value:G,onChange:U=>M(U.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add any additional notes..."})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-slate-700",children:[r.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Creating...":"Create Sale"})]})]})]})})}function s2({originalSale:e,onClose:t,onSuccess:s}){Tt();const[a,n]=f.useState(null),[i,l]=f.useState(!1),[o,c]=f.useState(""),[d,u]=f.useState(e.clientName),[m,h]=f.useState(e.clientEmail),[x,b]=f.useState(e.clientPhone||""),[v,j]=f.useState(e.closerName),[p,g]=f.useState(e.serviceName),[y,w]=f.useState(e.serviceDescription||""),[N,k]=f.useState(e.saleAmount.toString()),[C,E]=f.useState(e.saleDate?new Date(e.saleDate).toISOString().split("T")[0]:""),[P,A]=f.useState(e.paymentDate?new Date(e.paymentDate).toISOString().split("T")[0]:""),[T,L]=f.useState("");f.useEffect(()=>{z()},[]);const z=async()=>{try{const R=await O.getOwnAgentProfile();n(R)}catch(R){console.error("Error fetching agent profile:",R),c("Failed to load agent profile")}},G=()=>!a||!N?{agentCommission:0}:{agentCommission:parseFloat(N)*a.agentCommissionRate/100},M=async R=>{if(R.preventDefault(),!a){c("Agent profile not found");return}if(!d.trim()||!m.trim()||!v.trim()||!p.trim()||!N.trim()){c("Please fill in all required fields");return}const S=parseFloat(N);if(isNaN(S)||S<=0){c("Please enter a valid sale amount");return}try{l(!0),c("");const D={originalSaleId:e.id,clientName:d.trim(),clientEmail:m.trim(),clientPhone:x.trim()||void 0,closerName:v.trim(),serviceName:p.trim(),serviceDescription:y.trim()||void 0,saleAmount:S,saleDate:C||void 0,paymentDate:P||void 0,notes:T.trim()||void 0},V=await O.resubmitAgentSale(D);s(V),t()}catch(D){console.error("Error resubmitting sale:",D),c(D.message||"Failed to resubmit sale. Please try again.")}finally{l(!1)}},{agentCommission:q}=G();return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Resubmit Sale"}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:["Original Sale: ",e.saleReference]})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsx("div",{className:"mx-6 mt-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Jx,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mr-2"}),r.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Please make the necessary changes to address the rejection feedback. All changes will be tracked and visible to the admin."})]})}),r.jsxs("form",{onSubmit:M,className:"p-6 space-y-6",children:[o&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsx("p",{className:"text-red-600 dark:text-red-300 text-sm",children:o})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(J,{className:"h-5 w-5 mr-2"}),"Client Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Client Name *"}),r.jsx("input",{type:"text",value:d,onChange:R=>u(R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter client name",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Client Email *"}),r.jsx("input",{type:"email",value:m,onChange:R=>h(R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter client email",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Client Phone"}),r.jsx("input",{type:"tel",value:x,onChange:R=>b(R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter client phone"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Closer Name *"}),r.jsx("input",{type:"text",value:v,onChange:R=>j(R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter closer name",required:!0})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(Se,{className:"h-5 w-5 mr-2"}),"Service Information"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service Name *"}),r.jsx("input",{type:"text",value:p,onChange:R=>g(R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter service name",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service Description"}),r.jsx("textarea",{value:y,onChange:R=>w(R.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter service description"})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[r.jsx(ee,{className:"h-5 w-5 mr-2"}),"Sale Details"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sale Amount *"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-2 text-gray-500 dark:text-gray-400",children:"$"}),r.jsx("input",{type:"number",value:N,onChange:R=>k(R.target.value),className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",step:"0.01",min:"0",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sale Date"}),r.jsx("input",{type:"date",value:C,onChange:R=>E(R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Date"}),r.jsx("input",{type:"date",value:P,onChange:R=>A(R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),a&&N&&r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-3",children:"Your Commission Preview"}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-blue-600 dark:text-blue-300",children:["Your Commission (",a.agentCommissionRate,"%):"]}),r.jsxs("span",{className:"block font-medium text-blue-800 dark:text-blue-200 text-lg",children:["$",q.toFixed(2)]})]}),r.jsx("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-300",children:"Note: Closer commission will be calculated separately and managed by admin."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes (Explain the changes made)"}),r.jsx("textarea",{value:T,onChange:R=>L(R.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Explain what changes you made to address the rejection feedback..."})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-slate-700",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Resubmitting...":"Resubmit Sale"})]})]})]})})}function a2(){const{user:e}=Tt(),[t,s]=f.useState(null),[a,n]=f.useState([]),[i,l]=f.useState(!0),[o,c]=f.useState(""),[d,u]=f.useState(!1),[m,h]=f.useState(!1),[x,b]=f.useState(null);f.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{l(!0),c("");const[k,C]=await Promise.all([O.getOwnAgentProfile(),O.getAgentSales()]);s(k),n(C)}catch(k){console.error("Error fetching agent data:",k),c("Failed to load agent data. Please try again.")}finally{l(!1)}},j=k=>{switch(k){case"APPROVED":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900/20";case"PENDING":return"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900/20";case"REJECTED":return"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900/20";case"PAID":return"text-blue-600 bg-blue-100 dark:text-blue-400 dark:bg-blue-900/20";case"CANCELLED":return"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900/20";default:return"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900/20"}},p=k=>{switch(k){case"PAID":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900/20";case"APPROVED":return"text-blue-600 bg-blue-100 dark:text-blue-400 dark:bg-blue-900/20";case"PENDING":return"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900/20";case"CANCELLED":return"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900/20"}},g=()=>{u(!1),v()},y=k=>{b(k),h(!0)},w=()=>{h(!1),b(null),v()},N=k=>a.some(C=>C.originalSaleId===k.id&&C.saleStatus===ie.RESUBMITTED);return i?r.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-slate-900 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 dark:bg-slate-700 rounded w-1/4 mb-6"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((k,C)=>r.jsx("div",{className:"h-32 bg-gray-200 dark:bg-slate-700 rounded-lg"},C))}),r.jsx("div",{className:"h-96 bg-gray-200 dark:bg-slate-700 rounded-lg"})]})})}):o?r.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-slate-900 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[r.jsx(Ut,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-red-800 dark:text-red-200 mb-2",children:"Error Loading Dashboard"}),r.jsx("p",{className:"text-red-600 dark:text-red-300 mb-4",children:o}),r.jsxs("button",{onClick:v,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})}):t?r.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-slate-900 p-6",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Agent Dashboard"}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Welcome back, ",t.salesPersonName,"! Here's your sales overview and recent activity."]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:r.jsx(yt,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Sales"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.totalSales})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:r.jsx(ee,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Sales Value"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",t.totalSalesValue.toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:r.jsx(J,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Earnings"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",t.totalEarnings.toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/20 rounded-lg",children:r.jsx(At,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Pending Commission"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",t.pendingCommission.toLocaleString()]})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Agent Profile"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Agent Code"}),r.jsx("p",{className:"text-lg text-gray-900 dark:text-white font-mono",children:t.agentCode})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Sales Person"}),r.jsx("p",{className:"text-lg text-gray-900 dark:text-white",children:t.salesPersonName})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Commission Rate"}),r.jsxs("p",{className:"text-lg text-gray-900 dark:text-white",children:[t.agentCommissionRate,"%"]})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Recent Sales"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-3 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[r.jsx(Je,{className:"h-4 w-4 mr-2"}),"Add Sale"]}),r.jsxs("button",{onClick:v,className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]})}),a.length===0?r.jsxs("div",{className:"p-12 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Je,{className:"h-6 w-6 text-gray-500 dark:text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No sales yet"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Start by adding your first sale to track your commissions."}),r.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[r.jsx(Je,{className:"h-4 w-4 mr-2"}),"Add First Sale"]})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-600",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Sale Reference"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Client"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Service"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Commission"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Commission Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-600",children:a.slice(0,10).map(k=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm font-mono text-gray-900 dark:text-white",children:k.saleReference})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{children:r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:k.clientName})})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:k.serviceName}),k.serviceDescription&&r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:k.serviceDescription})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",k.saleAmount.toLocaleString()]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",k.agentCommission.toLocaleString()]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j(k.saleStatus)}`,children:k.saleStatus})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(k.commissionStatus)}`,children:k.commissionStatus})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[k.saleStatus===ie.REJECTED&&!N(k)&&r.jsx("button",{onClick:()=>y(k),className:"inline-flex items-center px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Resubmit"}),k.saleStatus===ie.REJECTED&&N(k)&&r.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded",children:"Already Resubmitted"}),k.saleStatus===ie.RESUBMITTED&&r.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-orange-100 dark:bg-orange-900/20 text-orange-800 dark:text-orange-200 rounded",children:"Resubmitted"})]})]},k.id))})]})})]})]}),d&&r.jsx(r2,{onClose:()=>u(!1),onSuccess:g}),m&&x&&r.jsx(s2,{originalSale:x,onClose:()=>{h(!1),b(null)},onSuccess:w})]}):r.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-slate-900 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-6 text-center",children:[r.jsx(Ut,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"Agent Profile Not Found"}),r.jsx("p",{className:"text-yellow-600 dark:text-yellow-300",children:"Your agent profile has not been set up yet. Please contact your administrator."})]})})})}function n2(){const[e,t]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState("");f.useEffect(()=>{l()},[]);const l=async()=>{try{a(!0);const h=await O.getAgentMonthlyStats();t(h||[])}catch(h){console.error("Error fetching monthly stats:",h),i(h.message||"Failed to load monthly stats")}finally{a(!1)}};if(s)return r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-slate-700 rounded w-1/4 mb-4"}),r.jsx("div",{className:"space-y-3",children:[...Array(6)].map((h,x)=>r.jsx("div",{className:"h-12 bg-gray-200 dark:bg-slate-700 rounded"},x))})]})});if(n)return r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"text-center text-red-600 dark:text-red-400",children:[r.jsx("p",{children:n}),r.jsx("button",{onClick:l,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Retry"})]})});const o=e.find(h=>h.isCurrentMonth),c=e.find(h=>!h.isCurrentMonth),d=()=>{if(!o||!c)return{change:0,percentage:0};const h=o.totalCommission-c.totalCommission,x=c.totalCommission>0?h/c.totalCommission*100:0;return{change:h,percentage:x}},{change:u,percentage:m}=d();return r.jsxs("div",{className:"space-y-6",children:[o&&r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[r.jsx(bt,{className:"h-5 w-5 mr-2"}),o.monthName," ",o.year," Performance"]}),r.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-full",children:"Current Month"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(_s,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Sales"}),r.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:o.totalSales})]})]})}),r.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ee,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sales Value"}),r.jsxs("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["$",o.totalSalesValue.toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(yt,{className:"h-5 w-5 text-purple-600 dark:text-purple-400 mr-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Commission"}),r.jsxs("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["$",o.totalCommission.toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ee,{className:"h-5 w-5 text-orange-600 dark:text-orange-400 mr-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending"}),r.jsxs("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["$",o.pendingCommission.toLocaleString()]})]})]})})]}),c&&r.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["vs ",c.monthName," ",c.year]}),r.jsxs("div",{className:"flex items-center",children:[u>=0?r.jsx(yt,{className:"h-4 w-4 text-green-600 dark:text-green-400 mr-1"}):r.jsx(Bv,{className:"h-4 w-4 text-red-600 dark:text-red-400 mr-1"}),r.jsxs("span",{className:`text-sm font-medium ${u>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[u>=0?"+":"","$",u.toLocaleString()," (",m>=0?"+":"",m.toFixed(1),"%)"]})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"12-Month Commission History"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Month"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Sales"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Sales Value"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Commission"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Paid"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Pending"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:e.map((h,x)=>r.jsxs("tr",{className:h.isCurrentMonth?"bg-blue-50 dark:bg-blue-900/10":"",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[h.monthName," ",h.year]}),h.isCurrentMonth&&r.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 text-xs font-medium bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-full",children:"Current"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:h.totalSales}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["$",h.totalSalesValue.toLocaleString()]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:["$",h.totalCommission.toLocaleString()]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 dark:text-green-400",children:["$",h.paidCommission.toLocaleString()]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-orange-600 dark:text-orange-400",children:["$",h.pendingCommission.toLocaleString()]})]},`${h.year}-${h.month}`))})]})})]})]})}function i2(){const{user:e}=Tt(),[t,s]=f.useState(null),[a,n]=f.useState(!0),[i,l]=f.useState("");f.useEffect(()=>{e&&o()},[e]);const o=async()=>{try{n(!0),l("");const c=await O.getOwnAgentProfile();s(c)}catch(c){console.error("Error fetching agent data:",c),l("Failed to load agent data. Please try again.")}finally{n(!1)}};return a?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 dark:bg-slate-700 rounded w-1/4 mb-6"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((c,d)=>r.jsx("div",{className:"h-32 bg-gray-200 dark:bg-slate-700 rounded"},d))}),r.jsx("div",{className:"h-96 bg-gray-200 dark:bg-slate-700 rounded"})]})})}):i?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"text-center text-red-600 dark:text-red-400",children:[r.jsx("p",{className:"text-lg mb-4",children:i}),r.jsx("button",{onClick:o,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Retry"})]})})}):t?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(dr,{to:"/agent",className:"inline-flex items-center px-3 py-2 text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:[r.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Performance Dashboard"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Track your sales performance and commission history"})]})]}),r.jsxs("button",{onClick:o,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6 mb-8",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:t.salesPersonName}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Agent Code:"}),r.jsx("span",{className:"ml-2 font-mono text-gray-900 dark:text-white",children:t.agentCode})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Rate:"}),r.jsxs("span",{className:"ml-2 text-gray-900 dark:text-white",children:[t.agentCommissionRate,"%"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-semibold rounded-full ${t.isActive?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"}`,children:t.isActive?"Active":"Inactive"})]})]})]}),r.jsx("div",{className:"hidden md:block",children:r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",t.totalEarnings.toLocaleString()]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Earnings"})]})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:r.jsx(_s,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Sales"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.totalSales})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:r.jsx(ee,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Sales Value"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",t.totalSalesValue.toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:r.jsx(yt,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Earnings"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",t.totalEarnings.toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/20 rounded-lg",children:r.jsx(At,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Pending Commission"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",t.pendingCommission.toLocaleString()]})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6 mb-8",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(zv,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Performance Insights"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.totalSales>0?(t.totalEarnings/t.totalSalesValue*100).toFixed(1):"0","%"]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Commission Rate"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",t.totalSales>0?(t.totalSalesValue/t.totalSales).toFixed(0):"0"]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Average Sale Value"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",t.totalSales>0?(t.totalEarnings/t.totalSales).toFixed(0):"0"]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Average Commission per Sale"})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Cv,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Monthly Performance & Commission History"})]}),r.jsx(n2,{})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:" Performance Tips"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-700 dark:text-gray-300",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Track Your Progress:"})," Monitor your monthly performance to identify trends and set realistic goals."]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Focus on Quality:"})," Higher-value sales lead to better commissions and overall performance."]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Stay Consistent:"})," Regular sales activity helps maintain steady commission income."]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Review Rejections:"})," Learn from rejected sales to improve your submission quality."]})]})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx("div",{className:"text-center text-gray-600 dark:text-gray-400",children:r.jsx("p",{children:"Agent profile not found."})})})})}function l2({agent:e,onClose:t,onSuccess:s}){const[a,n]=f.useState(!1),[i,l]=f.useState(""),[o,c]=f.useState(e.agentCommissionRate),[d,u]=f.useState(e.closerCommissionRate),m=async h=>{if(h.preventDefault(),o<0||o>100){l("Agent commission rate must be between 0 and 100");return}if(d<0||d>100){l("Closer commission rate must be between 0 and 100");return}try{n(!0),l(""),await O.updateAgentCommissionRates(e.id,o,d),s(),t()}catch(x){console.error("Error updating commission rates:",x),l(x.message||"Failed to update commission rates. Please try again.")}finally{n(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Update Commission Rates"}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:["Agent: ",e.salesPersonName]})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[i&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsx("p",{className:"text-red-600 dark:text-red-300 text-sm",children:i})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Agent Commission Rate (%)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",value:o,onChange:h=>c(parseFloat(h.target.value)||0),className:"w-full pr-8 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",step:"0.01",min:"0",max:"100",required:!0}),r.jsx("span",{className:"absolute right-3 top-2 text-gray-500 dark:text-gray-400",children:r.jsx(Si,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"This is the percentage the agent receives from each sale"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Closer Commission Rate (%)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",value:d,onChange:h=>u(parseFloat(h.target.value)||0),className:"w-full pr-8 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",step:"0.01",min:"0",max:"100",required:!0}),r.jsx("span",{className:"absolute right-3 top-2 text-gray-500 dark:text-gray-400",children:r.jsx(Si,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"This is the percentage the closer receives from each sale"})]}),r.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[r.jsx("strong",{children:"Note:"})," Changing commission rates will automatically recalculate commissions for all pending and resubmitted sales for this agent."]})}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-slate-700",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Updating...":"Update Rates"})]})]})]})})}const o2=()=>{const[e,t]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState("ALL"),[l,o]=f.useState(""),[c,d]=f.useState(null),[u,m]=f.useState(!1),[h,x]=f.useState(!1),[b,v]=f.useState(!1),[j,p]=f.useState(!1),[g,y]=f.useState(!1),[w,N]=f.useState(null),[k,C]=f.useState(""),[E,P]=f.useState("");f.useEffect(()=>{A()},[]);const A=async()=>{try{a(!0);const I=await O.getAllAgentSales();t(I||[])}catch(I){console.error("Error fetching agent sales:",I)}finally{a(!1)}},T=async(I,U)=>{try{await O.updateSaleStatus(I,U),await A()}catch(Q){console.error("Error updating sale status:",Q)}},L=async(I,U)=>{try{await O.updateCommissionStatus(I,U),await A()}catch(Q){console.error("Error updating commission status:",Q)}},z=async()=>{if(!(!c||!k.trim()))try{await O.updateAgentSaleNotes(c.id,k),m(!1),C(""),d(null),await A()}catch(I){console.error("Error adding notes:",I)}},G=I=>{d(I),C(I.notes||""),m(!0)},M=I=>{d(I),p(!0)},q=I=>{N(I),y(!0)},R=async()=>{if(c)try{await O.updateSaleStatus(c.id,ie.REJECTED),E.trim()&&await O.updateAgentSaleNotes(c.id,`REJECTION FEEDBACK: ${E}`),v(!1),P(""),d(null),await A()}catch(I){console.error("Error rejecting sale:",I)}},S=e.filter(I=>{const U=n==="ALL"||I.saleStatus===n,Q=l===""||I.clientName.toLowerCase().includes(l.toLowerCase())||I.saleReference.toLowerCase().includes(l.toLowerCase())||I.serviceName.toLowerCase().includes(l.toLowerCase());return U&&Q}),D=I=>{switch(I){case ie.PENDING:return"bg-yellow-100 text-yellow-800";case ie.APPROVED:return"bg-green-100 text-green-800";case ie.REJECTED:return"bg-red-100 text-red-800";case ie.RESUBMITTED:return"bg-orange-100 text-orange-800";case ie.PAID:return"bg-blue-100 text-blue-800";case ie.CANCELLED:return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},V=I=>{switch(I){case Rr.PENDING:return"bg-yellow-100 text-yellow-800";case Rr.APPROVED:return"bg-green-100 text-green-800";case Rr.PAID:return"bg-blue-100 text-blue-800";case Rr.CANCELLED:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-between items-center",children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Agent Sales Management"})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status Filter"}),r.jsxs("select",{value:n,onChange:I=>i(I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-white",children:[r.jsx("option",{value:"ALL",children:"All Statuses"}),r.jsx("option",{value:ie.PENDING,children:"Pending"}),r.jsx("option",{value:ie.APPROVED,children:"Approved"}),r.jsx("option",{value:ie.REJECTED,children:"Rejected"}),r.jsx("option",{value:ie.RESUBMITTED,children:"Resubmitted"}),r.jsx("option",{value:ie.PAID,children:"Paid"}),r.jsx("option",{value:ie.CANCELLED,children:"Cancelled"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),r.jsx("input",{type:"text",placeholder:"Search by client name, reference, or service...",value:l,onChange:I=>o(I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-white"})]})]})}),r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Sale Details"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Agent & Closer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Client Info"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Financial"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:S.map(I=>{var U,Q;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white flex items-center",children:[I.saleReference,I.notes&&r.jsx("span",{className:"ml-2 text-blue-600 dark:text-blue-400",title:"Has notes",children:""}),I.saleStatus===ie.RESUBMITTED&&r.jsx("span",{className:"ml-2 text-orange-600 dark:text-orange-400",title:"Resubmitted",children:""}),I.resubmissionCount&&I.resubmissionCount>0&&r.jsxs("span",{className:"ml-1 text-xs text-gray-500 dark:text-gray-400",children:["(Resubmission #",I.resubmissionCount,")"]})]}),r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:I.serviceName}),r.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:new Date(I.createdAt).toLocaleDateString()})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white flex items-center",children:["Agent: ",((U=I.agent)==null?void 0:U.salesPersonName)||"N/A",I.agent&&r.jsx("button",{onClick:()=>q(I.agent),className:"ml-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",title:"Adjust Commission Rates",children:r.jsx(Ei,{className:"h-3 w-3"})})]}),r.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:["Closer: ",I.closerName||"N/A"]}),r.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Code: ",((Q=I.agent)==null?void 0:Q.agentCode)||"N/A"]}),I.agent&&r.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Rates: ",I.agent.agentCommissionRate,"% / ",I.agent.closerCommissionRate,"%"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:I.clientName}),r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:I.clientEmail}),I.clientPhone&&r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:I.clientPhone})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:["$",I.saleAmount]}),r.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:["Agent: $",I.agentCommission]}),r.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:["Closer: $",I.closerCommission]}),I.notes&&r.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:" Has notes"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${D(I.saleStatus)}`,children:I.saleStatus}),r.jsx("br",{}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${V(I.commissionStatus)}`,children:I.commissionStatus})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"space-y-2",children:[I.saleStatus===ie.PENDING&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("button",{onClick:()=>T(I.id,ie.APPROVED),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 mr-2",children:"Approve"}),r.jsx("button",{onClick:()=>{d(I),v(!0)},className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Reject"})]}),I.saleStatus===ie.APPROVED&&I.commissionStatus===Rr.PENDING&&r.jsx("button",{onClick:()=>L(I.id,Rr.APPROVED),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Approve Commission"}),I.saleStatus===ie.RESUBMITTED&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("button",{onClick:()=>T(I.id,ie.APPROVED),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 mr-2",children:"Approve"}),r.jsx("button",{onClick:()=>{d(I),v(!0)},className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Reject"}),I.changesMade&&Object.keys(I.changesMade).length>0&&r.jsx("button",{onClick:()=>M(I),className:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300",title:"View Changes",children:"View Changes"})]}),r.jsxs("div",{className:"flex space-x-1",children:[I.notes&&r.jsx("button",{onClick:()=>{d(I),x(!0)},className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"View Notes",children:""}),r.jsx("button",{onClick:()=>G(I),className:"text-purple-600 hover:text-purple-900 dark:text-purple-400 dark:hover:text-purple-300",title:"Edit Notes",children:r.jsx(Iv,{className:"h-4 w-4"})})]})]})})]},I.id)})})]})})}),S.length===0&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No sales found matching your criteria."})}),u&&c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Add Notes"}),r.jsx("button",{onClick:()=>{m(!1),d(null),C("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Notes for ",c.saleReference]}),r.jsx("textarea",{value:k,onChange:I=>C(I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-white",rows:6,placeholder:"Add or edit admin notes..."}),c.notes&&r.jsx("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Previous notes will be replaced with new content"})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{m(!1),d(null),C("")},className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"}),r.jsx("button",{onClick:z,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:"Add Notes"})]})]})]})}),h&&c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"View Notes"}),r.jsx("button",{onClick:()=>{x(!1),d(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Notes for ",c.saleReference]}),r.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white min-h-[100px] whitespace-pre-wrap",children:c.notes})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>{x(!1),d(null)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})]})}),b&&c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Reject Sale"}),r.jsx("button",{onClick:()=>{v(!1),d(null),P("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rejection Feedback (Optional)"}),r.jsx("textarea",{value:E,onChange:I=>P(I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-white",rows:4,placeholder:"Provide feedback for rejection..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{v(!1),d(null),P("")},className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"}),r.jsx("button",{onClick:R,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Reject Sale"})]})]})]})}),j&&c&&c.changesMade&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Changes Made"}),r.jsx("button",{onClick:()=>{p(!1),d(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Changes made to ",c.saleReference," (Resubmission #",c.resubmissionCount||1,")"]}),r.jsx("div",{className:"space-y-4",children:Object.entries(c.changesMade).map(([I,U])=>r.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2 capitalize",children:I.replace(/([A-Z])/g," $1").trim()}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:"From:"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300 mt-1",children:U.from||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"To:"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300 mt-1",children:U.to||"N/A"})]})]})]},I))})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>{p(!1),d(null)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})]})}),g&&w&&r.jsx(l2,{agent:w,onClose:()=>{y(!1),N(null)},onSuccess:()=>{A()}})]})};function c2({onClose:e,onSuccess:t}){const[s,a]=f.useState(!1),[n,i]=f.useState(""),[l,o]=f.useState({closerCode:"",closerName:"",commissionRate:10,status:"ACTIVE",email:"",phone:"",notes:""}),c=async u=>{if(u.preventDefault(),!l.closerCode.trim()||!l.closerName.trim()){i("Closer code and name are required");return}if(l.commissionRate<0||l.commissionRate>100){i("Commission rate must be between 0 and 100");return}try{a(!0),i(""),await O.createCloser(l),t(),e()}catch(m){console.error("Error creating closer:",m),i(m.message||"Failed to create closer")}finally{a(!1)}},d=(u,m)=>{o(h=>({...h,[u]:m})),i("")};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add New Closer"}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:c,className:"p-6 space-y-6",children:[n&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:n})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r.jsx(J,{className:"h-4 w-4 inline mr-2"}),"Closer Code *"]}),r.jsx("input",{type:"text",value:l.closerCode,onChange:u=>d("closerCode",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"e.g., CL001",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r.jsx(J,{className:"h-4 w-4 inline mr-2"}),"Closer Name *"]}),r.jsx("input",{type:"text",value:l.closerName,onChange:u=>d("closerName",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter closer name",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r.jsx(Si,{className:"h-4 w-4 inline mr-2"}),"Commission Rate (%) *"]}),r.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:l.commissionRate,onChange:u=>d("commissionRate",parseFloat(u.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"10.00",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),r.jsxs("select",{value:l.status,onChange:u=>d("status",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[r.jsx("option",{value:"ACTIVE",children:"Active"}),r.jsx("option",{value:"INACTIVE",children:"Inactive"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r.jsx(nt,{className:"h-4 w-4 inline mr-2"}),"Email"]}),r.jsx("input",{type:"email",value:l.email,onChange:u=>d("email",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"closer@example.com"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r.jsx(Qr,{className:"h-4 w-4 inline mr-2"}),"Phone"]}),r.jsx("input",{type:"tel",value:l.phone,onChange:u=>d("phone",u.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"+1 (555) 123-4567"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r.jsx(Se,{className:"h-4 w-4 inline mr-2"}),"Notes"]}),r.jsx("textarea",{value:l.notes,onChange:u=>d("notes",u.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Additional notes about the closer..."})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",disabled:s,children:"Cancel"}),r.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating...":"Create Closer"})]})]})]})})}function d2({closer:e,onClose:t,onSuccess:s}){const[a,n]=f.useState(!1),[i,l]=f.useState(""),[o,c]=f.useState({closerCode:"",closerName:"",commissionRate:10,status:"ACTIVE",email:"",phone:"",notes:""});f.useEffect(()=>{e&&c({closerCode:e.closerCode||"",closerName:e.closerName||"",commissionRate:e.commissionRate||10,status:e.status||"ACTIVE",email:e.email||"",phone:e.phone||"",notes:e.notes||""})},[e]);const d=async m=>{if(m.preventDefault(),!o.closerCode.trim()||!o.closerName.trim()){l("Closer code and name are required");return}if(o.commissionRate<0||o.commissionRate>100){l("Commission rate must be between 0 and 100");return}try{n(!0),l(""),await O.updateCloser(e.id,o),s(),t()}catch(h){console.error("Error updating closer:",h),l(h.message||"Failed to update closer")}finally{n(!1)}},u=(m,h)=>{c(x=>({...x,[m]:h})),l("")};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Edit Closer"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[i&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:r.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:i})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r.jsx(J,{className:"h-4 w-4 inline mr-2"}),"Closer Code *"]}),r.jsx("input",{type:"text",value:o.closerCode,onChange:m=>u("closerCode",m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"e.g., CL001",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r.jsx(J,{className:"h-4 w-4 inline mr-2"}),"Closer Name *"]}),r.jsx("input",{type:"text",value:o.closerName,onChange:m=>u("closerName",m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter closer name",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r.jsx(Si,{className:"h-4 w-4 inline mr-2"}),"Commission Rate (%) *"]}),r.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:o.commissionRate,onChange:m=>u("commissionRate",parseFloat(m.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"10.00",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),r.jsxs("select",{value:o.status,onChange:m=>u("status",m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[r.jsx("option",{value:"ACTIVE",children:"Active"}),r.jsx("option",{value:"INACTIVE",children:"Inactive"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r.jsx(nt,{className:"h-4 w-4 inline mr-2"}),"Email"]}),r.jsx("input",{type:"email",value:o.email,onChange:m=>u("email",m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"closer@example.com"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r.jsx(Qr,{className:"h-4 w-4 inline mr-2"}),"Phone"]}),r.jsx("input",{type:"tel",value:o.phone,onChange:m=>u("phone",m.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"+1 (555) 123-4567"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r.jsx(Se,{className:"h-4 w-4 inline mr-2"}),"Notes"]}),r.jsx("textarea",{value:o.notes,onChange:m=>u("notes",m.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Additional notes about the closer..."})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",disabled:a,children:"Cancel"}),r.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Updating...":"Update Closer"})]})]})]})})}function u2({closer:e,onClose:t}){const{user:s}=Tt(),[a,n]=f.useState(!0),[i,l]=f.useState(""),[o,c]=f.useState(null),[d,u]=f.useState([]);f.useEffect(()=>{m(),h()},[e.id]);const m=async()=>{var x;try{if(n(!0),console.log("Fetching stats for closer:",e.id),console.log("Current user:",s),!s||s.role!=="ADMIN"){l("You must be logged in as an admin to view closer statistics");return}const b=await O.getCloserStats(e.id);console.log("Closer stats received:",b),c(b)}catch(b){console.error("Error fetching closer stats:",b),console.error("Error details:",b.response||b.message),((x=b.response)==null?void 0:x.status)===401?l("Authentication required. Please log in as an admin."):l("Failed to load closer statistics")}finally{n(!1)}},h=async()=>{try{const x=await O.getCloserSales(e.id);u(x)}catch(x){console.error("Error fetching closer sales:",x)}};return a?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full p-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-slate-700 rounded w-1/3 mb-4"}),r.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[...Array(4)].map((x,b)=>r.jsx("div",{className:"h-20 bg-gray-200 dark:bg-slate-700 rounded"},b))}),r.jsx("div",{className:"h-64 bg-gray-200 dark:bg-slate-700 rounded"})]})})}):r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Closer Statistics"}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[e.closerName," (",e.closerCode,")"]})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:r.jsx(Z,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"p-6",children:[i&&r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:[r.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:i}),r.jsx("button",{onClick:m,className:"mt-2 px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors",children:"Retry"})]}),!o&&!a&&r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No statistics available for this closer."})}),o&&o.closer&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/40 rounded-lg",children:r.jsx(Et,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Total Sales"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:o.totalSales||0})]})]})}),r.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/40 rounded-lg",children:r.jsx(ee,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Sales Value"}),r.jsxs("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:["$",(o.totalSalesValue||0).toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/40 rounded-lg",children:r.jsx(yt,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:"Total Commission"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:["$",(o.totalCommission||0).toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/40 rounded-lg",children:r.jsx(bt,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Pending"}),r.jsxs("p",{className:"text-2xl font-bold text-orange-900 dark:text-orange-100",children:["$",(o.pendingCommission||0).toLocaleString()]})]})]})})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Commission Breakdown"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:["$",(o.paidCommission||0).toLocaleString()]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Paid Commission"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:["$",(o.pendingCommission||0).toLocaleString()]}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending Commission"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:o.totalSales||0}),r.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Sales"})]})]})]}),d.length>0&&r.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Sales Details (",d.length," sales)"]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total: $",d.reduce((x,b)=>x+Number(b.saleAmount),0).toLocaleString()]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-600",children:[r.jsx("thead",{className:"bg-gray-100 dark:bg-slate-600",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Agent"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Client"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Service"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Commission"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Sale Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Commission Status"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-slate-700 divide-y divide-gray-200 dark:divide-slate-600",children:d.map(x=>{var b;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-600",children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(x.saleDate||x.createdAt).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:((b=x.agent)==null?void 0:b.salesPersonName)||"N/A"}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:x.clientName}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:x.serviceName}),r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["$",Number(x.saleAmount).toLocaleString()]}),r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["$",Number(x.closerCommission).toLocaleString()]}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x.saleStatus==="APPROVED"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":x.saleStatus==="PENDING"?"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"}`,children:x.saleStatus})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x.commissionStatus==="PAID"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":x.commissionStatus==="APPROVED"?"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200":"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200"}`,children:x.commissionStatus})})]},x.id)})})]})})]}),d.length===0&&r.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-6 text-center",children:r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No sales found for this closer."})})]})]})]})})}function m2(){const[e,t]=f.useState([]),[s,a]=f.useState([]),[n,i]=f.useState(!0),[l,o]=f.useState(""),[c,d]=f.useState(""),[u,m]=f.useState("ALL"),[h,x]=f.useState(!1),[b,v]=f.useState(!1),[j,p]=f.useState(!1),[g,y]=f.useState(!1),[w,N]=f.useState(null),[k,C]=f.useState({startDate:"",endDate:""}),[E,P]=f.useState(""),[A,T]=f.useState({min:"",max:""});f.useEffect(()=>{L(),z()},[]);const L=async()=>{try{i(!0);const S=await O.getAllClosers();t(S)}catch(S){console.error("Error fetching closers:",S),o("Failed to load closers")}finally{i(!1)}},z=async()=>{try{const S=await O.getAllClosersStats();a(S)}catch(S){console.error("Error fetching closer stats:",S)}},G=async()=>{try{const S={};k.startDate&&k.endDate&&(S.startDate=k.startDate,S.endDate=k.endDate),E&&(S.month=E),(A.min||A.max)&&(A.min&&(S.minCommission=parseFloat(A.min)),A.max&&(S.maxCommission=parseFloat(A.max)));const D=await O.getFilteredCloserStats(S);a(D)}catch(S){console.error("Error fetching filtered closer stats:",S)}},M=async S=>{if(window.confirm("Are you sure you want to delete this closer?"))try{await O.deleteCloser(S),await L(),await z()}catch(D){console.error("Error deleting closer:",D),alert("Failed to delete closer: "+D.message)}},q=e.filter(S=>{const D=S.closerName.toLowerCase().includes(c.toLowerCase())||S.closerCode.toLowerCase().includes(c.toLowerCase()),V=u==="ALL"||S.status===u;return D&&V}),R=S=>s.find(D=>D.closer.id===S);return n?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 dark:bg-slate-700 rounded w-1/4 mb-6"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[...Array(3)].map((S,D)=>r.jsx("div",{className:"h-32 bg-gray-200 dark:bg-slate-700 rounded"},D))}),r.jsx("div",{className:"h-96 bg-gray-200 dark:bg-slate-700 rounded"})]})})}):l?r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"text-center text-red-600 dark:text-red-400",children:[r.jsx("p",{className:"text-lg mb-4",children:l}),r.jsx("button",{onClick:L,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Retry"})]})})}):r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Closer Management"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage closers and track their performance"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>{N(null),x(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Je,{className:"h-4 w-4 mr-2"}),"Add Closer"]}),r.jsx("button",{onClick:()=>{L(),z()},className:"inline-flex items-center px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:r.jsx(Oe,{className:"h-4 w-4"})})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:r.jsx(Et,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Closers"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.length})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:r.jsx(yt,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Active Closers"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.filter(S=>S.status==="ACTIVE").length})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:r.jsx(ee,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Commission"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",s.reduce((S,D)=>S+D.totalCommission,0).toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/20 rounded-lg",children:r.jsx(bt,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Pending Commission"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",s.reduce((S,D)=>S+D.pendingCommission,0).toLocaleString()]})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-4 mb-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search closers...",value:c,onChange:S=>d(S.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),r.jsxs("select",{value:u,onChange:S=>m(S.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[r.jsx("option",{value:"ALL",children:"All Status"}),r.jsx("option",{value:"ACTIVE",children:"Active"}),r.jsx("option",{value:"INACTIVE",children:"Inactive"})]}),r.jsxs("button",{onClick:()=>y(!g),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[r.jsx(ef,{className:"h-4 w-4"}),r.jsx("span",{children:"Advanced Filters"})]})]}),r.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[q.length," of ",e.length," closers"]})]}),g&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-slate-700",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date"}),r.jsx("input",{type:"date",value:k.startDate,onChange:S=>C(D=>({...D,startDate:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Date"}),r.jsx("input",{type:"date",value:k.endDate,onChange:S=>C(D=>({...D,endDate:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Month"}),r.jsx("input",{type:"month",value:E,onChange:S=>P(S.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Commission Range"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"number",placeholder:"Min",value:A.min,onChange:S=>T(D=>({...D,min:S.target.value})),className:"w-1/2 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"}),r.jsx("input",{type:"number",placeholder:"Max",value:A.max,onChange:S=>T(D=>({...D,max:S.target.value})),className:"w-1/2 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-4",children:[r.jsx("button",{onClick:()=>{C({startDate:"",endDate:""}),P(""),T({min:"",max:""}),z()},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:"Clear Filters"}),r.jsxs("button",{onClick:G,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[r.jsx(Oe,{className:"h-4 w-4"}),r.jsx("span",{children:"Apply Filters"})]})]})]})]}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Closer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Commission Rate"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Performance"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Commission"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:q.map(S=>{const D=R(S.id);return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:S.closerName}),r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:S.closerCode})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[S.commissionRate,"%"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S.status==="ACTIVE"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"}`,children:S.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:D?r.jsxs("div",{children:[r.jsxs("div",{children:[D.totalSales," sales"]}),r.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:["$",D.totalSalesValue.toLocaleString()]})]}):r.jsx("span",{className:"text-gray-400",children:"No data"})})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:D?r.jsxs("div",{children:[r.jsxs("div",{children:["$",D.totalCommission.toLocaleString()]}),r.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:["$",D.pendingCommission.toLocaleString()," pending"]})]}):r.jsx("span",{className:"text-gray-400",children:"No data"})})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx("button",{onClick:()=>{N(S),p(!0)},className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"View Stats",children:r.jsx(nn,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>{N(S),v(!0)},className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300",title:"Edit",children:r.jsx(Ga,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>M(S.id),className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",title:"Delete",children:r.jsx(Gs,{className:"h-4 w-4"})})]})})]},S.id)})})]})})}),h&&r.jsx(c2,{onClose:()=>x(!1),onSuccess:()=>{L(),z()}}),b&&w&&r.jsx(d2,{closer:w,onClose:()=>{v(!1),N(null)},onSuccess:()=>{L(),z()}}),j&&w&&r.jsx(u2,{closer:w,onClose:()=>{p(!1),N(null)}})]})})}function h2(){const[e,t]=f.useState([]),[s,a]=f.useState([]),[n,i]=f.useState(!1),[l,o]=f.useState(""),[c,d]=f.useState(!1),[u,m]=f.useState({startDate:"",endDate:""});f.useEffect(()=>{h()},[]);const h=async()=>{try{const w=await O.getAllClosers();t(w)}catch(w){console.error("Error fetching closers:",w),o("Failed to load closers")}},x=async()=>{try{i(!0);const w=await O.getCloserAuditData(u);a(w)}catch(w){console.error("Error fetching audit data:",w),o("Failed to load audit data")}finally{i(!1)}},b=(w,N)=>{m(k=>({...k,[w]:N}))},v=()=>{m({startDate:"",endDate:""})},j=()=>{const w=p(s),N=new Blob([w],{type:"text/csv"}),k=window.URL.createObjectURL(N),C=document.createElement("a");C.href=k,C.download=`closer-audit-${new Date().toISOString().split("T")[0]}.csv`,C.click(),window.URL.revokeObjectURL(k)},p=w=>{const N=["Date","Closer Name","Agent Name","Client Name","Service","Sale Amount","Closer Commission","Agent Commission","Sale Status","Commission Status","Notes"],k=w.map(C=>{var E;return[C.saleDate||C.createdAt,C.closerName,((E=C.agent)==null?void 0:E.salesPersonName)||"N/A",C.clientName,C.serviceName,C.saleAmount,C.closerCommission,C.agentCommission,C.saleStatus,C.commissionStatus,C.notes||""]});return[N,...k].map(C=>C.join(",")).join(`
`)},y=(()=>{const w=s.length,N=s.reduce((P,A)=>P+Number(A.saleAmount),0),k=s.reduce((P,A)=>P+Number(A.closerCommission),0),C=s.reduce((P,A)=>P+Number(A.agentCommission),0),E=s.filter(P=>P.commissionStatus==="PAID").length;return{totalSales:w,totalAmount:N,totalCloserCommission:k,totalAgentCommission:C,paidCommissions:E}})();return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Closer & Agent Audit"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Comprehensive audit and analysis of closer and agent activities"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:r.jsx(Et,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Total Sales"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:y.totalSales})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:r.jsx(ee,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Total Amount"}),r.jsxs("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:["$",y.totalAmount.toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:r.jsx(yt,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:"Closer Commission"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:["$",y.totalCloserCommission.toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/20 rounded-lg",children:r.jsx(_s,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Agent Commission"}),r.jsxs("p",{className:"text-2xl font-bold text-orange-900 dark:text-orange-100",children:["$",y.totalAgentCommission.toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/20 rounded-lg",children:r.jsx(Se,{className:"h-6 w-6 text-emerald-600 dark:text-emerald-400"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400",children:"Paid Commissions"}),r.jsx("p",{className:"text-2xl font-bold text-emerald-900 dark:text-emerald-100",children:y.paidCommissions})]})]})})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Audit Filters"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:()=>d(!c),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[r.jsx(ef,{className:"h-4 w-4"}),r.jsxs("span",{children:[c?"Hide":"Show"," Filters"]})]}),r.jsxs("button",{onClick:x,disabled:n,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[r.jsx(Oe,{className:`h-4 w-4 ${n?"animate-spin":""}`}),r.jsx("span",{children:"Run Audit"})]}),r.jsxs("button",{onClick:j,disabled:s.length===0,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[r.jsx(Ws,{className:"h-4 w-4"}),r.jsx("span",{children:"Export CSV"})]})]})]}),c&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Closer"}),r.jsxs("select",{value:u.closerId||"",onChange:w=>b("closerId",w.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[r.jsx("option",{value:"",children:"All Closers"}),e.map(w=>r.jsx("option",{value:w.id,children:w.closerName},w.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date"}),r.jsx("input",{type:"date",value:u.startDate,onChange:w=>b("startDate",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Date"}),r.jsx("input",{type:"date",value:u.endDate,onChange:w=>b("endDate",w.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sale Status"}),r.jsxs("select",{value:u.saleStatus||"",onChange:w=>b("saleStatus",w.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"PENDING",children:"Pending"}),r.jsx("option",{value:"APPROVED",children:"Approved"}),r.jsx("option",{value:"REJECTED",children:"Rejected"}),r.jsx("option",{value:"PAID",children:"Paid"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Commission Status"}),r.jsxs("select",{value:u.commissionStatus||"",onChange:w=>b("commissionStatus",w.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"PENDING",children:"Pending"}),r.jsx("option",{value:"APPROVED",children:"Approved"}),r.jsx("option",{value:"PAID",children:"Paid"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Min Amount"}),r.jsx("input",{type:"number",placeholder:"0",value:u.minAmount||"",onChange:w=>b("minAmount",w.target.value?Number(w.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Max Amount"}),r.jsx("input",{type:"number",placeholder:"",value:u.maxAmount||"",onChange:w=>b("maxAmount",w.target.value?Number(w.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:v,className:"w-full px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:"Clear Filters"})})]})]}),r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Audit Results (",s.length," records)"]})}),n?r.jsxs("div",{className:"p-6 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading audit data..."})]}):l?r.jsx("div",{className:"p-6 text-center text-red-600 dark:text-red-400",children:r.jsx("p",{children:l})}):s.length===0?r.jsx("div",{className:"p-6 text-center text-gray-600 dark:text-gray-400",children:r.jsx("p",{children:'No audit data found. Use the filters above and click "Run Audit" to get started.'})}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Closer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Agent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Client"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Service"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Closer Commission"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Agent Commission"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Sale Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Commission Status"})]})}),r.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:s.map(w=>{var N;return r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(w.saleDate||w.createdAt).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:w.closerName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:((N=w.agent)==null?void 0:N.salesPersonName)||"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:w.clientName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:w.serviceName}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["$",Number(w.saleAmount).toLocaleString()]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["$",Number(w.closerCommission).toLocaleString()]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["$",Number(w.agentCommission).toLocaleString()]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.saleStatus==="APPROVED"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":w.saleStatus==="PENDING"?"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200"}`,children:w.saleStatus})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.commissionStatus==="PAID"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":w.commissionStatus==="APPROVED"?"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200":"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200"}`,children:w.commissionStatus})})]},w.id)})})]})})]})]})})}function x2(){return r.jsx(Xv,{children:r.jsx(Qv,{children:r.jsx(Jv,{children:r.jsx(Kv,{children:r.jsx(pv,{children:r.jsxs(dv,{children:[r.jsx(te,{path:"/",element:r.jsx(Dk,{})}),r.jsx(te,{path:"/login",element:r.jsx(Tk,{})}),r.jsx(te,{path:"/payment/:invoiceId",element:r.jsx(he,{requiredRole:"CLIENT",children:r.jsx(e2,{})})}),r.jsx(te,{path:"/payment-link/:token",element:r.jsx(t2,{})}),r.jsx(te,{path:"/dashboard",element:r.jsx(he,{children:r.jsx(f2,{})})}),r.jsx(te,{path:"/admin",element:r.jsx(he,{requiredRole:"ADMIN",children:r.jsx(ve,{children:r.jsx(Lk,{})})})}),r.jsx(te,{path:"/admin/invoices",element:r.jsx(he,{requiredRole:"ADMIN",children:r.jsx(ve,{children:r.jsx(Mk,{})})})}),r.jsx(te,{path:"/admin/services",element:r.jsx(he,{requiredRole:"ADMIN",children:r.jsx(ve,{children:r.jsx(Fk,{})})})}),r.jsx(te,{path:"/admin/payment-links",element:r.jsx(he,{requiredRole:"ADMIN",children:r.jsx(ve,{children:r.jsx(Vk,{})})})}),r.jsx(te,{path:"/admin/subscriptions",element:r.jsx(he,{requiredRole:"ADMIN",children:r.jsx(ve,{children:r.jsx($k,{})})})}),r.jsx(te,{path:"/admin/refunds",element:r.jsx(he,{requiredRole:"ADMIN",children:r.jsx(ve,{children:r.jsx(Bk,{})})})}),r.jsx(te,{path:"/admin/clients",element:r.jsx(he,{requiredRole:"ADMIN",children:r.jsx(ve,{children:r.jsx(Gk,{})})})}),r.jsx(te,{path:"/admin/clients/:clientId",element:r.jsx(he,{requiredRole:"ADMIN",children:r.jsx(ve,{children:r.jsx(Xk,{})})})}),r.jsx(te,{path:"/admin/users",element:r.jsx(he,{requiredRole:"ADMIN",children:r.jsx(ve,{children:r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Et,{className:"h-6 w-6 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-blue-800",children:"User Management Moved"}),r.jsx("p",{className:"text-blue-700 mt-1",children:"User management has been consolidated into Client Management for better workflow."}),r.jsx("div",{className:"mt-3",children:r.jsxs(Ni,{to:"/admin/clients",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Et,{className:"h-4 w-4 mr-2"}),"Go to Client Management"]})})]})]})})})})})}),r.jsx(te,{path:"/admin/payments",element:r.jsx(he,{requiredRole:"ADMIN",children:r.jsx(ve,{children:r.jsx(Yk,{})})})}),r.jsx(te,{path:"/admin/audit",element:r.jsx(he,{requiredRole:"ADMIN",children:r.jsx(ve,{children:r.jsx(Kk,{})})})}),r.jsx(te,{path:"/admin/settings",element:r.jsx(he,{requiredRole:"ADMIN",children:r.jsx(ve,{children:r.jsx(Qk,{})})})}),r.jsx(te,{path:"/admin/agent-sales",element:r.jsx(he,{requiredRole:"ADMIN",children:r.jsx(ve,{children:r.jsx(o2,{})})})}),r.jsx(te,{path:"/admin/closers",element:r.jsx(he,{requiredRole:"ADMIN",children:r.jsx(ve,{children:r.jsx(m2,{})})})}),r.jsx(te,{path:"/admin/closer-audit",element:r.jsx(he,{requiredRole:"ADMIN",children:r.jsx(ve,{children:r.jsx(h2,{})})})}),r.jsx(te,{path:"/client",element:r.jsx(he,{requiredRole:"CLIENT",children:r.jsx(ve,{children:r.jsx(Ik,{})})})}),r.jsx(te,{path:"/client/invoices",element:r.jsx(he,{requiredRole:"CLIENT",children:r.jsx(ve,{children:r.jsx(Jk,{})})})}),r.jsx(te,{path:"/client/services",element:r.jsx(he,{requiredRole:"CLIENT",children:r.jsx(ve,{children:r.jsx(Zk,{})})})}),r.jsx(te,{path:"/agent",element:r.jsx(he,{requiredRole:"AGENT",children:r.jsx(ve,{children:r.jsx(a2,{})})})}),r.jsx(te,{path:"/agent/performance",element:r.jsx(he,{requiredRole:"AGENT",children:r.jsx(ve,{children:r.jsx(i2,{})})})})]})})})})})})}function f2(){const{user:e}=Tt();return(e==null?void 0:e.role)==="ADMIN"?r.jsx(xs,{to:"/admin",replace:!0}):(e==null?void 0:e.role)==="CLIENT"?r.jsx(xs,{to:"/client",replace:!0}):(e==null?void 0:e.role)==="AGENT"?r.jsx(xs,{to:"/agent",replace:!0}):r.jsx(xs,{to:"/login",replace:!0})}zx(document.getElementById("root")).render(r.jsx(f.StrictMode,{children:r.jsx(x2,{})}));
